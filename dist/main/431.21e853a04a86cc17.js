"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[431],{2431:(ut,p,o)=>{o.r(p),o.d(p,{ATTENDANCE_ROUTE:()=>ht});var f=o(6374),d=o(6695),m=o(2042),u=o(5024),E=o(3726),C=o(4412),D=o(7786),b=o(6354),T=o(9115),k=o(4619),F=o(9183),g=o(6600),h=o(177),r=o(9159),v=o(8173),t=o(4438),j=o(1626);const y=["filter"],x=()=>["Attendance"],_=()=>[5,10,25,100];function S(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Id "),t.k0s())}function R(e,n){if(1&e&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&e){const a=n.$implicit;t.R7$(),t.JRh(a.id)}}function $(e,n){1&e&&(t.j41(0,"mat-header-cell",43),t.EFF(1," Image "),t.k0s()),2&e&&t.Y8G("ngClass","tbl-col-width-per-7")}function N(e,n){if(1&e&&(t.j41(0,"mat-cell",44)(1,"span",45),t.EFF(2,"Image:"),t.k0s(),t.nrm(3,"img",46),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.Y8G("src",a.img,t.B4B)}}function w(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Name "),t.k0s())}function A(e,n){if(1&e&&(t.j41(0,"mat-cell")(1,"span",45),t.EFF(2,"Name:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.SpI(" ",a.name," ")}}function G(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"First In "),t.k0s())}function I(e,n){if(1&e&&(t.j41(0,"mat-cell")(1,"span",45),t.EFF(2,"First In:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.SpI("",a.first_in," ")}}function B(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Break "),t.k0s())}function Y(e,n){if(1&e&&(t.j41(0,"mat-cell")(1,"span",45),t.EFF(2,"Break:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.SpI("",a.break," ")}}function O(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Last Out "),t.k0s())}function M(e,n){if(1&e&&(t.j41(0,"mat-cell")(1,"span",45),t.EFF(2,"Last Out:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.JRh(a.last_out)}}function U(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Total "),t.k0s())}function V(e,n){if(1&e&&(t.j41(0,"mat-cell",47)(1,"span",45),t.EFF(2,"Total:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.SpI("",a.total," ")}}function L(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1," Status "),t.k0s())}function X(e,n){if(1&e&&(t.j41(0,"div")(1,"span",49),t.EFF(2),t.k0s()()),2&e){const a=t.XpG().$implicit;t.R7$(2),t.SpI(" ",a.status,"")}}function H(e,n){if(1&e&&(t.j41(0,"div")(1,"span",50),t.EFF(2),t.k0s()()),2&e){const a=t.XpG().$implicit;t.R7$(2),t.SpI(" ",a.status,"")}}function z(e,n){if(1&e&&(t.j41(0,"mat-cell",48)(1,"span",45),t.EFF(2,"Status:"),t.k0s(),t.DNE(3,X,3,1,"div")(4,H,3,1,"div"),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.vxM(3,"present"===a.status?3:-1),t.R7$(),t.vxM(4,"absent"===a.status?4:-1)}}function J(e,n){1&e&&(t.j41(0,"mat-header-cell",42),t.EFF(1,"Shift "),t.k0s())}function Q(e,n){if(1&e&&(t.j41(0,"mat-cell")(1,"span",45),t.EFF(2,"Shift:"),t.k0s(),t.EFF(3),t.k0s()),2&e){const a=n.$implicit;t.R7$(3),t.SpI("",a.shift," ")}}function P(e,n){1&e&&t.nrm(0,"mat-header-row")}function W(e,n){1&e&&t.nrm(0,"mat-row",51),2&e&&t.xc7("cursor","pointer")}function Z(e,n){1&e&&(t.j41(0,"div",39),t.nrm(1,"mat-progress-spinner",52),t.k0s()),2&e&&(t.R7$(),t.Y8G("diameter",40))}function K(e,n){if(1&e&&(t.j41(0,"div",53),t.EFF(1," No results "),t.k0s()),2&e){const a=t.XpG();t.xc7("display",0===a.dataSource.renderedData.length?"":"none")}}let q=(()=>{class e extends k.U{constructor(a,l){super(),this.httpClient=a,this.todayService=l,this.filterToggle=!1,this.displayedColumns=["img","name","first_in","break","last_out","total","status","shift"],this.selection=new u.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(a){console.log(a)}loadData(){this.exampleDatabase=new f.d(this.httpClient),this.dataSource=new tt(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,E.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#t=this.\u0275fac=function(l){return new(l||e)(t.rXU(j.Qq),t.rXU(f.d))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-today"]],viewQuery:function(l,s){if(1&l&&(t.GBs(d.iy,7),t.GBs(m.B4,7),t.GBs(y,7),t.GBs(T.Cp,5)),2&l){let i;t.mGM(i=t.lsd())&&(s.paginator=i.first),t.mGM(i=t.lsd())&&(s.sort=i.first),t.mGM(i=t.lsd())&&(s.filter=i.first),t.mGM(i=t.lsd())&&(s.contextMenu=i.first)}},standalone:!0,features:[t.Vt3,t.aNF],decls:58,vars:14,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"tabbable-line"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-7",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","first_in"],["matColumnDef","break"],["matColumnDef","last_out"],["matColumnDef","total"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","shift"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-7"],[1,"mobile-label"],[3,"src"],[1,"column-nowrap"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(l,s){1&l&&(t.j41(0,"section",2)(1,"div",3)(2,"div",4),t.nrm(3,"app-breadcrumb",5),t.k0s(),t.j41(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",6)(8,"div",9)(9,"div",10)(10,"div",11)(11,"div",12)(12,"ul",13)(13,"li",14)(14,"h2"),t.EFF(15,"Attendance"),t.k0s()(),t.j41(16,"li",15)(17,"label",16)(18,"i",17),t.EFF(19,"search"),t.k0s()(),t.nrm(20,"input",18,0),t.k0s()()()(),t.j41(22,"div",19)(23,"div",20)(24,"table",21),t.qex(25,22),t.DNE(26,S,2,0,"mat-header-cell",23)(27,R,2,1,"mat-cell",24),t.bVm(),t.qex(28,25),t.DNE(29,$,2,1,"mat-header-cell",26)(30,N,4,1,"mat-cell",27),t.bVm(),t.qex(31,28),t.DNE(32,w,2,0,"mat-header-cell",23)(33,A,4,1,"mat-cell",24),t.bVm(),t.qex(34,29),t.DNE(35,G,2,0,"mat-header-cell",23)(36,I,4,1,"mat-cell",24),t.bVm(),t.qex(37,30),t.DNE(38,B,2,0,"mat-header-cell",23)(39,Y,4,1,"mat-cell",24),t.bVm(),t.qex(40,31),t.DNE(41,O,2,0,"mat-header-cell",23)(42,M,4,1,"mat-cell",24),t.bVm(),t.qex(43,32),t.DNE(44,U,2,0,"mat-header-cell",23)(45,V,4,1,"mat-cell",33),t.bVm(),t.qex(46,34),t.DNE(47,L,2,0,"mat-header-cell",23)(48,z,5,2,"mat-cell",35),t.bVm(),t.qex(49,36),t.DNE(50,J,2,0,"mat-header-cell",23)(51,Q,4,1,"mat-cell",24),t.bVm(),t.DNE(52,P,1,0,"mat-header-row",37)(53,W,1,2,"mat-row",38),t.k0s(),t.DNE(54,Z,2,1,"div",39)(55,K,2,2,"div",40),t.nrm(56,"mat-paginator",41,1),t.k0s()()()()()()()()()()),2&l&&(t.R7$(3),t.Y8G("title","Today Attendance")("items",t.lJ4(12,x))("active_item","Today"),t.R7$(21),t.Y8G("dataSource",s.dataSource),t.R7$(28),t.Y8G("matHeaderRowDef",s.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",s.displayedColumns),t.R7$(),t.vxM(54,null!=s.exampleDatabase&&s.exampleDatabase.isTblLoading?54:-1),t.R7$(),t.vxM(55,null!=s.exampleDatabase&&s.exampleDatabase.isTblLoading?-1:55),t.R7$(),t.Y8G("length",s.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",t.lJ4(13,_)))},dependencies:[v.D,r.tP,r.Zl,r.tL,r.ji,r.cC,r.YV,r.iL,r.KS,r.$R,r.YZ,r.NB,m.NQ,m.B4,m.aE,h.YU,g.pZ,g.r6,F.D6,F.LG,d.Ou,d.iy]})}return e})();class tt extends u.qS{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,l){super(),this.exampleDatabase=n,this.paginator=a,this._sort=l,this.filterChange=new C.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const n=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllTodays(),(0,D.h)(...n).pipe((0,b.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(s=>-1!==(s.name+s.first_in+s.break+s.last_out+s.total+s.status+s.shift).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,l)=>{let s="",i="";switch(this._sort.active){case"id":[s,i]=[a.id,l.id];break;case"name":[s,i]=[a.name,l.name];break;case"first_in":[s,i]=[a.first_in,l.first_in];break;case"break":[s,i]=[a.break,l.break];break;case"last_out":[s,i]=[a.last_out,l.last_out];break;case"total":[s,i]=[a.total,l.total];break;case"status":[s,i]=[a.status,l.status];break;case"shift":[s,i]=[a.shift,l.shift]}return((isNaN(+s)?s:+s)<(isNaN(+i)?i:+i)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}var et=o(2053),c=o(9417),at=o(8834),nt=o(5084),st=o(9631),lt=o(2102),ot=o(2962);const it=()=>["Attendance"];function rt(e,n){if(1&e&&(t.j41(0,"td"),t.nrm(1,"span"),t.k0s()),2&e){const a=n.$implicit,l=t.XpG(2);t.R7$(),t.HbH(l.getAttendanceIcon(a))}}function ct(e,n){if(1&e&&(t.j41(0,"tr")(1,"td")(2,"div",14)(3,"span",15),t.nrm(4,"img",16),t.k0s(),t.j41(5,"div",17)(6,"h6"),t.EFF(7),t.k0s()()()(),t.DNE(8,rt,2,3,"td",13),t.k0s()),2&e){const a=n.$implicit;t.R7$(4),t.FS9("src",a.profileImage,t.B4B),t.R7$(3),t.Lme("",a.firstName," ",a.lastName,""),t.R7$(),t.Y8G("ngForOf",a.attendances)}}const ht=[{path:"today",component:q},{path:"attendance-sheet",component:(()=>{class e{constructor(a){this.calanderS=a,this.users=[],this.monthDates=[],this.attendanceForm=new c.J3({fromDate:new c.hs,toDate:new c.hs})}ngOnInit(){this.getUsersWithAttendances()}getUsersWithAttendances(){this.calanderS.getUsersWithAttendances().subscribe({next:a=>{this.users=a,console.log(a)},error:a=>{console.error("Error fetching users with attendances:",a)}})}getAttendanceIcon(a){switch(a.etat){case"Pending":return"fas fa-adjust col-orange";case"Approved":return"far fa-check-circle text-success";case"Declined":return"far fa-times-circle text-danger";default:return""}}generateMonthDates(){const a=new Date,l=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();this.monthDates=Array.from({length:l},(s,i)=>i+1)}static#t=this.\u0275fac=function(l){return new(l||e)(t.rXU(ot.I))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-attendance-sheet"]],standalone:!0,features:[t.aNF],decls:62,vars:5,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],[1,"body","overflow-auto"],[1,"table","table-bordered","border-bottom"],["role","row"],[1,"border-bottom-0"],[1,"border-bottom-0","cell-dimention"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"attnd-user"],["alt","image",1,"msr-2","rounded-circle",3,"src"],[1,"mt-sm-2"]],template:function(l,s){1&l&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2),t.nrm(3,"app-breadcrumb",3),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t.EFF(9,"Attendance Sheet"),t.k0s()(),t.j41(10,"div",8)(11,"table",9)(12,"thead")(13,"tr",10)(14,"th",11),t.EFF(15," Employee Name"),t.k0s(),t.j41(16,"th",12),t.EFF(17,"1"),t.k0s(),t.j41(18,"th",12),t.EFF(19,"2"),t.k0s(),t.j41(20,"th",12),t.EFF(21,"3"),t.k0s(),t.j41(22,"th",12),t.EFF(23,"4"),t.k0s(),t.j41(24,"th",12),t.EFF(25,"5"),t.k0s(),t.j41(26,"th",12),t.EFF(27,"6"),t.k0s(),t.j41(28,"th",12),t.EFF(29,"7"),t.k0s(),t.j41(30,"th",12),t.EFF(31,"8"),t.k0s(),t.j41(32,"th",12),t.EFF(33,"9"),t.k0s(),t.j41(34,"th",12),t.EFF(35,"10"),t.k0s(),t.j41(36,"th",12),t.EFF(37,"11"),t.k0s(),t.j41(38,"th",12),t.EFF(39,"12"),t.k0s(),t.j41(40,"th",12),t.EFF(41,"13"),t.k0s(),t.j41(42,"th",12),t.EFF(43,"14"),t.k0s(),t.j41(44,"th",12),t.EFF(45,"15"),t.k0s(),t.j41(46,"th",12),t.EFF(47,"16"),t.k0s(),t.j41(48,"th",12),t.EFF(49,"17"),t.k0s(),t.j41(50,"th",12),t.EFF(51,"18"),t.k0s(),t.j41(52,"th",12),t.EFF(53,"19"),t.k0s(),t.j41(54,"th",12),t.EFF(55,"20"),t.k0s(),t.j41(56,"th",12),t.EFF(57,"21"),t.k0s(),t.j41(58,"th",12),t.EFF(59,"22"),t.k0s()()(),t.j41(60,"tbody"),t.DNE(61,ct,9,4,"tr",13),t.k0s()()()()()()()()),2&l&&(t.R7$(3),t.Y8G("title","Attendance Sheet")("items",t.lJ4(4,it))("active_item","Sheet"),t.R7$(58),t.Y8G("ngForOf",s.users))},dependencies:[v.D,c.YN,c.X1,lt.RG,st.fS,nt.X6,at.Hl,h.MD,h.Sq]})}return e})()},{path:"billing",component:o(6649).H},{path:"**",component:et.X}]}}]);