"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[145],{9145:(Ca,Pe,F)=>{F.r(Pe),F.d(Pe,{LEAVE_ROUTE:()=>uy});var At={};F.r(At),F.d(At,{Decoder:()=>cn,Encoder:()=>hc,PacketType:()=>N,protocol:()=>Xa});var ue={};F.r(ue),F.d(ue,{Manager:()=>ri,Socket:()=>hn,connect:()=>je,default:()=>je,io:()=>je,protocol:()=>Xa});var K=F(4412),te=F(4619),r=F(4438),B=F(1626);let j=(()=>{class t extends te.U{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/leave-balance.json",this.isTblLoading=!0,this.dataChange=new K.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:e=>{this.isTblLoading=!1,this.dataChange.next(e)},error:e=>{this.isTblLoading=!1,console.log(e.name+" "+e.message)}})}static#e=this.\u0275fac=function(n){return new(n||t)(r.KVO(B.Qq))};static#t=this.\u0275prov=r.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var L=F(6695),S=F(2042),H=F(5024),V=F(3726),ie=F(7786),Be=F(6354),se=F(9115),Xe=F(9183),ot=F(6600),q=F(177),G=F(9159),Zt=F(8173),Ui=F(5351),ji=F(5416);const jo=["filter"],qo=()=>["Leaves"],Qo=()=>[5,10,25,100];function Zo(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Id "),r.k0s())}function Ko(t,i){if(1&t&&(r.j41(0,"mat-cell"),r.EFF(1),r.k0s()),2&t){const e=i.$implicit;r.R7$(),r.JRh(e.id)}}function Jo(t,i){1&t&&(r.j41(0,"mat-header-cell",42),r.EFF(1," Image "),r.k0s()),2&t&&r.Y8G("ngClass","tbl-col-width-per-7")}function el(t,i){if(1&t&&(r.j41(0,"mat-cell",43)(1,"span",44),r.EFF(2,"Image:"),r.k0s(),r.nrm(3,"img",45),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.Y8G("src",e.img,r.B4B)}}function tl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Name "),r.k0s())}function il(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Name:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.name," ")}}function nl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Previous Year "),r.k0s())}function al(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Previous Year:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.prev," ")}}function sl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Current Year "),r.k0s())}function rl(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Current Year:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.current," ")}}function ol(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Total "),r.k0s())}function ll(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Total:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.JRh(e.total)}}function cl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Used "),r.k0s())}function hl(t,i){if(1&t&&(r.j41(0,"mat-cell",46)(1,"span",44),r.EFF(2,"Used:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.used," ")}}function dl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Accepted "),r.k0s())}function ul(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Accepted:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.accepted," ")}}function ml(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Rejected "),r.k0s())}function pl(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Rejected:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.rejected," ")}}function gl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Expired "),r.k0s())}function fl(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Expired:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.expired," ")}}function xl(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Carry Over "),r.k0s())}function _l(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",44),r.EFF(2,"Carry Over:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.carryOver," ")}}function vl(t,i){1&t&&r.nrm(0,"mat-header-row")}function yl(t,i){1&t&&r.nrm(0,"mat-row",47),2&t&&r.xc7("cursor","pointer")}function Cl(t,i){1&t&&(r.j41(0,"div",38),r.nrm(1,"mat-progress-spinner",48),r.k0s()),2&t&&(r.R7$(),r.Y8G("diameter",40))}function bl(t,i){if(1&t&&(r.j41(0,"div",49),r.EFF(1," No results "),r.k0s()),2&t){const e=r.XpG();r.xc7("display",0===e.dataSource.renderedData.length?"":"none")}}let Tl=(()=>{class t extends te.U{constructor(e,n,a,s){super(),this.httpClient=e,this.dialog=n,this.leavesService=a,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["img","name","prev","current","total","used","accepted","rejected","expired","carryOver"],this.selection=new H.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(e){console.log(e)}loadData(){this.exampleDatabase=new j(this.httpClient),this.dataSource=new Sl(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,V.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(n){return new(n||t)(r.rXU(B.Qq),r.rXU(Ui.bZ),r.rXU(j),r.rXU(ji.UG))};static#t=this.\u0275cmp=r.VBU({type:t,selectors:[["app-leave-balance"]],viewQuery:function(n,a){if(1&n&&(r.GBs(L.iy,7),r.GBs(S.B4,7),r.GBs(jo,7),r.GBs(se.Cp,5)),2&n){let s;r.mGM(s=r.lsd())&&(a.paginator=s.first),r.mGM(s=r.lsd())&&(a.sort=s.first),r.mGM(s=r.lsd())&&(a.filter=s.first),r.mGM(s=r.lsd())&&(a.contextMenu=s.first)}},standalone:!0,features:[r.Vt3,r.aNF],decls:61,vars:14,consts:[["filter",""],["paginator",""],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","img"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-7",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","prev"],["matColumnDef","current"],["matColumnDef","total"],["matColumnDef","used"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","accepted"],["matColumnDef","rejected"],["matColumnDef","expired"],["matColumnDef","carryOver"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-7"],[1,"mobile-label"],[3,"src"],[1,"column-nowrap"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,a){1&n&&(r.j41(0,"section",2)(1,"div",3)(2,"div",4),r.nrm(3,"app-breadcrumb",5),r.k0s(),r.j41(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10)(9,"ul",11)(10,"li",12)(11,"h2"),r.EFF(12,"Leave Balance"),r.k0s()(),r.j41(13,"li",13)(14,"label",14)(15,"i",15),r.EFF(16,"search"),r.k0s()(),r.nrm(17,"input",16,0),r.k0s()()()(),r.j41(19,"div",17)(20,"div",18)(21,"table",19),r.qex(22,20),r.DNE(23,Zo,2,0,"mat-header-cell",21)(24,Ko,2,1,"mat-cell",22),r.bVm(),r.qex(25,23),r.DNE(26,Jo,2,1,"mat-header-cell",24)(27,el,4,1,"mat-cell",25),r.bVm(),r.qex(28,26),r.DNE(29,tl,2,0,"mat-header-cell",21)(30,il,4,1,"mat-cell",22),r.bVm(),r.qex(31,27),r.DNE(32,nl,2,0,"mat-header-cell",21)(33,al,4,1,"mat-cell",22),r.bVm(),r.qex(34,28),r.DNE(35,sl,2,0,"mat-header-cell",21)(36,rl,4,1,"mat-cell",22),r.bVm(),r.qex(37,29),r.DNE(38,ol,2,0,"mat-header-cell",21)(39,ll,4,1,"mat-cell",22),r.bVm(),r.qex(40,30),r.DNE(41,cl,2,0,"mat-header-cell",21)(42,hl,4,1,"mat-cell",31),r.bVm(),r.qex(43,32),r.DNE(44,dl,2,0,"mat-header-cell",21)(45,ul,4,1,"mat-cell",22),r.bVm(),r.qex(46,33),r.DNE(47,ml,2,0,"mat-header-cell",21)(48,pl,4,1,"mat-cell",22),r.bVm(),r.qex(49,34),r.DNE(50,gl,2,0,"mat-header-cell",21)(51,fl,4,1,"mat-cell",22),r.bVm(),r.qex(52,35),r.DNE(53,xl,2,0,"mat-header-cell",21)(54,_l,4,1,"mat-cell",22),r.bVm(),r.DNE(55,vl,1,0,"mat-header-row",36)(56,yl,1,2,"mat-row",37),r.k0s(),r.DNE(57,Cl,2,1,"div",38)(58,bl,2,2,"div",39),r.nrm(59,"mat-paginator",40,1),r.k0s()()()()()()()),2&n&&(r.R7$(3),r.Y8G("title","Leave Balance")("items",r.lJ4(12,qo))("active_item","Leave Balance"),r.R7$(18),r.Y8G("dataSource",a.dataSource),r.R7$(34),r.Y8G("matHeaderRowDef",a.displayedColumns),r.R7$(),r.Y8G("matRowDefColumns",a.displayedColumns),r.R7$(),r.vxM(57,null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading?57:-1),r.R7$(),r.vxM(58,null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading?-1:58),r.R7$(),r.Y8G("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",r.lJ4(13,Qo)))},dependencies:[Zt.D,G.tP,G.Zl,G.tL,G.ji,G.cC,G.YV,G.iL,G.KS,G.$R,G.YZ,G.NB,S.NQ,S.B4,S.aE,q.YU,ot.pZ,ot.r6,Xe.D6,Xe.LG,L.Ou,L.iy]})}return t})();class Sl extends H.qS{get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}constructor(i,e,n){super(),this.exampleDatabase=i,this.paginator=e,this._sort=n,this.filterChange=new K.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const i=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,ie.h)(...i).pipe((0,Be.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(a=>-1!==a.name.toLowerCase().indexOf(this.filter.toLowerCase()));const e=this.sortData(this.filteredData.slice());return this.renderedData=e.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((e,n)=>{let a="",s="";switch(this._sort.active){case"id":[a,s]=[e.id,n.id];break;case"name":[a,s]=[e.name,n.name];break;case"total":[a,s]=[e.total,n.total];break;case"used":[a,s]=[e.used,n.used];break;case"accepted":[a,s]=[e.accepted,n.accepted]}return((isNaN(+a)?a:+a)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}let qi=(()=>{class t extends te.U{constructor(e){super(),this.httpClient=e,this.API_URL="http://localhost:3000/Conge",this.isTblLoading=!0,this.dataChange=new K.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}addLeaves(e){this.dialogData=e}refuserDemandeConge(e){return this.httpClient.put(this.API_URL+"/"+e+"/refus",null)}accepterDemandeConge(e){return this.httpClient.put(this.API_URL+"/approve/"+e+"/accept",null)}updateLeaves(e){this.dialogData=e}deleteLeaves(e){console.log(e)}getAllUserswithconge(){return this.httpClient.get(this.API_URL+"/leaves")}static#e=this.\u0275fac=function(n){return new(n||t)(r.KVO(B.Qq))};static#t=this.\u0275prov=r.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var wl=F(5558),ba=F(2765),Dt=F(9213),Et=F(8834),Ta=F(4823),Sa=F(1985),kl=F(7647);const Ve=Object.create(null);Ve.open="0",Ve.close="1",Ve.ping="2",Ve.pong="3",Ve.message="4",Ve.upgrade="5",Ve.noop="6";const Kt=Object.create(null);Object.keys(Ve).forEach(t=>{Kt[Ve[t]]=t});const Qi={type:"error",data:"parser error"},wa="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ka="function"==typeof ArrayBuffer,La=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Zi=({type:t,data:i},e,n)=>wa&&i instanceof Blob?e?n(i):Aa(i,n):ka&&(i instanceof ArrayBuffer||La(i))?e?n(i):Aa(new Blob([i]),n):n(Ve[t]+(i||"")),Aa=(t,i)=>{const e=new FileReader;return e.onload=function(){const n=e.result.split(",")[1];i("b"+(n||""))},e.readAsDataURL(t)};function Da(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ki;const Ft=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<64;t++)Ft["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;const Dl="function"==typeof ArrayBuffer,Ji=(t,i)=>{if("string"!=typeof t)return{type:"message",data:Ea(t,i)};const e=t.charAt(0);return"b"===e?{type:"message",data:El(t.substring(1),i)}:Kt[e]?t.length>1?{type:Kt[e],data:t.substring(1)}:{type:Kt[e]}:Qi},El=(t,i)=>{if(Dl){const e=(t=>{let n,s,o,l,c,i=.75*t.length,e=t.length,a=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);const h=new ArrayBuffer(i),d=new Uint8Array(h);for(n=0;n<e;n+=4)s=Ft[t.charCodeAt(n)],o=Ft[t.charCodeAt(n+1)],l=Ft[t.charCodeAt(n+2)],c=Ft[t.charCodeAt(n+3)],d[a++]=s<<2|o>>4,d[a++]=(15&o)<<4|l>>2,d[a++]=(3&l)<<6|63&c;return h})(t);return Ea(e,i)}return{base64:!0,data:t}},Ea=(t,i)=>"blob"===i?t instanceof Blob?t:new Blob([t]):t instanceof ArrayBuffer?t:t.buffer;let en;function Jt(t){return t.reduce((i,e)=>i+e.length,0)}function ei(t,i){if(t[0].length===i)return t.shift();const e=new Uint8Array(i);let n=0;for(let a=0;a<i;a++)e[a]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),e}function le(t){if(t)return function Vl(t){for(var i in le.prototype)t[i]=le.prototype[i];return t}(t)}le.prototype.on=le.prototype.addEventListener=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(i),this},le.prototype.once=function(t,i){function e(){this.off(t,e),i.apply(this,arguments)}return e.fn=i,this.on(t,e),this},le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(t,i){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+t];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var n,a=0;a<e.length;a++)if((n=e[a])===i||n.fn===i){e.splice(a,1);break}return 0===e.length&&delete this._callbacks["$"+t],this},le.prototype.emitReserved=le.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),e=this._callbacks["$"+t],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(e){n=0;for(var a=(e=e.slice(0)).length;n<a;++n)e[n].apply(this,i)}return this},le.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},le.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Le=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Ra(t,...i){return i.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}const Il=Le.setTimeout,Ol=Le.clearTimeout;function ti(t,i){i.useNativeTimers?(t.setTimeoutFn=Il.bind(Le),t.clearTimeoutFn=Ol.bind(Le)):(t.setTimeoutFn=Le.setTimeout.bind(Le),t.clearTimeoutFn=Le.clearTimeout.bind(Le))}function Nl(t){return"string"==typeof t?function Hl(t){let i=0,e=0;for(let n=0,a=t.length;n<a;n++)i=t.charCodeAt(n),i<128?e+=1:i<2048?e+=2:i<55296||i>=57344?e+=3:(n++,e+=4);return e}(t):Math.ceil(1.33*(t.byteLength||t.size))}class zl extends Error{constructor(i,e,n){super(i),this.description=e,this.context=n,this.type="TransportError"}}class tn extends le{constructor(i){super(),this.writable=!1,ti(this,i),this.opts=i,this.query=i.query,this.socket=i.socket}onError(i,e,n){return super.emitReserved("error",new zl(i,e,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(i){"open"===this.readyState&&this.write(i)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(i){const e=Ji(i,this.socket.binaryType);this.onPacket(e)}onPacket(i){super.emitReserved("packet",i)}onClose(i){this.readyState="closed",super.emitReserved("close",i)}pause(i){}createUri(i,e={}){return i+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const i=this.opts.hostname;return-1===i.indexOf(":")?i:"["+i+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(i){const e=function Gl(t){let i="";for(let e in t)t.hasOwnProperty(e)&&(i.length&&(i+="&"),i+=encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return i}(i);return e.length?"?"+e:""}}const Ba="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),ii=64,Va={};let Oa,Ia=0,Ue=0;function Pa(t){let i="";do{i=Ba[t%ii]+i,t=Math.floor(t/ii)}while(t>0);return i}function Na(){const t=Pa(+new Date);return t!==Oa?(Ia=0,Oa=t):t+"."+Pa(Ia++)}for(;Ue<ii;Ue++)Va[Ba[Ue]]=Ue;let Ha=!1;try{Ha=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Wl=Ha;function Ga(t){const i=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!i||Wl))return new XMLHttpRequest}catch{}if(!i)try{return new(Le[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function Yl(){}const Xl=null!=new Ga({xdomain:!1}).responseType;let ni=(()=>{class t extends le{constructor(e,n){super(),ti(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.data=void 0!==n.data?n.data:null,this.create()}create(){var e;const n=Ra(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const a=this.xhr=new Ga(n);try{a.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&a.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if("POST"===this.method)try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(a),"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=()=>{var s;3===a.readyState&&(null===(s=this.opts.cookieJar)||void 0===s||s.parseCookies(a)),4===a.readyState&&(200===a.status||1223===a.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof a.status?a.status:0)},0))},a.send(this.data)}catch(s){return void this.setTimeoutFn(()=>{this.onError(s)},0)}typeof document<"u"&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=Yl,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();function $a(){for(let t in ni.requests)ni.requests.hasOwnProperty(t)&&ni.requests[t].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",$a):"function"==typeof addEventListener&&addEventListener("onpagehide"in Le?"pagehide":"unload",$a,!1));const nn="function"==typeof Promise&&"function"==typeof Promise.resolve?i=>Promise.resolve().then(i):(i,e)=>e(i,0),ai=Le.WebSocket||Le.MozWebSocket,za=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Zl={websocket:class ql extends tn{constructor(i){super(i),this.supportsBinary=!i.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const i=this.uri(),e=this.opts.protocols,n=za?{}:Ra(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=za?new ai(i,e,n):e?new ai(i,e):new ai(i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=i=>this.onClose({description:"websocket connection closed",context:i}),this.ws.onmessage=i=>this.onData(i.data),this.ws.onerror=i=>this.onError("websocket error",i)}write(i){this.writable=!1;for(let e=0;e<i.length;e++){const a=e===i.length-1;Zi(i[e],this.supportsBinary,s=>{try{this.ws.send(s)}catch{}a&&nn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const i=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Na()),this.supportsBinary||(e.b64=1),this.createUri(i,e)}check(){return!!ai}},webtransport:class Ql extends tn{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(i=>{this.onError("webtransport error",i)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(i=>{const e=function Bl(t,i){en||(en=new TextDecoder);const e=[];let n=0,a=-1,s=!1;return new TransformStream({transform(o,l){for(e.push(o);;){if(0===n){if(Jt(e)<1)break;const c=ei(e,1);s=!(128&~c[0]),a=127&c[0],n=a<126?3:126===a?1:2}else if(1===n){if(Jt(e)<2)break;const c=ei(e,2);a=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(2===n){if(Jt(e)<8)break;const c=ei(e,8),h=new DataView(c.buffer,c.byteOffset,c.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(Qi);break}a=d*Math.pow(2,32)+h.getUint32(4),n=3}else{if(Jt(e)<a)break;const c=ei(e,a);l.enqueue(Ji(s?c:en.decode(c),i)),n=0}if(0===a||a>t){l.enqueue(Qi);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=i.readable.pipeThrough(e).getReader(),a=function Rl(){return new TransformStream({transform(t,i){!function Ll(t,i){wa&&t.data instanceof Blob?t.data.arrayBuffer().then(Da).then(i):ka&&(t.data instanceof ArrayBuffer||La(t.data))?i(Da(t.data)):Zi(t,!1,e=>{Ki||(Ki=new TextEncoder),i(Ki.encode(e))})}(t,e=>{const n=e.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const s=new DataView(a.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{a=new Uint8Array(9);const s=new DataView(a.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&"string"!=typeof t.data&&(a[0]|=128),i.enqueue(a),i.enqueue(e)})}})}();a.readable.pipeTo(i.writable),this.writer=a.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(i){this.writable=!1;for(let e=0;e<i.length;e++){const a=e===i.length-1;this.writer.write(i[e]).then(()=>{a&&nn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var i;null===(i=this.transport)||void 0===i||i.close()}},polling:class Ul extends tn{constructor(i){if(super(i),this.polling=!1,typeof location<"u"){const n="https:"===location.protocol;let a=location.port;a||(a=n?"443":"80"),this.xd=typeof location<"u"&&i.hostname!==location.hostname||a!==i.port}this.supportsBinary=Xl&&!(i&&i.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(i){this.readyState="pausing";const e=()=>{this.readyState="paused",i()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||e()})),this.writable||(n++,this.once("drain",function(){--n||e()}))}else e()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(i){((t,i)=>{const e=t.split("\x1e"),n=[];for(let a=0;a<e.length;a++){const s=Ji(e[a],i);if(n.push(s),"error"===s.type)break}return n})(i,this.socket.binaryType).forEach(n=>{if("opening"===this.readyState&&"open"===n.type&&this.onOpen(),"close"===n.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const i=()=>{this.write([{type:"close"}])};"open"===this.readyState?i():this.once("open",i)}write(i){this.writable=!1,((t,i)=>{const e=t.length,n=new Array(e);let a=0;t.forEach((s,o)=>{Zi(s,!1,l=>{n[o]=l,++a===e&&i(n.join("\x1e"))})})})(i,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const i=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Na()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(i,e)}request(i={}){return Object.assign(i,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ni(this.uri(),i)}doWrite(i,e){const n=this.request({method:"POST",data:i});n.on("success",e),n.on("error",(a,s)=>{this.onError("xhr post error",a,s)})}doPoll(){const i=this.request();i.on("data",this.onData.bind(this)),i.on("error",(e,n)=>{this.onError("xhr poll error",e,n)}),this.pollXhr=i}}},Kl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Jl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function sn(t){if(t.length>2e3)throw"URI too long";const i=t,e=t.indexOf("["),n=t.indexOf("]");-1!=e&&-1!=n&&(t=t.substring(0,e)+t.substring(e,n).replace(/:/g,";")+t.substring(n,t.length));let a=Kl.exec(t||""),s={},o=14;for(;o--;)s[Jl[o]]=a[o]||"";return-1!=e&&-1!=n&&(s.source=i,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function ec(t,i){const n=i.replace(/\/{2,9}/g,"/").split("/");return("/"==i.slice(0,1)||0===i.length)&&n.splice(0,1),"/"==i.slice(-1)&&n.splice(n.length-1,1),n}(0,s.path),s.queryKey=function tc(t,i){const e={};return i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,s){a&&(e[a]=s)}),e}(0,s.query),s}let Wa=(()=>{class t extends le{constructor(e,n={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(n=e,e=null),e?(e=sn(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=sn(n.host).host),ti(this,n),this.secure=null!=n.secure?n.secure:typeof location<"u"&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function $l(t){let i={},e=t.split("&");for(let n=0,a=e.length;n<a;n++){let s=e[n].split("=");i[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return i}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=4,n.transport=e,this.id&&(n.sid=this.id);const a=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Zl[e](a)}open(){let e;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(e){let n=this.createTransport(e),a=!1;t.priorWebsocketSuccess=!1;const s=()=>{a||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!a)if("pong"===p.type&&"probe"===p.data){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;t.priorWebsocketSuccess="websocket"===n.name,this.transport.pause(()=>{a||"closed"!==this.readyState&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function o(){a||(a=!0,u(),n.close(),n=null)}const l=p=>{const f=new Error("probe error: "+p);f.transport=n.name,o(),this.emitReserved("upgradeError",f)};function c(){l("transport closed")}function h(){l("socket closed")}function d(p){n&&p.name!==n.name&&o()}const u=()=>{n.removeListener("open",s),n.removeListener("error",l),n.removeListener("close",c),this.off("close",h),this.off("upgrading",d)};n.once("open",s),n.once("error",l),n.once("close",c),this.once("close",h),this.once("upgrading",d),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{a||n.open()},200):n.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let a=0;a<this.writeBuffer.length;a++){const s=this.writeBuffer[a].data;if(s&&(n+=Nl(s)),a>0&&n>this.maxPayload)return this.writeBuffer.slice(0,a);n+=2}return this.writeBuffer}write(e,n,a){return this.sendPacket("message",e,n,a),this}send(e,n,a){return this.sendPacket("message",e,n,a),this}sendPacket(e,n,a,s){if("function"==typeof n&&(s=n,n=void 0),"function"==typeof a&&(s=a,a=null),"closing"===this.readyState||"closed"===this.readyState)return;(a=a||{}).compress=!1!==a.compress;const o={type:e,data:n,options:a};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},a=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():e()}):this.upgrading?a():e()),this}onError(e){t.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let a=0;const s=e.length;for(;a<s;a++)~this.transports.indexOf(e[a])&&n.push(e[a]);return n}}return t.protocol=4,t})();const nc="function"==typeof ArrayBuffer,ac=t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Ya=Object.prototype.toString,sc="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Ya.call(Blob),rc="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===Ya.call(File);function rn(t){return nc&&(t instanceof ArrayBuffer||ac(t))||sc&&t instanceof Blob||rc&&t instanceof File}function si(t,i){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let e=0,n=t.length;e<n;e++)if(si(t[e]))return!0;return!1}if(rn(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return si(t.toJSON(),!0);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&si(t[e]))return!0;return!1}function oc(t){const i=[],n=t;return n.data=on(t.data,i),n.attachments=i.length,{packet:n,buffers:i}}function on(t,i){if(!t)return t;if(rn(t)){const e={_placeholder:!0,num:i.length};return i.push(t),e}if(Array.isArray(t)){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=on(t[n],i);return e}if("object"==typeof t&&!(t instanceof Date)){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=on(t[n],i));return e}return t}function lc(t,i){return t.data=ln(t.data,i),delete t.attachments,t}function ln(t,i){if(!t)return t;if(t&&!0===t._placeholder){if("number"==typeof t.num&&t.num>=0&&t.num<i.length)return i[t.num];throw new Error("illegal attachments")}if(Array.isArray(t))for(let e=0;e<t.length;e++)t[e]=ln(t[e],i);else if("object"==typeof t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=ln(t[e],i));return t}const cc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xa=5;var N=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(N||{});class hc{constructor(i){this.replacer=i}encode(i){return i.type!==N.EVENT&&i.type!==N.ACK||!si(i)?[this.encodeAsString(i)]:this.encodeAsBinary({type:i.type===N.EVENT?N.BINARY_EVENT:N.BINARY_ACK,nsp:i.nsp,data:i.data,id:i.id})}encodeAsString(i){let e=""+i.type;return(i.type===N.BINARY_EVENT||i.type===N.BINARY_ACK)&&(e+=i.attachments+"-"),i.nsp&&"/"!==i.nsp&&(e+=i.nsp+","),null!=i.id&&(e+=i.id),null!=i.data&&(e+=JSON.stringify(i.data,this.replacer)),e}encodeAsBinary(i){const e=oc(i),n=this.encodeAsString(e.packet),a=e.buffers;return a.unshift(n),a}}function Ua(t){return"[object Object]"===Object.prototype.toString.call(t)}class cn extends le{constructor(i){super(),this.reviver=i}add(i){let e;if("string"==typeof i){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(i);const n=e.type===N.BINARY_EVENT;n||e.type===N.BINARY_ACK?(e.type=n?N.EVENT:N.ACK,this.reconstructor=new dc(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!rn(i)&&!i.base64)throw new Error("Unknown type: "+i);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(i),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(i){let e=0;const n={type:Number(i.charAt(0))};if(void 0===N[n.type])throw new Error("unknown packet type "+n.type);if(n.type===N.BINARY_EVENT||n.type===N.BINARY_ACK){const s=e+1;for(;"-"!==i.charAt(++e)&&e!=i.length;);const o=i.substring(s,e);if(o!=Number(o)||"-"!==i.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===i.charAt(e+1)){const s=e+1;for(;++e&&","!==i.charAt(e)&&e!==i.length;);n.nsp=i.substring(s,e)}else n.nsp="/";const a=i.charAt(e+1);if(""!==a&&Number(a)==a){const s=e+1;for(;++e;){const o=i.charAt(e);if(null==o||Number(o)!=o){--e;break}if(e===i.length)break}n.id=Number(i.substring(s,e+1))}if(i.charAt(++e)){const s=this.tryParse(i.substr(e));if(!cn.isPayloadValid(n.type,s))throw new Error("invalid payload");n.data=s}return n}tryParse(i){try{return JSON.parse(i,this.reviver)}catch{return!1}}static isPayloadValid(i,e){switch(i){case N.CONNECT:return Ua(e);case N.DISCONNECT:return void 0===e;case N.CONNECT_ERROR:return"string"==typeof e||Ua(e);case N.EVENT:case N.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===cc.indexOf(e[0]));case N.ACK:case N.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class dc{constructor(i){this.packet=i,this.buffers=[],this.reconPack=i}takeBinaryData(i){if(this.buffers.push(i),this.buffers.length===this.reconPack.attachments){const e=lc(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function De(t,i,e){return t.on(i,e),function(){t.off(i,e)}}const uc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hn extends le{constructor(i,e,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=i,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const i=this.io;this.subs=[De(i,"open",this.onopen.bind(this)),De(i,"packet",this.onpacket.bind(this)),De(i,"error",this.onerror.bind(this)),De(i,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...i){return i.unshift("message"),this.emit.apply(this,i),this}emit(i,...e){if(uc.hasOwnProperty(i))throw new Error('"'+i.toString()+'" is a reserved event name');if(e.unshift(i),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const n={type:N.EVENT,data:e,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const o=this.ids++,l=e.pop();this._registerAckCallback(o,l),n.id=o}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(i,e){var n;const a=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===a)return void(this.acks[i]=e);const s=this.io.setTimeoutFn(()=>{delete this.acks[i];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===i&&this.sendBuffer.splice(l,1);e.call(this,new Error("operation has timed out"))},a),o=(...l)=>{this.io.clearTimeoutFn(s),e.apply(this,l)};o.withError=!0,this.acks[i]=o}emitWithAck(i,...e){return new Promise((n,a)=>{const s=(o,l)=>o?a(o):n(l);s.withError=!0,e.push(s),this.emit(i,...e)})}_addToQueue(i){let e;"function"==typeof i[i.length-1]&&(e=i.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:i,flags:Object.assign({fromQueue:!0},this.flags)};i.push((a,...s)=>n!==this._queue[0]?void 0:(null!==a?n.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(a)):(this._queue.shift(),e&&e(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(i=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!i||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(i){i.nsp=this.nsp,this.io._packet(i)}onopen(){"function"==typeof this.auth?this.auth(i=>{this._sendConnectPacket(i)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(i){this.packet({type:N.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},i):i})}onerror(i){this.connected||this.emitReserved("connect_error",i)}onclose(i,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",i,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(i=>{if(!this.sendBuffer.some(n=>String(n.id)===i)){const n=this.acks[i];delete this.acks[i],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(i){if(i.nsp===this.nsp)switch(i.type){case N.CONNECT:i.data&&i.data.sid?this.onconnect(i.data.sid,i.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case N.EVENT:case N.BINARY_EVENT:this.onevent(i);break;case N.ACK:case N.BINARY_ACK:this.onack(i);break;case N.DISCONNECT:this.ondisconnect();break;case N.CONNECT_ERROR:this.destroy();const n=new Error(i.data.message);n.data=i.data.data,this.emitReserved("connect_error",n)}}onevent(i){const e=i.data||[];null!=i.id&&e.push(this.ack(i.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(i){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,i)}super.emit.apply(this,i),this._pid&&i.length&&"string"==typeof i[i.length-1]&&(this._lastOffset=i[i.length-1])}ack(i){const e=this;let n=!1;return function(...a){n||(n=!0,e.packet({type:N.ACK,id:i,data:a}))}}onack(i){const e=this.acks[i.id];"function"==typeof e&&(delete this.acks[i.id],e.withError&&i.data.unshift(null),e.apply(this,i.data))}onconnect(i,e){this.id=i,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(i=>this.emitEvent(i)),this.receiveBuffer=[],this.sendBuffer.forEach(i=>{this.notifyOutgoingListeners(i),this.packet(i)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(i=>i()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:N.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(i){return this.flags.compress=i,this}get volatile(){return this.flags.volatile=!0,this}timeout(i){return this.flags.timeout=i,this}onAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(i),this}prependAny(i){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(i),this}offAny(i){if(!this._anyListeners)return this;if(i){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(i===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(i),this}prependAnyOutgoing(i){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(i),this}offAnyOutgoing(i){if(!this._anyOutgoingListeners)return this;if(i){const e=this._anyOutgoingListeners;for(let n=0;n<e.length;n++)if(i===e[n])return e.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(i){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const n of e)n.apply(this,i.data)}}}function ct(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ct.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),e=Math.floor(i*this.jitter*t);t=1&Math.floor(10*i)?t+e:t-e}return 0|Math.min(t,this.max)},ct.prototype.reset=function(){this.attempts=0},ct.prototype.setMin=function(t){this.ms=t},ct.prototype.setMax=function(t){this.max=t},ct.prototype.setJitter=function(t){this.jitter=t};class ri extends le{constructor(i,e){var n;super(),this.nsps={},this.subs=[],i&&"object"==typeof i&&(e=i,i=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,ti(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new ct({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=i;const a=e.parser||At;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(i){return arguments.length?(this._reconnection=!!i,this):this._reconnection}reconnectionAttempts(i){return void 0===i?this._reconnectionAttempts:(this._reconnectionAttempts=i,this)}reconnectionDelay(i){var e;return void 0===i?this._reconnectionDelay:(this._reconnectionDelay=i,null===(e=this.backoff)||void 0===e||e.setMin(i),this)}randomizationFactor(i){var e;return void 0===i?this._randomizationFactor:(this._randomizationFactor=i,null===(e=this.backoff)||void 0===e||e.setJitter(i),this)}reconnectionDelayMax(i){var e;return void 0===i?this._reconnectionDelayMax:(this._reconnectionDelayMax=i,null===(e=this.backoff)||void 0===e||e.setMax(i),this)}timeout(i){return arguments.length?(this._timeout=i,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(i){if(~this._readyState.indexOf("open"))return this;this.engine=new Wa(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=De(e,"open",function(){n.onopen(),i&&i()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),i?i(l):this.maybeReconnectOnOpen()},o=De(e,"error",s);if(!1!==this._timeout){const c=this.setTimeoutFn(()=>{a(),s(new Error("timeout")),e.close()},this._timeout);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(a),this.subs.push(o),this}connect(i){return this.open(i)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const i=this.engine;this.subs.push(De(i,"ping",this.onping.bind(this)),De(i,"data",this.ondata.bind(this)),De(i,"error",this.onerror.bind(this)),De(i,"close",this.onclose.bind(this)),De(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(i){try{this.decoder.add(i)}catch(e){this.onclose("parse error",e)}}ondecoded(i){nn(()=>{this.emitReserved("packet",i)},this.setTimeoutFn)}onerror(i){this.emitReserved("error",i)}socket(i,e){let n=this.nsps[i];return n?this._autoConnect&&!n.active&&n.connect():(n=new hn(this,i,e),this.nsps[i]=n),n}_destroy(i){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(i){const e=this.encoder.encode(i);for(let n=0;n<e.length;n++)this.engine.write(e[n],i.options)}cleanup(){this.subs.forEach(i=>i()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(i,e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",i,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const i=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{i.skipReconnect||(this.emitReserved("reconnect_attempt",i.backoff.attempts),!i.skipReconnect&&i.open(a=>{a?(i._reconnecting=!1,i.reconnect(),this.emitReserved("reconnect_error",a)):i.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const i=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",i)}}const Mt={};function je(t,i){"object"==typeof t&&(i=t,t=void 0);const e=function ic(t,i="",e){let n=t;e=e||typeof location<"u"&&location,null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(t=typeof e<"u"?e.protocol+"//"+t:"https://"+t),n=sn(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+i,n.href=n.protocol+"://"+s+(e&&e.port===n.port?"":":"+n.port),n}(t,(i=i||{}).path||"/socket.io"),n=e.source,a=e.id;let c;return i.forceNew||i["force new connection"]||!1===i.multiplex||Mt[a]&&e.path in Mt[a].nsps?c=new ri(n,i):(Mt[a]||(Mt[a]=new ri(n,i)),c=Mt[a]),e.query&&!i.query&&(i.query=e.queryKey),c.socket(e.path,i)}Object.assign(je,{Manager:ri,Socket:hn,io:je,connect:je});class ja{config;subscribersCounter={};eventObservables$={};ioSocket;emptyConfig={url:"",options:{}};constructor(i){this.config=i,void 0===i&&(i=this.emptyConfig),this.ioSocket=(je||ue)(i.url,i.options)}of(i){this.ioSocket.of(i)}on(i,e){this.ioSocket.on(i,e)}once(i,e){this.ioSocket.once(i,e)}connect(i){return this.ioSocket.connect(i)}disconnect(i){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(i,...e){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(i,e){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(i){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(i){return this.subscribersCounter[i]||(this.subscribersCounter[i]=0),this.subscribersCounter[i]++,this.eventObservables$[i]||(this.eventObservables$[i]=new Sa.c(e=>{const n=a=>{e.next(a)};return this.ioSocket.on(i,n),()=>{this.subscribersCounter[i]--,0===this.subscribersCounter[i]&&(this.ioSocket.removeListener(i,n),delete this.eventObservables$[i])}}).pipe((0,kl.u)())),this.eventObservables$[i]}fromOneTimeEvent(i){return new Promise(e=>this.once(i,e))}listeners(i){return this.ioSocket.listeners(i)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(i,e){return i?i&&!e?this.ioSocket.off(i):this.ioSocket.off(i,e):this.ioSocket.offAny()}onAny(i){return this.ioSocket.onAny(i)}onAnyOutgoing(i){return this.ioSocket.onAnyOutgoing(i)}prependAny(i){return this.ioSocket.prependAny(i)}prependAnyOutgoing(i){return this.ioSocket.prependAnyOutgoing(i)}timeout(i){return this.ioSocket.timeout(i)}volatile(){return this.ioSocket.volatile}}function mc(t){return new ja(t)}const qa=new r.nKC("__SOCKET_IO_CONFIG__");let pc=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[{provide:qa,useValue:e},{provide:ja,useFactory:mc,deps:[qa]}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=r.$C({type:t});static \u0275inj=r.G2t({})}return t})();var gc=F(9417),fc=F(1413);let xc=(()=>{class t{constructor(){this.uri="ws://localhost:3000",this.messageSentSubject=new fc.B}sendMessage(e){this.socket.emit("message",e)}receiveMessage(){return new Sa.c(e=>{this.socket.on("message",n=>{e.next(n)})})}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=r.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const _c=["filter"],vc=()=>["Leaves"],yc=()=>[5,10,25,100];function Cc(t,i){if(1&t){const e=r.RV6();r.j41(0,"mat-header-cell",47)(1,"mat-checkbox",48),r.bIt("change",function(a){r.eBV(e);const s=r.XpG();return r.Njj(a?s.masterToggle():null)}),r.k0s()()}if(2&t){const e=r.XpG();r.Y8G("ngClass","tbl-col-width-per-6"),r.R7$(),r.Y8G("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function bc(t,i){if(1&t){const e=r.RV6();r.j41(0,"mat-cell",47)(1,"mat-checkbox",49),r.bIt("click",function(a){return r.eBV(e),r.Njj(a.stopPropagation())})("change",function(a){const s=r.eBV(e).$implicit,o=r.XpG();return r.Njj(a?o.selection.toggle(s):null)}),r.k0s()()}if(2&t){const e=i.$implicit,n=r.XpG();r.Y8G("ngClass","tbl-col-width-per-6"),r.R7$(),r.Y8G("checked",n.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Tc(t,i){1&t&&(r.j41(0,"mat-header-cell",50),r.EFF(1," Image "),r.k0s()),2&t&&r.Y8G("ngClass","tbl-col-width-per-6")}function Sc(t,i){if(1&t&&(r.j41(0,"mat-cell",51)(1,"span",52),r.EFF(2,"Image:"),r.k0s(),r.nrm(3,"img",53),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.Y8G("src",e.image,r.B4B)}}function wc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Name"),r.k0s())}function kc(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",52),r.EFF(2,"Name:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.userName," ")}}function Lc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Leave From "),r.k0s())}function Ac(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",52),r.EFF(2,"Leave From:"),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",r.i5U(4,1,e.startDate,"MM/dd/yyyy")," ")}}function Dc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Time Of Day "),r.k0s())}function Ec(t,i){if(1&t&&(r.j41(0,"mat-cell",55)(1,"span",52),r.EFF(2,"Time Of Days:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.startTime," ")}}function Fc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Leave Type "),r.k0s())}function Mc(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",52),r.EFF(2,"Leave Type:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.leaveType," ")}}function Rc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Leave To "),r.k0s())}function Bc(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",52),r.EFF(2,"Leave To:"),r.k0s(),r.EFF(3),r.nI1(4,"date"),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.JRh(r.i5U(4,1,e.endDate,"MM/dd/yyyy"))}}function Vc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Time Of Day "),r.k0s())}function Ic(t,i){if(1&t&&(r.j41(0,"mat-cell",55)(1,"span",52),r.EFF(2,"Time Of Days:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.endTime," ")}}function Oc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Days "),r.k0s())}function Pc(t,i){if(1&t&&(r.j41(0,"mat-cell",55)(1,"span",52),r.EFF(2," Days:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.numOfDays," ")}}function Nc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1," Status "),r.k0s())}function Hc(t,i){if(1&t&&(r.j41(0,"div")(1,"span",57),r.EFF(2),r.k0s()()),2&t){const e=r.XpG().$implicit;r.R7$(2),r.SpI(" ",e.status,"")}}function Gc(t,i){if(1&t&&(r.j41(0,"div")(1,"span",58),r.EFF(2),r.k0s()()),2&t){const e=r.XpG().$implicit;r.R7$(2),r.SpI(" ",e.status,"")}}function $c(t,i){if(1&t&&(r.j41(0,"div")(1,"span",59),r.EFF(2),r.k0s()()),2&t){const e=r.XpG().$implicit;r.R7$(2),r.SpI(" ",e.status,"")}}function zc(t,i){if(1&t&&(r.j41(0,"mat-cell",56)(1,"span",52),r.EFF(2,"Status:"),r.k0s(),r.DNE(3,Hc,3,1,"div")(4,Gc,3,1,"div")(5,$c,3,1,"div"),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.vxM(3,"Approved"===e.status?3:-1),r.R7$(),r.vxM(4,"Declined"===e.status?4:-1),r.R7$(),r.vxM(5,"Pending"===e.status?5:-1)}}function Wc(t,i){1&t&&(r.j41(0,"mat-header-cell",54),r.EFF(1,"Reason "),r.k0s())}function Yc(t,i){if(1&t&&(r.j41(0,"mat-cell",55)(1,"span",60)(2,"span",52),r.EFF(3,"Reason:"),r.k0s(),r.EFF(4),r.k0s()()),2&t){const e=i.$implicit;r.R7$(4),r.JRh(e.reason)}}function Xc(t,i){1&t&&(r.j41(0,"mat-header-cell",61),r.EFF(1," Actions "),r.k0s())}function Uc(t,i){if(1&t){const e=r.RV6();r.j41(0,"mat-cell",61)(1,"button",62),r.bIt("click",function(a){return r.eBV(e),r.Njj(a.stopPropagation())}),r.j41(2,"mat-icon"),r.EFF(3,"more_vert"),r.k0s()(),r.j41(4,"mat-menu",null,2)(6,"button",63),r.bIt("click",function(){const a=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.accepterDemande(a._id))}),r.j41(7,"i",64),r.EFF(8,"create"),r.k0s(),r.j41(9,"span"),r.EFF(10,"Approved"),r.k0s()(),r.j41(11,"button",63),r.bIt("click",function(){const a=r.eBV(e).$implicit,s=r.XpG();return r.Njj(s.refuserDemandeConge(a._id))}),r.j41(12,"i",64),r.EFF(13,"delete_forever"),r.k0s(),r.j41(14,"span"),r.EFF(15,"Declined"),r.k0s()()()()}if(2&t){const e=r.sdS(5);r.R7$(),r.Y8G("matMenuTriggerFor",e)}}function jc(t,i){1&t&&r.nrm(0,"mat-header-row")}function qc(t,i){1&t&&r.nrm(0,"mat-row",65),2&t&&r.xc7("cursor","pointer")}function Qc(t,i){if(1&t&&(r.j41(0,"div",66),r.EFF(1," No results "),r.k0s()),2&t){const e=r.XpG();r.xc7("display",0===e.dataSource.renderedData.length?"":"none")}}let Zc=(()=>{class t extends te.U{constructor(e,n,a,s,o){super(),this.httpClient=e,this.dialog=n,this.leavesService=a,this.snackBar=s,this.webS=o,this.filterToggle=!1,this.displayedColumns=["profileImage","name","type","from","endTime","leaveTo","numOfDays","status","reason"],this.selection=new H.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"},this.message=""}ngOnInit(){this.loadData()}refresh(){this.loadData()}toggleStar(e){}accepterDemande(e){this.leavesService.accepterDemandeConge(e).subscribe(n=>{console.log(n)})}sendMessage(){""!==this.message.trim()&&(this.webS.sendMessage(this.message),this.message="")}refuserDemandeConge(e){this.leavesService.refuserDemandeConge(e).subscribe(n=>{})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){const e=this.selection.selected.length,n=this.dataSource?.renderedData.length;return e===n}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource?.renderedData.forEach(e=>this.selection.select(e))}loadData(){this.exampleDatabase=new qi(this.httpClient),this.dataSource=new Kc(this.exampleDatabase,this.paginator,this.sort,this.leavesService),this.subs.sink=(0,V.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}showNotification(e,n,a,s){this.snackBar.open(n,"",{duration:2e3,verticalPosition:a,horizontalPosition:s,panelClass:e})}static#e=this.\u0275fac=function(n){return new(n||t)(r.rXU(B.Qq),r.rXU(Ui.bZ),r.rXU(qi),r.rXU(ji.UG),r.rXU(xc))};static#t=this.\u0275cmp=r.VBU({type:t,selectors:[["app-leave-requests"]],viewQuery:function(n,a){if(1&n&&(r.GBs(L.iy,7),r.GBs(S.B4,7),r.GBs(_c,7),r.GBs(se.Cp,5)),2&n){let s;r.mGM(s=r.lsd())&&(a.paginator=s.first),r.mGM(s=r.lsd())&&(a.sort=s.first),r.mGM(s=r.lsd())&&(a.filter=s.first),r.mGM(s=r.lsd())&&(a.contextMenu=s.first)}},standalone:!0,features:[r.Vt3,r.aNF],decls:63,vars:13,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","profileImage"],["mat-header-cell","",3,"ngClass",4,"matHeaderCellDef"],["mat-cell","","class","table-img tbl-col-width-per-6",4,"matCellDef"],["matColumnDef","name"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","from"],["matColumnDef","startTime"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","leaveTo"],["matColumnDef","endTime"],["matColumnDef","numOfDays"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","reason"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],[3,"ngClass"],[3,"change","checked","indeterminate","ngClass"],[3,"click","change","checked","ngClass"],["mat-header-cell","",3,"ngClass"],["mat-cell","",1,"table-img","tbl-col-width-per-6"],[1,"mobile-label"],[3,"src"],["mat-sort-header",""],[1,"column-nowrap"],["mat-cell",""],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-blue"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple",""],[1,"no-results"]],template:function(n,a){1&n&&(r.j41(0,"section",3)(1,"div",4)(2,"div",5),r.nrm(3,"app-breadcrumb",6),r.k0s(),r.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"div",11)(9,"ul",12)(10,"li",13)(11,"h2"),r.EFF(12,"Leave Requests"),r.k0s()(),r.j41(13,"li",14)(14,"label",15)(15,"i",16),r.EFF(16,"search"),r.k0s()(),r.nrm(17,"input",17,0),r.k0s()()()(),r.j41(19,"div",18)(20,"div",19)(21,"table",20),r.qex(22,21),r.DNE(23,Cc,2,4,"mat-header-cell",22)(24,bc,2,3,"mat-cell",23),r.bVm(),r.qex(25,24),r.DNE(26,Tc,2,1,"mat-header-cell",25)(27,Sc,4,1,"mat-cell",26),r.bVm(),r.qex(28,27),r.DNE(29,wc,2,0,"mat-header-cell",28)(30,kc,4,1,"mat-cell",29),r.bVm(),r.qex(31,30),r.DNE(32,Lc,2,0,"mat-header-cell",28)(33,Ac,5,4,"mat-cell",29),r.bVm(),r.qex(34,31),r.DNE(35,Dc,2,0,"mat-header-cell",28)(36,Ec,4,1,"mat-cell",32),r.bVm(),r.qex(37,33),r.DNE(38,Fc,2,0,"mat-header-cell",28)(39,Mc,4,1,"mat-cell",29),r.bVm(),r.qex(40,34),r.DNE(41,Rc,2,0,"mat-header-cell",28)(42,Bc,5,4,"mat-cell",29),r.bVm(),r.qex(43,35),r.DNE(44,Vc,2,0,"mat-header-cell",28)(45,Ic,4,1,"mat-cell",32),r.bVm(),r.qex(46,36),r.DNE(47,Oc,2,0,"mat-header-cell",28)(48,Pc,4,1,"mat-cell",32),r.bVm(),r.qex(49,37),r.DNE(50,Nc,2,0,"mat-header-cell",28)(51,zc,6,3,"mat-cell",38),r.bVm(),r.qex(52,39),r.DNE(53,Wc,2,0,"mat-header-cell",28)(54,Yc,5,1,"mat-cell",32),r.bVm(),r.qex(55,40),r.DNE(56,Xc,2,0,"mat-header-cell",41)(57,Uc,16,1,"mat-cell",42),r.bVm(),r.DNE(58,jc,1,0,"mat-header-row",43)(59,qc,1,2,"mat-row",44),r.k0s(),r.DNE(60,Qc,2,2,"div",45),r.nrm(61,"mat-paginator",46,1),r.k0s()()()()()()()),2&n&&(r.R7$(3),r.Y8G("title","Leave Requests")("items",r.lJ4(11,vc))("active_item","Leave Requests"),r.R7$(18),r.Y8G("dataSource",a.dataSource),r.R7$(37),r.Y8G("matHeaderRowDef",a.displayedColumns),r.R7$(),r.Y8G("matRowDefColumns",a.displayedColumns),r.R7$(),r.vxM(60,null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading?-1:60),r.R7$(),r.Y8G("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",r.lJ4(12,yc)))},dependencies:[Zt.D,Ta.uc,Et.Hl,Et.iY,Dt.m_,Dt.An,G.tP,G.Zl,G.tL,G.ji,G.cC,G.YV,G.iL,G.KS,G.$R,G.YZ,G.NB,S.NQ,S.B4,S.aE,q.YU,ba.g7,ba.So,se.Cn,se.kk,se.fb,se.Cp,ot.pZ,ot.r6,Xe.D6,L.Ou,L.iy,q.vh,pc,q.MD,gc.YN]})}return t})();class Kc extends H.qS{get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}constructor(i,e,n,a){super(),this.exampleDatabase=i,this.paginator=e,this._sort=n,this.leaveS=a,this.filterChange=new K.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){return(0,ie.h)(this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page).pipe((0,wl.n)(()=>this.leaveS.getAllUserswithconge()),(0,Be.T)(e=>{console.log("reeee",e);const n=[];e.forEach(o=>{const c=o.name,h=o.image;o.leaves.forEach(d=>{d.userName=c,d.image=h,n.push(d)})}),this.filteredData=n.slice().filter(o=>(o.startDate+o.startTime+o.endDate+o.endTime+o.leaveType+o.status+o.reason).toLowerCase().includes(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice()),s=this.paginator.pageIndex*this.paginator.pageSize;return this.renderedData=a.slice(s,s+this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((e,n)=>{let a="",s="";switch(this._sort.active){case"id":[a,s]=[e._id,n._id];break;case"startDate":[a,s]=[e.startDate,n.startDate];break;case"leaveType":[a,s]=[e.leaveType,n.leaveType];break;case"leaveTo":[a,s]=[e.endDate,n.endDate];break;case"status":[a,s]=[e.status,n.status];break;case"reason":[a,s]=[e.reason,n.reason]}return((isNaN(+a)?a:+a)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}let Qa=(()=>{class t extends te.U{constructor(e){super(),this.httpClient=e,this.API_URL="assets/data/leave-types.json",this.isTblLoading=!0,this.dataChange=new K.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllLeavess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:e=>{this.isTblLoading=!1,this.dataChange.next(e)},error:e=>{this.isTblLoading=!1,console.log(e.name+" "+e.message)}})}static#e=this.\u0275fac=function(n){return new(n||t)(r.KVO(B.Qq))};static#t=this.\u0275prov=r.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Jc=["filter"],eh=()=>["Leaves"],th=()=>[5,10,25,100];function ih(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Id "),r.k0s())}function nh(t,i){if(1&t&&(r.j41(0,"mat-cell"),r.EFF(1),r.k0s()),2&t){const e=i.$implicit;r.R7$(),r.JRh(e.id)}}function ah(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Leave Name "),r.k0s())}function sh(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",42),r.EFF(2,"Leave Name:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.leave_name," ")}}function rh(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Leave Type "),r.k0s())}function oh(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",42),r.EFF(2,"Leave Type:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI("",e.type," ")}}function lh(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Leave Unit "),r.k0s())}function ch(t,i){if(1&t&&(r.j41(0,"mat-cell")(1,"span",42),r.EFF(2,"Leave Unit:"),r.k0s(),r.EFF(3),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.SpI(" ",e.leave_unit," ")}}function hh(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1," Status "),r.k0s())}function dh(t,i){if(1&t&&(r.j41(0,"div")(1,"span",44),r.EFF(2),r.k0s()()),2&t){const e=r.XpG().$implicit;r.R7$(2),r.SpI(" ",e.status,"")}}function uh(t,i){if(1&t&&(r.j41(0,"div")(1,"span",45),r.EFF(2),r.k0s()()),2&t){const e=r.XpG().$implicit;r.R7$(2),r.SpI(" ",e.status,"")}}function mh(t,i){if(1&t&&(r.j41(0,"mat-cell",43)(1,"span",42),r.EFF(2,"Status:"),r.k0s(),r.DNE(3,dh,3,1,"div")(4,uh,3,1,"div"),r.k0s()),2&t){const e=i.$implicit;r.R7$(3),r.vxM(3,"Active"===e.status?3:-1),r.R7$(),r.vxM(4,"Deactive"===e.status?4:-1)}}function ph(t,i){1&t&&(r.j41(0,"mat-header-cell",41),r.EFF(1,"Note "),r.k0s())}function gh(t,i){if(1&t&&(r.j41(0,"mat-cell",46)(1,"span",47)(2,"span",42),r.EFF(3,"Note:"),r.k0s(),r.EFF(4),r.k0s()()),2&t){const e=i.$implicit;r.R7$(4),r.JRh(e.note)}}function fh(t,i){1&t&&(r.j41(0,"mat-header-cell",48),r.EFF(1," Actions "),r.k0s())}function xh(t,i){if(1&t){const e=r.RV6();r.j41(0,"mat-cell",48)(1,"button",49),r.bIt("click",function(a){return r.eBV(e),r.Njj(a.stopPropagation())}),r.j41(2,"mat-icon"),r.EFF(3,"more_vert"),r.k0s()(),r.j41(4,"mat-menu",null,2)(6,"button",50)(7,"i",51),r.EFF(8,"create"),r.k0s(),r.j41(9,"span"),r.EFF(10,"Edit Contact"),r.k0s()(),r.j41(11,"button",50)(12,"i",51),r.EFF(13,"delete_forever"),r.k0s(),r.j41(14,"span"),r.EFF(15,"Delete Contact"),r.k0s()()()()}if(2&t){const e=r.sdS(5);r.R7$(),r.Y8G("matMenuTriggerFor",e)}}function _h(t,i){1&t&&r.nrm(0,"mat-header-row")}function vh(t,i){1&t&&r.nrm(0,"mat-row",52),2&t&&r.xc7("cursor","pointer")}function yh(t,i){1&t&&(r.j41(0,"div",38),r.nrm(1,"mat-progress-spinner",53),r.k0s()),2&t&&(r.R7$(),r.Y8G("diameter",40))}function Ch(t,i){if(1&t&&(r.j41(0,"div",54),r.EFF(1," No results "),r.k0s()),2&t){const e=r.XpG();r.xc7("display",0===e.dataSource.renderedData.length?"":"none")}}let bh=(()=>{class t extends te.U{constructor(e,n,a,s){super(),this.httpClient=e,this.dialog=n,this.leavesService=a,this.snackBar=s,this.filterToggle=!1,this.displayedColumns=["leave_name","type","leave_unit","status","note","actions"],this.selection=new H.CB(!0,[]),this.contextMenuPosition={x:"0px",y:"0px"}}ngOnInit(){this.loadData()}toggleStar(e){console.log(e)}loadData(){this.exampleDatabase=new Qa(this.httpClient),this.dataSource=new Th(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,V.R)(this.filter.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter.nativeElement.value)})}static#e=this.\u0275fac=function(n){return new(n||t)(r.rXU(B.Qq),r.rXU(Ui.bZ),r.rXU(Qa),r.rXU(ji.UG))};static#t=this.\u0275cmp=r.VBU({type:t,selectors:[["app-leave-types"]],viewQuery:function(n,a){if(1&n&&(r.GBs(L.iy,7),r.GBs(S.B4,7),r.GBs(Jc,7),r.GBs(se.Cp,5)),2&n){let s;r.mGM(s=r.lsd())&&(a.paginator=s.first),r.mGM(s=r.lsd())&&(a.sort=s.first),r.mGM(s=r.lsd())&&(a.filter=s.first),r.mGM(s=r.lsd())&&(a.contextMenu=s.first)}},standalone:!0,features:[r.Vt3,r.aNF],decls:52,vars:14,consts:[["filter",""],["paginator",""],["menu","matMenu"],[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"tabbable-line"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","leave_name"],["matColumnDef","type"],["matColumnDef","leave_unit"],["matColumnDef","status"],["mat-cell","",4,"matCellDef"],["matColumnDef","note"],["class","column-nowrap",4,"matCellDef"],["matColumnDef","actions"],["class","psl-3 tbl-col-width-per-10",4,"matHeaderCellDef"],["class","psl-3 tbl-col-width-per-10",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[1,"badge","badge-pill","badge-primary","col-green"],[1,"badge","badge-pill","badge-primary","col-red"],[1,"column-nowrap"],[1,"truncate-text"],[1,"psl-3","tbl-col-width-per-10"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item",""],[1,"material-icons-outlined","align-middle","msr-2"],["matRipple",""],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(n,a){1&n&&(r.j41(0,"section",3)(1,"div",4)(2,"div",5),r.nrm(3,"app-breadcrumb",6),r.k0s(),r.j41(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",7)(8,"div",10)(9,"div",11)(10,"div",12)(11,"div",13)(12,"ul",14)(13,"li",15)(14,"h2"),r.EFF(15,"Leave Types"),r.k0s()(),r.j41(16,"li",16)(17,"label",17)(18,"i",18),r.EFF(19,"search"),r.k0s()(),r.nrm(20,"input",19,0),r.k0s()()()(),r.j41(22,"div",20)(23,"div",21)(24,"table",22),r.qex(25,23),r.DNE(26,ih,2,0,"mat-header-cell",24)(27,nh,2,1,"mat-cell",25),r.bVm(),r.qex(28,26),r.DNE(29,ah,2,0,"mat-header-cell",24)(30,sh,4,1,"mat-cell",25),r.bVm(),r.qex(31,27),r.DNE(32,rh,2,0,"mat-header-cell",24)(33,oh,4,1,"mat-cell",25),r.bVm(),r.qex(34,28),r.DNE(35,lh,2,0,"mat-header-cell",24)(36,ch,4,1,"mat-cell",25),r.bVm(),r.qex(37,29),r.DNE(38,hh,2,0,"mat-header-cell",24)(39,mh,5,2,"mat-cell",30),r.bVm(),r.qex(40,31),r.DNE(41,ph,2,0,"mat-header-cell",24)(42,gh,5,1,"mat-cell",32),r.bVm(),r.qex(43,33),r.DNE(44,fh,2,0,"mat-header-cell",34)(45,xh,16,1,"mat-cell",35),r.bVm(),r.DNE(46,_h,1,0,"mat-header-row",36)(47,vh,1,2,"mat-row",37),r.k0s(),r.DNE(48,yh,2,1,"div",38)(49,Ch,2,2,"div",39),r.nrm(50,"mat-paginator",40,1),r.k0s()()()()()()()()()()),2&n&&(r.R7$(3),r.Y8G("title","Leave Types")("items",r.lJ4(12,eh))("active_item","Leave Types"),r.R7$(21),r.Y8G("dataSource",a.dataSource),r.R7$(22),r.Y8G("matHeaderRowDef",a.displayedColumns),r.R7$(),r.Y8G("matRowDefColumns",a.displayedColumns),r.R7$(),r.vxM(48,null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading?48:-1),r.R7$(),r.vxM(49,null!=a.exampleDatabase&&a.exampleDatabase.isTblLoading?-1:49),r.R7$(),r.Y8G("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",r.lJ4(13,th)))},dependencies:[Zt.D,G.tP,G.Zl,G.tL,G.ji,G.cC,G.YV,G.iL,G.KS,G.$R,G.YZ,G.NB,S.NQ,S.B4,S.aE,Et.Hl,Et.iY,se.Cn,se.kk,se.fb,se.Cp,Dt.m_,Dt.An,ot.pZ,ot.r6,Xe.D6,Xe.LG,L.Ou,L.iy]})}return t})();class Th extends H.qS{get filter(){return this.filterChange.value}set filter(i){this.filterChange.next(i)}constructor(i,e,n){super(),this.exampleDatabase=i,this.paginator=e,this._sort=n,this.filterChange=new K.t(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const i=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllLeavess(),(0,ie.h)(...i).pipe((0,Be.T)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(a=>-1!==(a.leave_name+a.leave_unit+a.type+a.status).toLowerCase().indexOf(this.filter.toLowerCase()));const e=this.sortData(this.filteredData.slice());return this.renderedData=e.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(i){return this._sort.active&&""!==this._sort.direction?i.sort((e,n)=>{let a="",s="";switch(this._sort.active){case"id":[a,s]=[e.id,n.id];break;case"leave_name":[a,s]=[e.leave_name,n.leave_name];break;case"type":[a,s]=[e.type,n.type];break;case"leaveTo":[a,s]=[e.leave_unit,n.leave_unit];break;case"status":[a,s]=[e.status,n.status]}return((isNaN(+a)?a:+a)<(isNaN(+s)?s:+s)?-1:1)*("asc"===this._sort.direction?1:-1)}):i}}var Sh=F(2053),wh=F(1635),Za=F(6939);function Lh(){}function dn(t){return null==t?Lh:function(){return this.querySelector(t)}}function Eh(){return[]}function Ka(t){return null==t?Eh:function(){return this.querySelectorAll(t)}}function Ja(t){return function(){return this.matches(t)}}function es(t){return function(i){return i.matches(t)}}F(152),F(9969);var Rh=Array.prototype.find;function Vh(){return this.firstElementChild}var Oh=Array.prototype.filter;function Ph(){return Array.from(this.children)}function ts(t){return new Array(t.length)}function oi(t,i){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=i}function Wh(t,i,e,n,a,s){for(var l,o=0,c=i.length,h=s.length;o<h;++o)(l=i[o])?(l.__data__=s[o],n[o]=l):e[o]=new oi(t,s[o]);for(;o<c;++o)(l=i[o])&&(a[o]=l)}function Yh(t,i,e,n,a,s,o){var l,c,f,h=new Map,d=i.length,u=s.length,p=new Array(d);for(l=0;l<d;++l)(c=i[l])&&(p[l]=f=o.call(c,c.__data__,l,i)+"",h.has(f)?a[l]=c:h.set(f,c));for(l=0;l<u;++l)f=o.call(t,s[l],l,s)+"",(c=h.get(f))?(n[l]=c,c.__data__=s[l],h.delete(f)):e[l]=new oi(t,s[l]);for(l=0;l<d;++l)(c=i[l])&&h.get(p[l])===c&&(a[l]=c)}function Xh(t){return t.__data__}function jh(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function ed(t,i){return t<i?-1:t>i?1:t>=i?0:NaN}oi.prototype={constructor:oi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,i){return this._parent.insertBefore(t,i)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var un="http://www.w3.org/1999/xhtml";const is={svg:"http://www.w3.org/2000/svg",xhtml:un,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function li(t){var i=t+="",e=i.indexOf(":");return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),is.hasOwnProperty(i)?{space:is[i],local:t}:t}function od(t){return function(){this.removeAttribute(t)}}function ld(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cd(t,i){return function(){this.setAttribute(t,i)}}function hd(t,i){return function(){this.setAttributeNS(t.space,t.local,i)}}function dd(t,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function ud(t,i){return function(){var e=i.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function ns(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pd(t){return function(){this.style.removeProperty(t)}}function gd(t,i,e){return function(){this.style.setProperty(t,i,e)}}function fd(t,i,e){return function(){var n=i.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,e)}}function ht(t,i){return t.style.getPropertyValue(i)||ns(t).getComputedStyle(t,null).getPropertyValue(i)}function _d(t){return function(){delete this[t]}}function vd(t,i){return function(){this[t]=i}}function yd(t,i){return function(){var e=i.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function as(t){return t.trim().split(/^|\s+/)}function mn(t){return t.classList||new ss(t)}function ss(t){this._node=t,this._names=as(t.getAttribute("class")||"")}function rs(t,i){for(var e=mn(t),n=-1,a=i.length;++n<a;)e.add(i[n])}function os(t,i){for(var e=mn(t),n=-1,a=i.length;++n<a;)e.remove(i[n])}function bd(t){return function(){rs(this,t)}}function Td(t){return function(){os(this,t)}}function Sd(t,i){return function(){(i.apply(this,arguments)?rs:os)(this,t)}}function kd(){this.textContent=""}function Ld(t){return function(){this.textContent=t}}function Ad(t){return function(){var i=t.apply(this,arguments);this.textContent=i??""}}function Ed(){this.innerHTML=""}function Fd(t){return function(){this.innerHTML=t}}function Md(t){return function(){var i=t.apply(this,arguments);this.innerHTML=i??""}}function Bd(){this.nextSibling&&this.parentNode.appendChild(this)}function Id(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pd(t){return function(){var i=this.ownerDocument,e=this.namespaceURI;return e===un&&i.documentElement.namespaceURI===un?i.createElement(t):i.createElementNS(e,t)}}function Nd(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ls(t){var i=li(t);return(i.local?Nd:Pd)(i)}function Gd(){return null}function zd(){var t=this.parentNode;t&&t.removeChild(this)}function Yd(){var t=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function Xd(){var t=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(t,this.nextSibling):t}function Zd(t){return function(){var i=this.__on;if(i){for(var s,e=0,n=-1,a=i.length;e<a;++e)s=i[e],t.type&&s.type!==t.type||s.name!==t.name?i[++n]=s:this.removeEventListener(s.type,s.listener,s.options);++n?i.length=n:delete this.__on}}}function Kd(t,i,e){return function(){var a,n=this.__on,s=function qd(t){return function(i){t.call(this,i,this.__data__)}}(i);if(n)for(var o=0,l=n.length;o<l;++o)if((a=n[o]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=s,a.options=e),void(a.value=i);this.addEventListener(t.type,s,e),a={type:t.type,name:t.name,value:i,listener:s,options:e},n?n.push(a):this.__on=[a]}}function cs(t,i,e){var n=ns(t),a=n.CustomEvent;"function"==typeof a?a=new a(i,e):(a=n.document.createEvent("Event"),e?(a.initEvent(i,e.bubbles,e.cancelable),a.detail=e.detail):a.initEvent(i,!1,!1)),t.dispatchEvent(a)}function eu(t,i){return function(){return cs(this,t,i)}}function tu(t,i){return function(){return cs(this,t,i.apply(this,arguments))}}ss.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var i=this._names.indexOf(t);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var hs=[null];function Se(t,i){this._groups=t,this._parents=i}function ds(){return new Se([[document.documentElement]],hs)}Se.prototype=ds.prototype={constructor:Se,select:function Ah(t){"function"!=typeof t&&(t=dn(t));for(var i=this._groups,e=i.length,n=new Array(e),a=0;a<e;++a)for(var c,h,s=i[a],o=s.length,l=n[a]=new Array(o),d=0;d<o;++d)(c=s[d])&&(h=t.call(c,c.__data__,d,s))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h);return new Se(n,this._parents)},selectAll:function Mh(t){t="function"==typeof t?function Fh(t){return function(){return function Dh(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Ka(t);for(var i=this._groups,e=i.length,n=[],a=[],s=0;s<e;++s)for(var c,o=i[s],l=o.length,h=0;h<l;++h)(c=o[h])&&(n.push(t.call(c,c.__data__,h,o)),a.push(c));return new Se(n,a)},selectChild:function Ih(t){return this.select(null==t?Vh:function Bh(t){return function(){return Rh.call(this.children,t)}}("function"==typeof t?t:es(t)))},selectChildren:function Hh(t){return this.selectAll(null==t?Ph:function Nh(t){return function(){return Oh.call(this.children,t)}}("function"==typeof t?t:es(t)))},filter:function Gh(t){"function"!=typeof t&&(t=Ja(t));for(var i=this._groups,e=i.length,n=new Array(e),a=0;a<e;++a)for(var c,s=i[a],o=s.length,l=n[a]=[],h=0;h<o;++h)(c=s[h])&&t.call(c,c.__data__,h,s)&&l.push(c);return new Se(n,this._parents)},data:function Uh(t,i){if(!arguments.length)return Array.from(this,Xh);var e=i?Yh:Wh,n=this._parents,a=this._groups;"function"!=typeof t&&(t=function zh(t){return function(){return t}}(t));for(var s=a.length,o=new Array(s),l=new Array(s),c=new Array(s),h=0;h<s;++h){var d=n[h],u=a[h],p=u.length,f=jh(t.call(d,d&&d.__data__,h,n)),_=f.length,v=l[h]=new Array(_),x=o[h]=new Array(_);e(d,u,v,x,c[h]=new Array(p),f,i);for(var A,D,b=0,y=0;b<_;++b)if(A=v[b]){for(b>=y&&(y=b+1);!(D=x[y])&&++y<_;);A._next=D||null}}return(o=new Se(o,n))._enter=l,o._exit=c,o},enter:function $h(){return new Se(this._enter||this._groups.map(ts),this._parents)},exit:function qh(){return new Se(this._exit||this._groups.map(ts),this._parents)},join:function Qh(t,i,e){var n=this.enter(),a=this,s=this.exit();return"function"==typeof t?(n=t(n))&&(n=n.selection()):n=n.append(t+""),null!=i&&(a=i(a))&&(a=a.selection()),null==e?s.remove():e(s),n&&a?n.merge(a).order():a},merge:function Zh(t){for(var i=t.selection?t.selection():t,e=this._groups,n=i._groups,a=e.length,o=Math.min(a,n.length),l=new Array(a),c=0;c<o;++c)for(var f,h=e[c],d=n[c],u=h.length,p=l[c]=new Array(u),_=0;_<u;++_)(f=h[_]||d[_])&&(p[_]=f);for(;c<a;++c)l[c]=e[c];return new Se(l,this._parents)},selection:function au(){return this},order:function Kh(){for(var t=this._groups,i=-1,e=t.length;++i<e;)for(var o,n=t[i],a=n.length-1,s=n[a];--a>=0;)(o=n[a])&&(s&&4^o.compareDocumentPosition(s)&&s.parentNode.insertBefore(o,s),s=o);return this},sort:function Jh(t){function i(u,p){return u&&p?t(u.__data__,p.__data__):!u-!p}t||(t=ed);for(var e=this._groups,n=e.length,a=new Array(n),s=0;s<n;++s){for(var h,o=e[s],l=o.length,c=a[s]=new Array(l),d=0;d<l;++d)(h=o[d])&&(c[d]=h);c.sort(i)}return new Se(a,this._parents).order()},call:function td(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function id(){return Array.from(this)},node:function nd(){for(var t=this._groups,i=0,e=t.length;i<e;++i)for(var n=t[i],a=0,s=n.length;a<s;++a){var o=n[a];if(o)return o}return null},size:function ad(){let t=0;for(const i of this)++t;return t},empty:function sd(){return!this.node()},each:function rd(t){for(var i=this._groups,e=0,n=i.length;e<n;++e)for(var l,a=i[e],s=0,o=a.length;s<o;++s)(l=a[s])&&t.call(l,l.__data__,s,a);return this},attr:function md(t,i){var e=li(t);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((null==i?e.local?ld:od:"function"==typeof i?e.local?ud:dd:e.local?hd:cd)(e,i))},style:function xd(t,i,e){return arguments.length>1?this.each((null==i?pd:"function"==typeof i?fd:gd)(t,i,e??"")):ht(this.node(),t)},property:function Cd(t,i){return arguments.length>1?this.each((null==i?_d:"function"==typeof i?yd:vd)(t,i)):this.node()[t]},classed:function wd(t,i){var e=as(t+"");if(arguments.length<2){for(var n=mn(this.node()),a=-1,s=e.length;++a<s;)if(!n.contains(e[a]))return!1;return!0}return this.each(("function"==typeof i?Sd:i?bd:Td)(e,i))},text:function Dd(t){return arguments.length?this.each(null==t?kd:("function"==typeof t?Ad:Ld)(t)):this.node().textContent},html:function Rd(t){return arguments.length?this.each(null==t?Ed:("function"==typeof t?Md:Fd)(t)):this.node().innerHTML},raise:function Vd(){return this.each(Bd)},lower:function Od(){return this.each(Id)},append:function Hd(t){var i="function"==typeof t?t:ls(t);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function $d(t,i){var e="function"==typeof t?t:ls(t),n=null==i?Gd:"function"==typeof i?i:dn(i);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function Wd(){return this.each(zd)},clone:function Ud(t){return this.select(t?Xd:Yd)},datum:function jd(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Jd(t,i,e){var a,o,n=function Qd(t){return t.trim().split(/^|\s+/).map(function(i){var e="",n=i.indexOf(".");return n>=0&&(e=i.slice(n+1),i=i.slice(0,n)),{type:i,name:e}})}(t+""),s=n.length;if(!(arguments.length<2)){for(l=i?Kd:Zd,a=0;a<s;++a)this.each(l(n[a],i,e));return this}var l=this.node().__on;if(l)for(var d,c=0,h=l.length;c<h;++c)for(a=0,d=l[c];a<s;++a)if((o=n[a]).type===d.type&&o.name===d.name)return d.value},dispatch:function iu(t,i){return this.each(("function"==typeof i?tu:eu)(t,i))},[Symbol.iterator]:function*nu(){for(var t=this._groups,i=0,e=t.length;i<e;++i)for(var o,n=t[i],a=0,s=n.length;a<s;++a)(o=n[a])&&(yield o)}};const Rt=ds;var su={value:()=>{}};function us(){for(var n,t=0,i=arguments.length,e={};t<i;++t){if(!(n=arguments[t]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new ci(e)}function ci(t){this._=t}function ou(t,i){for(var a,e=0,n=t.length;e<n;++e)if((a=t[e]).name===i)return a.value}function ms(t,i,e){for(var n=0,a=t.length;n<a;++n)if(t[n].name===i){t[n]=su,t=t.slice(0,n).concat(t.slice(n+1));break}return null!=e&&t.push({name:i,value:e}),t}ci.prototype=us.prototype={constructor:ci,on:function(t,i){var a,e=this._,n=function ru(t,i){return t.trim().split(/^|\s+/).map(function(e){var n="",a=e.indexOf(".");if(a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),e&&!i.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}(t+"",e),s=-1,o=n.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++s<o;)if(a=(t=n[s]).type)e[a]=ms(e[a],t.name,i);else if(null==i)for(a in e)e[a]=ms(e[a],t.name,null);return this}for(;++s<o;)if((a=(t=n[s]).type)&&(a=ou(e[a],t.name)))return a},copy:function(){var t={},i=this._;for(var e in i)t[e]=i[e].slice();return new ci(t)},call:function(t,i){if((a=arguments.length-2)>0)for(var a,s,e=new Array(a),n=0;n<a;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(n=0,a=(s=this._[t]).length;n<a;++n)s[n].value.apply(i,e)},apply:function(t,i,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var n=this._[t],a=0,s=n.length;a<s;++a)n[a].value.apply(i,e)}};const ps=us;function fn(t,i,e){t.prototype=i.prototype=e,e.constructor=t}function gs(t,i){var e=Object.create(t.prototype);for(var n in i)e[n]=i[n];return e}function Bt(){}var hi=1/.7,dt="\\s*([+-]?\\d+)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ie="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hu=/^#([0-9a-f]{3,8})$/,du=new RegExp(`^rgb\\(${dt},${dt},${dt}\\)$`),uu=new RegExp(`^rgb\\(${Ie},${Ie},${Ie}\\)$`),mu=new RegExp(`^rgba\\(${dt},${dt},${dt},${It}\\)$`),pu=new RegExp(`^rgba\\(${Ie},${Ie},${Ie},${It}\\)$`),gu=new RegExp(`^hsl\\(${It},${Ie},${Ie}\\)$`),fu=new RegExp(`^hsla\\(${It},${Ie},${Ie},${It}\\)$`),fs={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xs(){return this.rgb().formatHex()}function _s(){return this.rgb().formatRgb()}function Ke(t){var i,e;return t=(t+"").trim().toLowerCase(),(i=hu.exec(t))?(e=i[1].length,i=parseInt(i[1],16),6===e?vs(i):3===e?new Te(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===e?di(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===e?di(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=du.exec(t))?new Te(i[1],i[2],i[3],1):(i=uu.exec(t))?new Te(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=mu.exec(t))?di(i[1],i[2],i[3],i[4]):(i=pu.exec(t))?di(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=gu.exec(t))?bs(i[1],i[2]/100,i[3]/100,1):(i=fu.exec(t))?bs(i[1],i[2]/100,i[3]/100,i[4]):fs.hasOwnProperty(t)?vs(fs[t]):"transparent"===t?new Te(NaN,NaN,NaN,0):null}function vs(t){return new Te(t>>16&255,t>>8&255,255&t,1)}function di(t,i,e,n){return n<=0&&(t=i=e=NaN),new Te(t,i,e,n)}function ui(t,i,e,n){return 1===arguments.length?function vu(t){return t instanceof Bt||(t=Ke(t)),t?new Te((t=t.rgb()).r,t.g,t.b,t.opacity):new Te}(t):new Te(t,i,e,n??1)}function Te(t,i,e,n){this.r=+t,this.g=+i,this.b=+e,this.opacity=+n}function ys(){return`#${et(this.r)}${et(this.g)}${et(this.b)}`}function Cs(){const t=mi(this.opacity);return`${1===t?"rgb(":"rgba("}${Je(this.r)}, ${Je(this.g)}, ${Je(this.b)}${1===t?")":`, ${t})`}`}function mi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Je(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function et(t){return((t=Je(t))<16?"0":"")+t.toString(16)}function bs(t,i,e,n){return n<=0?t=i=e=NaN:e<=0||e>=1?t=i=NaN:i<=0&&(t=NaN),new Fe(t,i,e,n)}function Ts(t){if(t instanceof Fe)return new Fe(t.h,t.s,t.l,t.opacity);if(t instanceof Bt||(t=Ke(t)),!t)return new Fe;if(t instanceof Fe)return t;var i=(t=t.rgb()).r/255,e=t.g/255,n=t.b/255,a=Math.min(i,e,n),s=Math.max(i,e,n),o=NaN,l=s-a,c=(s+a)/2;return l?(o=i===s?(e-n)/l+6*(e<n):e===s?(n-i)/l+2:(i-e)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new Fe(o,l,c,t.opacity)}function Fe(t,i,e,n){this.h=+t,this.s=+i,this.l=+e,this.opacity=+n}function Ss(t){return(t=(t||0)%360)<0?t+360:t}function pi(t){return Math.max(0,Math.min(1,t||0))}function xn(t,i,e){return 255*(t<60?i+(e-i)*t/60:t<180?e:t<240?i+(e-i)*(240-t)/60:i)}function ws(t,i,e,n,a){var s=t*t,o=s*t;return((1-3*t+3*s-o)*i+(4-6*s+3*o)*e+(1+3*t+3*s-3*o)*n+o*a)/6}fn(Bt,Ke,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xs,formatHex:xs,formatHex8:function xu(){return this.rgb().formatHex8()},formatHsl:function _u(){return Ts(this).formatHsl()},formatRgb:_s,toString:_s}),fn(Te,ui,gs(Bt,{brighter(t){return t=null==t?hi:Math.pow(hi,t),new Te(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Te(Je(this.r),Je(this.g),Je(this.b),mi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ys,formatHex:ys,formatHex8:function yu(){return`#${et(this.r)}${et(this.g)}${et(this.b)}${et(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Cs,toString:Cs})),fn(Fe,function Cu(t,i,e,n){return 1===arguments.length?Ts(t):new Fe(t,i,e,n??1)},gs(Bt,{brighter(t){return t=null==t?hi:Math.pow(hi,t),new Fe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new Fe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),i=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*i,a=2*e-n;return new Te(xn(t>=240?t-240:t+120,a,n),xn(t,a,n),xn(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Fe(Ss(this.h),pi(this.s),pi(this.l),mi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=mi(this.opacity);return`${1===t?"hsl(":"hsla("}${Ss(this.h)}, ${100*pi(this.s)}%, ${100*pi(this.l)}%${1===t?")":`, ${t})`}`}}));const _n=t=>()=>t;function Ls(t,i){var e=i-t;return e?function ks(t,i){return function(e){return t+e*i}}(t,e):_n(isNaN(t)?i:t)}const gi=function t(i){var e=function wu(t){return 1==(t=+t)?Ls:function(i,e){return e-i?function Su(t,i,e){return t=Math.pow(t,e),i=Math.pow(i,e)-t,e=1/e,function(n){return Math.pow(t+n*i,e)}}(i,e,t):_n(isNaN(i)?e:i)}}(i);function n(a,s){var o=e((a=ui(a)).r,(s=ui(s)).r),l=e(a.g,s.g),c=e(a.b,s.b),h=Ls(a.opacity,s.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=h(d),a+""}}return n.gamma=t,n}(1);function As(t){return function(i){var o,l,e=i.length,n=new Array(e),a=new Array(e),s=new Array(e);for(o=0;o<e;++o)l=ui(i[o]),n[o]=l.r||0,a[o]=l.g||0,s[o]=l.b||0;return n=t(n),a=t(a),s=t(s),l.opacity=1,function(c){return l.r=n(c),l.g=a(c),l.b=s(c),l+""}}}function Me(t,i){return t=+t,i=+i,function(e){return t*(1-e)+i*e}}As(function bu(t){var i=t.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,i-1):Math.floor(e*i),a=t[n],s=t[n+1];return ws((e-n/i)*i,n>0?t[n-1]:2*a-s,a,s,n<i-1?t[n+2]:2*s-a)}}),As(function Tu(t){var i=t.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*i);return ws((e-n/i)*i,t[(n+i-1)%i],t[n%i],t[(n+1)%i],t[(n+2)%i])}});var vn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yn=new RegExp(vn.source,"g");function Es(t,i){var n,a,s,e=vn.lastIndex=yn.lastIndex=0,o=-1,l=[],c=[];for(t+="",i+="";(n=vn.exec(t))&&(a=yn.exec(i));)(s=a.index)>e&&(s=i.slice(e,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Me(n,a)})),e=yn.lastIndex;return e<i.length&&(s=i.slice(e),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?function Du(t){return function(i){return t(i)+""}}(c[0].x):function Au(t){return function(){return t}}(i):(i=c.length,function(h){for(var u,d=0;d<i;++d)l[(u=c[d]).i]=u.x(h);return l.join("")})}var xi,Nt,ut=0,Ot=0,Pt=0,Ms=1e3,_i=0,tt=0,vi=0,Ht="object"==typeof performance&&performance.now?performance:Date,Rs="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Cn(){return tt||(Rs(Ru),tt=Ht.now()+vi)}function Ru(){tt=0}function yi(){this._call=this._time=this._next=null}function Bs(t,i,e){var n=new yi;return n.restart(t,i,e),n}function Vs(){tt=(_i=Ht.now())+vi,ut=Ot=0;try{!function Bu(){Cn(),++ut;for(var i,t=xi;t;)(i=tt-t._time)>=0&&t._call.call(void 0,i),t=t._next;--ut}()}finally{ut=0,function Iu(){for(var t,e,i=xi,n=1/0;i;)i._call?(n>i._time&&(n=i._time),t=i,i=i._next):(e=i._next,i._next=null,i=t?t._next=e:xi=e);Nt=t,bn(n)}(),tt=0}}function Vu(){var t=Ht.now(),i=t-_i;i>Ms&&(vi-=i,_i=t)}function bn(t){ut||(Ot&&(Ot=clearTimeout(Ot)),t-tt>24?(t<1/0&&(Ot=setTimeout(Vs,t-Ht.now()-vi)),Pt&&(Pt=clearInterval(Pt))):(Pt||(_i=Ht.now(),Pt=setInterval(Vu,Ms)),ut=1,Rs(Vs)))}function Is(t,i,e){var n=new yi;return n.restart(a=>{n.stop(),t(a+i)},i=null==i?0:+i,e),n}yi.prototype=Bs.prototype={constructor:yi,restart:function(t,i,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Cn():+e)+(null==i?0:+i),!this._next&&Nt!==this&&(Nt?Nt._next=this:xi=this,Nt=this),this._call=t,this._time=e,bn()},stop:function(){this._call&&(this._call=null,this._time=1/0,bn())}};var Ou=ps("start","end","cancel","interrupt"),Pu=[],Os=0,Ci=3;function Ti(t,i,e,n,a,s){var o=t.__transition;if(o){if(e in o)return}else t.__transition={};!function Nu(t,i,e){var a,n=t.__transition;function o(h){var d,u,p,f;if(1!==e.state)return c();for(d in n)if((f=n[d]).name===e.name){if(f.state===Ci)return Is(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete n[d]):+d<i&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete n[d])}if(Is(function(){e.state===Ci&&(e.state=4,e.timer.restart(l,e.delay,e.time),l(h))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=Ci,a=new Array(p=e.tween.length),d=0,u=-1;d<p;++d)(f=e.tween[d].value.call(t,t.__data__,e.index,e.group))&&(a[++u]=f);a.length=u+1}}function l(h){for(var d=h<e.duration?e.ease.call(null,h/e.duration):(e.timer.restart(c),e.state=5,1),u=-1,p=a.length;++u<p;)a[u].call(t,d);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){for(var h in e.state=6,e.timer.stop(),delete n[i],n)return;delete t.__transition}n[i]=e,e.timer=Bs(function s(h){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=h&&o(h-e.delay)},0,e.time)}(t,e,{name:i,index:n,group:a,on:Ou,tween:Pu,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Os})}function wn(t,i){var e=Re(t,i);if(e.state>Os)throw new Error("too late; already scheduled");return e}function Oe(t,i){var e=Re(t,i);if(e.state>Ci)throw new Error("too late; already running");return e}function Re(t,i){var e=t.__transition;if(!e||!(e=e[i]))throw new Error("transition not found");return e}var Si,Hs=180/Math.PI,Ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gs(t,i,e,n,a,s){var o,l,c;return(o=Math.sqrt(t*t+i*i))&&(t/=o,i/=o),(c=t*e+i*n)&&(e-=t*c,n-=i*c),(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l,c/=l),t*n<i*e&&(t=-t,i=-i,c=-c,o=-o),{translateX:a,translateY:s,rotate:Math.atan2(i,t)*Hs,skewX:Math.atan(c)*Hs,scaleX:o,scaleY:l}}function $s(t,i,e,n){function a(h){return h.length?h.pop()+" ":""}return function(h,d){var u=[],p=[];return h=t(h),d=t(d),function s(h,d,u,p,f,_){if(h!==u||d!==p){var v=f.push("translate(",null,i,null,e);_.push({i:v-4,x:Me(h,u)},{i:v-2,x:Me(d,p)})}else(u||p)&&f.push("translate("+u+i+p+e)}(h.translateX,h.translateY,d.translateX,d.translateY,u,p),function o(h,d,u,p){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),p.push({i:u.push(a(u)+"rotate(",null,n)-2,x:Me(h,d)})):d&&u.push(a(u)+"rotate("+d+n)}(h.rotate,d.rotate,u,p),function l(h,d,u,p){h!==d?p.push({i:u.push(a(u)+"skewX(",null,n)-2,x:Me(h,d)}):d&&u.push(a(u)+"skewX("+d+n)}(h.skewX,d.skewX,u,p),function c(h,d,u,p,f,_){if(h!==u||d!==p){var v=f.push(a(f)+"scale(",null,",",null,")");_.push({i:v-4,x:Me(h,u)},{i:v-2,x:Me(d,p)})}else(1!==u||1!==p)&&f.push(a(f)+"scale("+u+","+p+")")}(h.scaleX,h.scaleY,d.scaleX,d.scaleY,u,p),h=d=null,function(f){for(var x,_=-1,v=p.length;++_<v;)u[(x=p[_]).i]=x.x(f);return u.join("")}}}var zu=$s(function Gu(t){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return i.isIdentity?Ln:Gs(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),Wu=$s(function $u(t){return null!=t&&(Si||(Si=document.createElementNS("http://www.w3.org/2000/svg","g")),Si.setAttribute("transform",t),t=Si.transform.baseVal.consolidate())?Gs((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ln},", ",")",")");function Yu(t,i){var e,n;return function(){var a=Oe(this,t),s=a.tween;if(s!==e)for(var o=0,l=(n=e=s).length;o<l;++o)if(n[o].name===i){(n=n.slice()).splice(o,1);break}a.tween=n}}function Xu(t,i,e){var n,a;if("function"!=typeof e)throw new Error;return function(){var s=Oe(this,t),o=s.tween;if(o!==n){a=(n=o).slice();for(var l={name:i,value:e},c=0,h=a.length;c<h;++c)if(a[c].name===i){a[c]=l;break}c===h&&a.push(l)}s.tween=a}}function An(t,i,e){var n=t._id;return t.each(function(){var a=Oe(this,n);(a.value||(a.value={}))[i]=e.apply(this,arguments)}),function(a){return Re(a,n).value[i]}}function zs(t,i){var e;return("number"==typeof i?Me:i instanceof Ke?gi:(e=Ke(i))?(i=e,gi):Es)(t,i)}function ju(t){return function(){this.removeAttribute(t)}}function qu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qu(t,i,e){var n,s,a=e+"";return function(){var o=this.getAttribute(t);return o===a?null:o===n?s:s=i(n=o,e)}}function Zu(t,i,e){var n,s,a=e+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===n?s:s=i(n=o,e)}}function Ku(t,i,e){var n,a,s;return function(){var o,c,l=e(this);return null==l?void this.removeAttribute(t):(o=this.getAttribute(t))===(c=l+"")?null:o===n&&c===a?s:(a=c,s=i(n=o,l))}}function Ju(t,i,e){var n,a,s;return function(){var o,c,l=e(this);return null==l?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local))===(c=l+"")?null:o===n&&c===a?s:(a=c,s=i(n=o,l))}}function nm(t,i){var e,n;function a(){var s=i.apply(this,arguments);return s!==n&&(e=(n=s)&&function im(t,i){return function(e){this.setAttributeNS(t.space,t.local,i.call(this,e))}}(t,s)),e}return a._value=i,a}function am(t,i){var e,n;function a(){var s=i.apply(this,arguments);return s!==n&&(e=(n=s)&&function tm(t,i){return function(e){this.setAttribute(t,i.call(this,e))}}(t,s)),e}return a._value=i,a}function rm(t,i){return function(){wn(this,t).delay=+i.apply(this,arguments)}}function om(t,i){return i=+i,function(){wn(this,t).delay=i}}function cm(t,i){return function(){Oe(this,t).duration=+i.apply(this,arguments)}}function hm(t,i){return i=+i,function(){Oe(this,t).duration=i}}var wm=Rt.prototype.constructor;function Ws(t){return function(){this.style.removeProperty(t)}}var zm=0;function Ne(t,i,e,n){this._groups=t,this._parents=i,this._name=e,this._id=n}function Ys(){return++zm}var He=Rt.prototype;Ne.prototype=function Wm(t){return Rt().transition(t)}.prototype={constructor:Ne,select:function Tm(t){var i=this._name,e=this._id;"function"!=typeof t&&(t=dn(t));for(var n=this._groups,a=n.length,s=new Array(a),o=0;o<a;++o)for(var d,u,l=n[o],c=l.length,h=s[o]=new Array(c),p=0;p<c;++p)(d=l[p])&&(u=t.call(d,d.__data__,p,l))&&("__data__"in d&&(u.__data__=d.__data__),h[p]=u,Ti(h[p],i,e,p,h,Re(d,e)));return new Ne(s,this._parents,i,e)},selectAll:function Sm(t){var i=this._name,e=this._id;"function"!=typeof t&&(t=Ka(t));for(var n=this._groups,a=n.length,s=[],o=[],l=0;l<a;++l)for(var d,c=n[l],h=c.length,u=0;u<h;++u)if(d=c[u]){for(var f,p=t.call(d,d.__data__,u,c),_=Re(d,e),v=0,x=p.length;v<x;++v)(f=p[v])&&Ti(f,i,e,v,p,_);s.push(p),o.push(d)}return new Ne(s,o,i,e)},selectChild:He.selectChild,selectChildren:He.selectChildren,filter:function fm(t){"function"!=typeof t&&(t=Ja(t));for(var i=this._groups,e=i.length,n=new Array(e),a=0;a<e;++a)for(var c,s=i[a],o=s.length,l=n[a]=[],h=0;h<o;++h)(c=s[h])&&t.call(c,c.__data__,h,s)&&l.push(c);return new Ne(n,this._parents,this._name,this._id)},merge:function xm(t){if(t._id!==this._id)throw new Error;for(var i=this._groups,e=t._groups,n=i.length,s=Math.min(n,e.length),o=new Array(n),l=0;l<s;++l)for(var p,c=i[l],h=e[l],d=c.length,u=o[l]=new Array(d),f=0;f<d;++f)(p=c[f]||h[f])&&(u[f]=p);for(;l<n;++l)o[l]=i[l];return new Ne(o,this._parents,this._name,this._id)},selection:function km(){return new wm(this._groups,this._parents)},transition:function Gm(){for(var t=this._name,i=this._id,e=Ys(),n=this._groups,a=n.length,s=0;s<a;++s)for(var c,o=n[s],l=o.length,h=0;h<l;++h)if(c=o[h]){var d=Re(c,i);Ti(c,t,e,h,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ne(n,this._parents,t,e)},call:He.call,nodes:He.nodes,node:He.node,size:He.size,empty:He.empty,each:He.each,on:function ym(t,i){var e=this._id;return arguments.length<2?Re(this.node(),e).on.on(t):this.each(function vm(t,i,e){var n,a,s=function _m(t){return(t+"").trim().split(/^|\s+/).every(function(i){var e=i.indexOf(".");return e>=0&&(i=i.slice(0,e)),!i||"start"===i})}(i)?wn:Oe;return function(){var o=s(this,t),l=o.on;l!==n&&(a=(n=l).copy()).on(i,e),o.on=a}}(e,t,i))},attr:function em(t,i){var e=li(t),n="transform"===e?Wu:zs;return this.attrTween(t,"function"==typeof i?(e.local?Ju:Ku)(e,n,An(this,"attr."+t,i)):null==i?(e.local?qu:ju)(e):(e.local?Zu:Qu)(e,n,i))},attrTween:function sm(t,i){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==i)return this.tween(e,null);if("function"!=typeof i)throw new Error;var n=li(t);return this.tween(e,(n.local?nm:am)(n,i))},style:function Fm(t,i,e){var n="transform"==(t+="")?zu:zs;return null==i?this.styleTween(t,function Lm(t,i){var e,n,a;return function(){var s=ht(this,t),o=(this.style.removeProperty(t),ht(this,t));return s===o?null:s===e&&o===n?a:a=i(e=s,n=o)}}(t,n)).on("end.style."+t,Ws(t)):"function"==typeof i?this.styleTween(t,function Dm(t,i,e){var n,a,s;return function(){var o=ht(this,t),l=e(this),c=l+"";return null==l&&(this.style.removeProperty(t),c=l=ht(this,t)),o===c?null:o===n&&c===a?s:(a=c,s=i(n=o,l))}}(t,n,An(this,"style."+t,i))).each(function Em(t,i){var e,n,a,l,s="style."+i,o="end."+s;return function(){var c=Oe(this,t),h=c.on,d=null==c.value[s]?l||(l=Ws(i)):void 0;(h!==e||a!==d)&&(n=(e=h).copy()).on(o,a=d),c.on=n}}(this._id,t)):this.styleTween(t,function Am(t,i,e){var n,s,a=e+"";return function(){var o=ht(this,t);return o===a?null:o===n?s:s=i(n=o,e)}}(t,n,i),e).on("end.style."+t,null)},styleTween:function Bm(t,i,e){var n="style."+(t+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==i)return this.tween(n,null);if("function"!=typeof i)throw new Error;return this.tween(n,function Rm(t,i,e){var n,a;function s(){var o=i.apply(this,arguments);return o!==a&&(n=(a=o)&&function Mm(t,i,e){return function(n){this.style.setProperty(t,i.call(this,n),e)}}(t,o,e)),n}return s._value=i,s}(t,i,e??""))},text:function Om(t){return this.tween("text","function"==typeof t?function Im(t){return function(){var i=t(this);this.textContent=i??""}}(An(this,"text",t)):function Vm(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function Hm(t){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,function Nm(t){var i,e;function n(){var a=t.apply(this,arguments);return a!==e&&(i=(e=a)&&function Pm(t){return function(i){this.textContent=t.call(this,i)}}(a)),i}return n._value=t,n}(t))},remove:function bm(){return this.on("end.remove",function Cm(t){return function(){var i=this.parentNode;for(var e in this.__transition)if(+e!==t)return;i&&i.removeChild(this)}}(this._id))},tween:function Uu(t,i){var e=this._id;if(t+="",arguments.length<2){for(var o,n=Re(this.node(),e).tween,a=0,s=n.length;a<s;++a)if((o=n[a]).name===t)return o.value;return null}return this.each((null==i?Yu:Xu)(e,t,i))},delay:function lm(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?rm:om)(i,t)):Re(this.node(),i).delay},duration:function dm(t){var i=this._id;return arguments.length?this.each(("function"==typeof t?cm:hm)(i,t)):Re(this.node(),i).duration},ease:function mm(t){var i=this._id;return arguments.length?this.each(function um(t,i){if("function"!=typeof i)throw new Error;return function(){Oe(this,t).ease=i}}(i,t)):Re(this.node(),i).ease},easeVarying:function gm(t){if("function"!=typeof t)throw new Error;return this.each(function pm(t,i){return function(){var e=i.apply(this,arguments);if("function"!=typeof e)throw new Error;Oe(this,t).ease=e}}(this._id,t))},end:function $m(){var t,i,e=this,n=e._id,a=e.size();return new Promise(function(s,o){var l={value:o},c={value:function(){0==--a&&s()}};e.each(function(){var h=Oe(this,n),d=h.on;d!==t&&((i=(t=d).copy())._.cancel.push(l),i._.interrupt.push(l),i._.end.push(c)),h.on=i}),0===a&&s()})},[Symbol.iterator]:He[Symbol.iterator]};var Xm={time:null,delay:0,duration:250,ease:function Ym(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Um(t,i){for(var e;!(e=t.__transition)||!(e=e[i]);)if(!(t=t.parentNode))throw new Error(`transition ${i} not found`);return e}Rt.prototype.interrupt=function Hu(t){return this.each(function(){!function kn(t,i){var n,a,o,e=t.__transition,s=!0;if(e){for(o in i=null==i?null:i+"",e)(n=e[o]).name===i?(a=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete e[o]):s=!1;s&&delete t.__transition}}(this,t)})},Rt.prototype.transition=function jm(t){var i,e;t instanceof Ne?(i=t._id,t=t._name):(i=Ys(),(e=Xm).time=Cn(),t=null==t?null:t+"");for(var n=this._groups,a=n.length,s=0;s<a;++s)for(var c,o=n[s],l=o.length,h=0;h<l;++h)(c=o[h])&&Ti(c,t,i,h,o,e||Um(c,i));return new Ne(n,this._parents,t,i)};Math;function Gt(t){return{type:t}}function Li(t,i){return null==t||null==i?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function sp(t,i){return null==t||null==i?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Vn(t){let i,e,n;function a(l,c,h=0,d=l.length){if(h<d){if(0!==i(c,c))return d;do{const u=h+d>>>1;e(l[u],c)<0?h=u+1:d=u}while(h<d)}return h}return 2!==t.length?(i=Li,e=(l,c)=>Li(t(l),c),n=(l,c)=>t(l)-c):(i=t===Li||t===sp?t:rp,e=t,n=t),{left:a,center:function o(l,c,h=0,d=l.length){const u=a(l,c,h,d-1);return u>h&&n(l[u-1],c)>-n(l[u],c)?u-1:u},right:function s(l,c,h=0,d=l.length){if(h<d){if(0!==i(c,c))return d;do{const u=h+d>>>1;e(l[u],c)<=0?h=u+1:d=u}while(h<d)}return h}}}function rp(){return 0}["w","e"].map(Gt),["n","s"].map(Gt),["n","w","e","s","nw","ne","sw","se"].map(Gt);const op=Math.sqrt(50),lp=Math.sqrt(10),cp=Math.sqrt(2);function Ai(t,i,e){const n=(i-t)/Math.max(0,e),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=op?10:s>=lp?5:s>=cp?2:1;let l,c,h;return a<0?(h=Math.pow(10,-a)/o,l=Math.round(t*h),c=Math.round(i*h),l/h<t&&++l,c/h>i&&--c,h=-h):(h=Math.pow(10,a)*o,l=Math.round(t/h),c=Math.round(i/h),l*h<t&&++l,c*h>i&&--c),c<l&&.5<=e&&e<2?Ai(t,i,2*e):[l,c,h]}function In(t,i,e){return Ai(t=+t,i=+i,e=+e)[2]}function On(t,i,e){e=+e;const n=(i=+i)<(t=+t),a=n?In(i,t,e):In(t,i,e);return(n?-1:1)*(a<0?1/-a:a)}const $e=1e3,Ae=6e4,ze=60*Ae,We=24*ze,Pn=7*We,Zs=30*We,Nn=365*We,Hn=new Date,Gn=new Date;function ce(t,i,e,n){function a(s){return t(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),i(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(i(s=new Date(+s),null==o?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=null==l?1:Math.floor(l),!(s<o&&l>0))return c;let h;do{c.push(h=new Date(+s)),i(s,l),t(s)}while(h<s&&s<o);return c},a.filter=s=>ce(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;i(o,-1),!s(o););else for(;--l>=0;)for(;i(o,1),!s(o););}),e&&(a.count=(s,o)=>(Hn.setTime(+s),Gn.setTime(+o),t(Hn),t(Gn),Math.floor(e(Hn,Gn))),a.every=s=>(s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(n?o=>n(o)%s==0:o=>a.count(0,o)%s==0):a:null)),a}const Di=ce(()=>{},(t,i)=>{t.setTime(+t+i)},(t,i)=>i-t);Di.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?ce(i=>{i.setTime(Math.floor(i/t)*t)},(i,e)=>{i.setTime(+i+e*t)},(i,e)=>(e-i)/t):Di:null);const gt=ce(t=>{t.setTime(t-t.getMilliseconds())},(t,i)=>{t.setTime(+t+i*$e)},(t,i)=>(i-t)/$e,t=>t.getUTCSeconds()),$n=ce(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$e)},(t,i)=>{t.setTime(+t+i*Ae)},(t,i)=>(i-t)/Ae,t=>t.getMinutes()),Ks=ce(t=>{t.setUTCSeconds(0,0)},(t,i)=>{t.setTime(+t+i*Ae)},(t,i)=>(i-t)/Ae,t=>t.getUTCMinutes()),zn=ce(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*$e-t.getMinutes()*Ae)},(t,i)=>{t.setTime(+t+i*ze)},(t,i)=>(i-t)/ze,t=>t.getHours()),Js=ce(t=>{t.setUTCMinutes(0,0,0)},(t,i)=>{t.setTime(+t+i*ze)},(t,i)=>(i-t)/ze,t=>t.getUTCHours()),Wn=ce(t=>t.setHours(0,0,0,0),(t,i)=>t.setDate(t.getDate()+i),(t,i)=>(i-t-(i.getTimezoneOffset()-t.getTimezoneOffset())*Ae)/We,t=>t.getDate()-1),er=(ce(t=>{t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i)},(t,i)=>(i-t)/We,t=>t.getUTCDate()-1),ce(t=>{t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCDate(t.getUTCDate()+i)},(t,i)=>(i-t)/We,t=>Math.floor(t/We)));function it(t){return ce(i=>{i.setDate(i.getDate()-(i.getDay()+7-t)%7),i.setHours(0,0,0,0)},(i,e)=>{i.setDate(i.getDate()+7*e)},(i,e)=>(e-i-(e.getTimezoneOffset()-i.getTimezoneOffset())*Ae)/Pn)}const Yn=it(0);function nt(t){return ce(i=>{i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-t)%7),i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCDate(i.getUTCDate()+7*e)},(i,e)=>(e-i)/Pn)}it(1),it(2),it(3),it(4),it(5),it(6);const tr=nt(0),Xn=(nt(1),nt(2),nt(3),nt(4),nt(5),nt(6),ce(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,i)=>{t.setMonth(t.getMonth()+i)},(t,i)=>i.getMonth()-t.getMonth()+12*(i.getFullYear()-t.getFullYear()),t=>t.getMonth())),ir=ce(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCMonth(t.getUTCMonth()+i)},(t,i)=>i.getUTCMonth()-t.getUTCMonth()+12*(i.getUTCFullYear()-t.getUTCFullYear()),t=>t.getUTCMonth()),Ei=ce(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,i)=>{t.setFullYear(t.getFullYear()+i)},(t,i)=>i.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ei.every=t=>isFinite(t=Math.floor(t))&&t>0?ce(i=>{i.setFullYear(Math.floor(i.getFullYear()/t)*t),i.setMonth(0,1),i.setHours(0,0,0,0)},(i,e)=>{i.setFullYear(i.getFullYear()+e*t)}):null;const Un=ce(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,i)=>{t.setUTCFullYear(t.getUTCFullYear()+i)},(t,i)=>i.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());function nr(t,i,e,n,a,s){const o=[[gt,1,$e],[gt,5,5e3],[gt,15,15e3],[gt,30,3e4],[s,1,Ae],[s,5,5*Ae],[s,15,15*Ae],[s,30,30*Ae],[a,1,ze],[a,3,3*ze],[a,6,6*ze],[a,12,12*ze],[n,1,We],[n,2,2*We],[e,1,Pn],[i,1,Zs],[i,3,3*Zs],[t,1,Nn]];function c(h,d,u){const p=Math.abs(d-h)/u,f=Vn(([,,x])=>x).right(o,p);if(f===o.length)return t.every(On(h/Nn,d/Nn,u));if(0===f)return Di.every(Math.max(On(h,d,u),1));const[_,v]=o[p/o[f-1][2]<o[f][2]/p?f-1:f];return _.every(v)}return[function l(h,d,u){const p=d<h;p&&([h,d]=[d,h]);const f=u&&"function"==typeof u.range?u:c(h,d,u),_=f?f.range(h,+d+1):[];return p?_.reverse():_},c]}Un.every=t=>isFinite(t=Math.floor(t))&&t>0?ce(i=>{i.setUTCFullYear(Math.floor(i.getUTCFullYear()/t)*t),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,e)=>{i.setUTCFullYear(i.getUTCFullYear()+e*t)}):null;const[iC,nC]=nr(Un,ir,tr,er,Js,Ks),[Tp,Sp]=nr(Ei,Xn,Yn,Wn,zn,$n);var jn=new Date,qn=new Date;function Ye(t,i,e,n){function a(s){return t(s=0===arguments.length?new Date:new Date(+s)),s}return a.floor=function(s){return t(s=new Date(+s)),s},a.ceil=function(s){return t(s=new Date(s-1)),i(s,1),t(s),s},a.round=function(s){var o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=function(s,o){return i(s=new Date(+s),null==o?1:Math.floor(o)),s},a.range=function(s,o,l){var h,c=[];if(s=a.ceil(s),l=null==l?1:Math.floor(l),!(s<o&&l>0))return c;do{c.push(h=new Date(+s)),i(s,l),t(s)}while(h<s&&s<o);return c},a.filter=function(s){return Ye(function(o){if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},function(o,l){if(o>=o)if(l<0)for(;++l<=0;)for(;i(o,-1),!s(o););else for(;--l>=0;)for(;i(o,1),!s(o););})},e&&(a.count=function(s,o){return jn.setTime(+s),qn.setTime(+o),t(jn),t(qn),Math.floor(e(jn,qn))},a.every=function(s){return s=Math.floor(s),isFinite(s)&&s>0?s>1?a.filter(n?function(o){return n(o)%s==0}:function(o){return a.count(0,o)%s==0}):a:null}),a}const $t=864e5,ar=7*$t;function at(t){return Ye(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-t)%7),i.setUTCHours(0,0,0,0)},function(i,e){i.setUTCDate(i.getUTCDate()+7*e)},function(i,e){return(e-i)/ar})}var sr=at(0),Fi=at(1),ft=(at(2),at(3),at(4));const or=(at(5),at(6),Ye(function(t){t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCDate(t.getUTCDate()+i)},function(t,i){return(i-t)/$t},function(t){return t.getUTCDate()-1}));function st(t){return Ye(function(i){i.setDate(i.getDate()-(i.getDay()+7-t)%7),i.setHours(0,0,0,0)},function(i,e){i.setDate(i.getDate()+7*e)},function(i,e){return(e-i-6e4*(e.getTimezoneOffset()-i.getTimezoneOffset()))/ar})}var lr=st(0),Mi=st(1),xt=(st(2),st(3),st(4));const hr=(st(5),st(6),Ye(t=>t.setHours(0,0,0,0),(t,i)=>t.setDate(t.getDate()+i),(t,i)=>(i-t-6e4*(i.getTimezoneOffset()-t.getTimezoneOffset()))/$t,t=>t.getDate()-1));var Zn=Ye(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,i){t.setFullYear(t.getFullYear()+i)},function(t,i){return i.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Zn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ye(function(i){i.setFullYear(Math.floor(i.getFullYear()/t)*t),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,e){i.setFullYear(i.getFullYear()+e*t)}):null};const zt=Zn;var Kn=Ye(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,i){t.setUTCFullYear(t.getUTCFullYear()+i)},function(t,i){return i.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Kn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ye(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/t)*t),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,e){i.setUTCFullYear(i.getUTCFullYear()+e*t)}):null};const Wt=Kn;function Jn(t){if(0<=t.y&&t.y<100){var i=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return i.setFullYear(t.y),i}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ea(t){if(0<=t.y&&t.y<100){var i=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return i.setUTCFullYear(t.y),i}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yt(t,i,e){return{y:t,m:i,d:e,H:0,M:0,S:0,L:0}}var dr={"-":"",_:" ",0:"0"},me=/^\s*\d+/,Bp=/^%/,Vp=/[\\^$*+?|[\]().{}]/g;function $(t,i,e){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<e?new Array(e-s+1).join(i)+a:a)}function Ip(t){return t.replace(Vp,"\\$&")}function Xt(t){return new RegExp("^(?:"+t.map(Ip).join("|")+")","i")}function Ut(t){return new Map(t.map((i,e)=>[i.toLowerCase(),e]))}function Op(t,i,e){var n=me.exec(i.slice(e,e+1));return n?(t.w=+n[0],e+n[0].length):-1}function Pp(t,i,e){var n=me.exec(i.slice(e,e+1));return n?(t.u=+n[0],e+n[0].length):-1}function Np(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.U=+n[0],e+n[0].length):-1}function Hp(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.V=+n[0],e+n[0].length):-1}function Gp(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.W=+n[0],e+n[0].length):-1}function ur(t,i,e){var n=me.exec(i.slice(e,e+4));return n?(t.y=+n[0],e+n[0].length):-1}function mr(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),e+n[0].length):-1}function $p(t,i,e){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(e,e+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),e+n[0].length):-1}function zp(t,i,e){var n=me.exec(i.slice(e,e+1));return n?(t.q=3*n[0]-3,e+n[0].length):-1}function Wp(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.m=n[0]-1,e+n[0].length):-1}function pr(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.d=+n[0],e+n[0].length):-1}function Yp(t,i,e){var n=me.exec(i.slice(e,e+3));return n?(t.m=0,t.d=+n[0],e+n[0].length):-1}function gr(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.H=+n[0],e+n[0].length):-1}function Xp(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.M=+n[0],e+n[0].length):-1}function Up(t,i,e){var n=me.exec(i.slice(e,e+2));return n?(t.S=+n[0],e+n[0].length):-1}function jp(t,i,e){var n=me.exec(i.slice(e,e+3));return n?(t.L=+n[0],e+n[0].length):-1}function qp(t,i,e){var n=me.exec(i.slice(e,e+6));return n?(t.L=Math.floor(n[0]/1e3),e+n[0].length):-1}function Qp(t,i,e){var n=Bp.exec(i.slice(e,e+1));return n?e+n[0].length:-1}function Zp(t,i,e){var n=me.exec(i.slice(e));return n?(t.Q=+n[0],e+n[0].length):-1}function Kp(t,i,e){var n=me.exec(i.slice(e));return n?(t.s=+n[0],e+n[0].length):-1}function fr(t,i){return $(t.getDate(),i,2)}function Jp(t,i){return $(t.getHours(),i,2)}function eg(t,i){return $(t.getHours()%12||12,i,2)}function tg(t,i){return $(1+hr.count(zt(t),t),i,3)}function xr(t,i){return $(t.getMilliseconds(),i,3)}function ig(t,i){return xr(t,i)+"000"}function ng(t,i){return $(t.getMonth()+1,i,2)}function ag(t,i){return $(t.getMinutes(),i,2)}function sg(t,i){return $(t.getSeconds(),i,2)}function rg(t){var i=t.getDay();return 0===i?7:i}function og(t,i){return $(lr.count(zt(t)-1,t),i,2)}function _r(t){var i=t.getDay();return i>=4||0===i?xt(t):xt.ceil(t)}function lg(t,i){return t=_r(t),$(xt.count(zt(t),t)+(4===zt(t).getDay()),i,2)}function cg(t){return t.getDay()}function hg(t,i){return $(Mi.count(zt(t)-1,t),i,2)}function dg(t,i){return $(t.getFullYear()%100,i,2)}function ug(t,i){return $((t=_r(t)).getFullYear()%100,i,2)}function mg(t,i){return $(t.getFullYear()%1e4,i,4)}function pg(t,i){var e=t.getDay();return $((t=e>=4||0===e?xt(t):xt.ceil(t)).getFullYear()%1e4,i,4)}function gg(t){var i=t.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+$(i/60|0,"0",2)+$(i%60,"0",2)}function vr(t,i){return $(t.getUTCDate(),i,2)}function fg(t,i){return $(t.getUTCHours(),i,2)}function xg(t,i){return $(t.getUTCHours()%12||12,i,2)}function _g(t,i){return $(1+or.count(Wt(t),t),i,3)}function yr(t,i){return $(t.getUTCMilliseconds(),i,3)}function vg(t,i){return yr(t,i)+"000"}function yg(t,i){return $(t.getUTCMonth()+1,i,2)}function Cg(t,i){return $(t.getUTCMinutes(),i,2)}function bg(t,i){return $(t.getUTCSeconds(),i,2)}function Tg(t){var i=t.getUTCDay();return 0===i?7:i}function Sg(t,i){return $(sr.count(Wt(t)-1,t),i,2)}function Cr(t){var i=t.getUTCDay();return i>=4||0===i?ft(t):ft.ceil(t)}function wg(t,i){return t=Cr(t),$(ft.count(Wt(t),t)+(4===Wt(t).getUTCDay()),i,2)}function kg(t){return t.getUTCDay()}function Lg(t,i){return $(Fi.count(Wt(t)-1,t),i,2)}function Ag(t,i){return $(t.getUTCFullYear()%100,i,2)}function Dg(t,i){return $((t=Cr(t)).getUTCFullYear()%100,i,2)}function Eg(t,i){return $(t.getUTCFullYear()%1e4,i,4)}function Fg(t,i){var e=t.getUTCDay();return $((t=e>=4||0===e?ft(t):ft.ceil(t)).getUTCFullYear()%1e4,i,4)}function Mg(){return"+0000"}function br(){return"%"}function Tr(t){return+t}function Sr(t){return Math.floor(+t/1e3)}!function Ig(t){(function Rp(t){var i=t.dateTime,e=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,h=Xt(a),d=Ut(a),u=Xt(s),p=Ut(s),f=Xt(o),_=Ut(o),v=Xt(l),x=Ut(l),T=Xt(c),b=Ut(c),y={a:function ee(k){return o[k.getDay()]},A:function ve(k){return s[k.getDay()]},b:function X(k){return c[k.getMonth()]},B:function de(k){return l[k.getMonth()]},c:null,d:fr,e:fr,f:ig,g:ug,G:pg,H:Jp,I:eg,j:tg,L:xr,m:ng,M:ag,p:function re(k){return a[+(k.getHours()>=12)]},q:function oe(k){return 1+~~(k.getMonth()/3)},Q:Tr,s:Sr,S:sg,u:rg,U:og,V:lg,w:cg,W:hg,x:null,X:null,y:dg,Y:mg,Z:gg,"%":br},A={a:function qt(k){return o[k.getUTCDay()]},A:function wt(k){return s[k.getUTCDay()]},b:function kt(k){return c[k.getUTCMonth()]},B:function Lt(k){return l[k.getUTCMonth()]},c:null,d:vr,e:vr,f:vg,g:Dg,G:Fg,H:fg,I:xg,j:_g,L:yr,m:yg,M:Cg,p:function _e(k){return a[+(k.getUTCHours()>=12)]},q:function rt(k){return 1+~~(k.getUTCMonth()/3)},Q:Tr,s:Sr,S:bg,u:Tg,U:Sg,V:wg,w:kg,W:Lg,x:null,X:null,y:Ag,Y:Eg,Z:Mg,"%":br},D={a:function Q(k,I,P){var C=f.exec(I.slice(P));return C?(k.w=_.get(C[0].toLowerCase()),P+C[0].length):-1},A:function E(k,I,P){var C=u.exec(I.slice(P));return C?(k.w=p.get(C[0].toLowerCase()),P+C[0].length):-1},b:function pe(k,I,P){var C=T.exec(I.slice(P));return C?(k.m=b.get(C[0].toLowerCase()),P+C[0].length):-1},B:function z(k,I,P){var C=v.exec(I.slice(P));return C?(k.m=x.get(C[0].toLowerCase()),P+C[0].length):-1},c:function Z(k,I,P){return Y(k,i,I,P)},d:pr,e:pr,f:qp,g:mr,G:ur,H:gr,I:gr,j:Yp,L:jp,m:Wp,M:Xp,p:function he(k,I,P){var C=h.exec(I.slice(P));return C?(k.p=d.get(C[0].toLowerCase()),P+C[0].length):-1},q:zp,Q:Zp,s:Kp,S:Up,u:Pp,U:Np,V:Hp,w:Op,W:Gp,x:function ke(k,I,P){return Y(k,e,I,P)},X:function J(k,I,P){return Y(k,n,I,P)},y:mr,Y:ur,Z:$p,"%":Qp};function w(k,I){return function(P){var Ce,M,ae,C=[],ne=-1,U=0,ye=k.length;for(P instanceof Date||(P=new Date(+P));++ne<ye;)37===k.charCodeAt(ne)&&(C.push(k.slice(U,ne)),null!=(M=dr[Ce=k.charAt(++ne)])?Ce=k.charAt(++ne):M="e"===Ce?" ":"0",(ae=I[Ce])&&(Ce=ae(P,M)),C.push(Ce),U=ne+1);return C.push(k.slice(U,ne)),C.join("")}}function W(k,I){return function(P){var U,ye,C=Yt(1900,void 0,1);if(Y(C,k,P+="",0)!=P.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(1e3*C.s+("L"in C?C.L:0));if(I&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+12*C.p),void 0===C.m&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(ye=(U=ea(Yt(C.y,0,1))).getUTCDay(),U=ye>4||0===ye?Fi.ceil(U):Fi(U),U=or.offset(U,7*(C.V-1)),C.y=U.getUTCFullYear(),C.m=U.getUTCMonth(),C.d=U.getUTCDate()+(C.w+6)%7):(ye=(U=Jn(Yt(C.y,0,1))).getDay(),U=ye>4||0===ye?Mi.ceil(U):Mi(U),U=hr.offset(U,7*(C.V-1)),C.y=U.getFullYear(),C.m=U.getMonth(),C.d=U.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ye="Z"in C?ea(Yt(C.y,0,1)).getUTCDay():Jn(Yt(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+7*C.W-(ye+5)%7:C.w+7*C.U-(ye+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,ea(C)):Jn(C)}}function Y(k,I,P,C){for(var Ce,M,ne=0,U=I.length,ye=P.length;ne<U;){if(C>=ye)return-1;if(37===(Ce=I.charCodeAt(ne++))){if(Ce=I.charAt(ne++),!(M=D[Ce in dr?I.charAt(ne++):Ce])||(C=M(k,P,C))<0)return-1}else if(Ce!=P.charCodeAt(C++))return-1}return C}return y.x=w(e,y),y.X=w(n,y),y.c=w(i,y),A.x=w(e,A),A.X=w(n,A),A.c=w(i,A),{format:function(k){var I=w(k+="",y);return I.toString=function(){return k},I},parse:function(k){var I=W(k+="",!1);return I.toString=function(){return k},I},utcFormat:function(k){var I=w(k+="",A);return I.toString=function(){return k},I},utcParse:function(k){var I=W(k+="",!0);return I.toString=function(){return k},I}}})(t)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Vn(Li),Vn(function Og(t){return null===t?NaN:+t});var Fr,Zg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Bi(t){if(!(i=Zg.exec(t)))throw new Error("invalid format: "+t);var i;return new ia({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function ia(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Vi(t,i){if((e=(t=i?t.toExponential(i-1):t.toExponential()).indexOf("e"))<0)return null;var e,n=t.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+t.slice(e+1)]}function Mr(t,i){var e=Vi(t,i);if(!e)return t+"";var n=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}Bi.prototype=ia.prototype,ia.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Rr={"%":(t,i)=>(100*t).toFixed(i),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function Kg(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,i)=>t.toExponential(i),f:(t,i)=>t.toFixed(i),g:(t,i)=>t.toPrecision(i),o:t=>Math.round(t).toString(8),p:(t,i)=>Mr(100*t,i),r:Mr,s:function af(t,i){var e=Vi(t,i);if(!e)return t+"";var n=e[0],a=e[1],s=a-(Fr=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Vi(t,Math.max(0,i+s-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Br(t){return t}var Vr=Array.prototype.map,Ir=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sf(t){var i=void 0===t.grouping||void 0===t.thousands?Br:function ef(t,i){return function(e,n){for(var a=e.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(e.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(i)}}(Vr.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",n=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Br:function tf(t){return function(i){return i.replace(/[0-9]/g,function(e){return t[+e]})}}(Vr.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(u){var p=(u=Bi(u)).fill,f=u.align,_=u.sign,v=u.symbol,x=u.zero,T=u.width,b=u.comma,y=u.precision,A=u.trim,D=u.type;"n"===D?(b=!0,D="g"):Rr[D]||(void 0===y&&(y=12),A=!0,D="g"),(x||"0"===p&&"="===f)&&(x=!0,p="0",f="=");var w="$"===v?e:"#"===v&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",W="$"===v?n:/[%p]/.test(D)?o:"",Y=Rr[D],he=/[defgprs%]/.test(D);function Q(E){var Z,ke,J,pe=w,z=W;if("c"===D)z=Y(E)+z,E="";else{var ee=(E=+E)<0||1/E<0;if(E=isNaN(E)?c:Y(Math.abs(E),y),A&&(E=function nf(t){e:for(var a,i=t.length,e=1,n=-1;e<i;++e)switch(t[e]){case".":n=a=e;break;case"0":0===n&&(n=e),a=e;break;default:if(!+t[e])break e;n>0&&(n=0)}return n>0?t.slice(0,n)+t.slice(a+1):t}(E)),ee&&0==+E&&"+"!==_&&(ee=!1),pe=(ee?"("===_?_:l:"-"===_||"("===_?"":_)+pe,z=("s"===D?Ir[8+Fr/3]:"")+z+(ee&&"("===_?")":""),he)for(Z=-1,ke=E.length;++Z<ke;)if(48>(J=E.charCodeAt(Z))||J>57){z=(46===J?a+E.slice(Z+1):E.slice(Z))+z,E=E.slice(0,Z);break}}b&&!x&&(E=i(E,1/0));var ve=pe.length+E.length+z.length,X=ve<T?new Array(T-ve+1).join(p):"";switch(b&&x&&(E=i(X+E,X.length?T-z.length:1/0),X=""),f){case"<":E=pe+E+z+X;break;case"=":E=pe+X+E+z;break;case"^":E=X.slice(0,ve=X.length>>1)+pe+E+z+X.slice(ve);break;default:E=X+pe+E+z}return s(E)}return y=void 0===y?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),Q.toString=function(){return u+""},Q}return{format:h,formatPrefix:function d(u,p){var f=h(((u=Bi(u)).type="f",u)),_=3*Math.max(-8,Math.min(8,Math.floor(function yt(t){return(t=Vi(Math.abs(t)))?t[1]:NaN}(p)/3))),v=Math.pow(10,-_),x=Ir[8+_/3];return function(T){return f(v*T)+x}}}}!function rf(t){sf(t)}({thousands:",",grouping:[3],currency:["$",""]}),Map,Set,Symbol("implicit");var mf=F(6021);const pf=["caretElm"],gf=t=>({model:t});function ff(t,i){}function xf(t,i){if(1&t&&(r.j41(0,"span"),r.DNE(1,ff,0,0,"ng-template",5),r.k0s()),2&t){const e=r.XpG();r.R7$(),r.Y8G("ngTemplateOutlet",e.template)("ngTemplateOutletContext",r.eq3(2,gf,e.context))}}function _f(t,i){if(1&t&&r.nrm(0,"span",6),2&t){const e=r.XpG();r.Y8G("innerHTML",e.title,r.npT)}}function o0(t,i,e){e=e||{};let n,a,s,o=null,l=0;function c(){l=!1===e.leading?0:+new Date,o=null,s=t.apply(n,a)}return function(){const h=+new Date;!l&&!1===e.leading&&(l=h);const d=i-(h-l);return n=this,a=arguments,d<=0?(clearTimeout(o),o=null,l=h,s=t.apply(n,a)):!o&&!1!==e.trailing&&(o=setTimeout(c,d)),s}}function l0(t,i){return function(n,a,s){return{configurable:!0,enumerable:s.enumerable,get:function(){return Object.defineProperty(this,a,{configurable:!0,enumerable:s.enumerable,value:o0(s.value,t,i)}),this[a]}}}}var O=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}(O||{});function qr(t,i,e){return e===O.Top?t.top-7:e===O.Bottom?t.top+t.height-i.height+7:e===O.Center?t.top+t.height/2-i.height/2:void 0}function Qr(t,i,e){return e===O.Left?t.left-7:e===O.Right?t.left+t.width-i.width+7:e===O.Center?t.left+t.width/2-i.width/2:void 0}class we{static calculateVerticalAlignment(i,e,n){let a=qr(i,e,n);return a+e.height>window.innerHeight&&(a=window.innerHeight-e.height),a}static calculateVerticalCaret(i,e,n,a){let s;a===O.Top&&(s=i.height/2-n.height/2+7),a===O.Bottom&&(s=e.height-i.height/2-n.height/2-7),a===O.Center&&(s=e.height/2-n.height/2);const o=qr(i,e,a);return o+e.height>window.innerHeight&&(s+=o+e.height-window.innerHeight),s}static calculateHorizontalAlignment(i,e,n){let a=Qr(i,e,n);return a+e.width>window.innerWidth&&(a=window.innerWidth-e.width),a}static calculateHorizontalCaret(i,e,n,a){let s;a===O.Left&&(s=i.width/2-n.width/2+7),a===O.Right&&(s=e.width-i.width/2-n.width/2-7),a===O.Center&&(s=e.width/2-n.width/2);const o=Qr(i,e,a);return o+e.width>window.innerWidth&&(s+=o+e.width-window.innerWidth),s}static shouldFlip(i,e,n,a){let s=!1;return n===O.Right&&i.left+i.width+e.width+a>window.innerWidth&&(s=!0),n===O.Left&&i.left-e.width-a<0&&(s=!0),n===O.Top&&i.top-e.height-a<0&&(s=!0),n===O.Bottom&&i.top+i.height+e.height+a>window.innerHeight&&(s=!0),s}static positionCaret(i,e,n,a,s){let o=0,l=0;return i===O.Right?(l=-7,o=we.calculateVerticalCaret(n,e,a,s)):i===O.Left?(l=e.width,o=we.calculateVerticalCaret(n,e,a,s)):i===O.Top?(o=e.height,l=we.calculateHorizontalCaret(n,e,a,s)):i===O.Bottom&&(o=-7,l=we.calculateHorizontalCaret(n,e,a,s)),{top:o,left:l}}static positionContent(i,e,n,a,s){let o=0,l=0;return i===O.Right?(l=n.left+n.width+a,o=we.calculateVerticalAlignment(n,e,s)):i===O.Left?(l=n.left-e.width-a,o=we.calculateVerticalAlignment(n,e,s)):i===O.Top?(o=n.top-e.height-a,l=we.calculateHorizontalAlignment(n,e,s)):i===O.Bottom&&(o=n.top+n.height+a,l=we.calculateHorizontalAlignment(n,e,s)),{top:o,left:l}}static determinePlacement(i,e,n,a){if(we.shouldFlip(n,e,i,a)){if(i===O.Right)return O.Left;if(i===O.Left)return O.Right;if(i===O.Top)return O.Bottom;if(i===O.Bottom)return O.Top}return i}}let c0=(()=>{class t{constructor(e,n,a){this.element=e,this.renderer=n,this.platformId=a}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,q.UE)(this.platformId))return;const e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;const a=e.getBoundingClientRect();this.checkFlip(n,a),this.positionContent(e,n,a),this.showCaret&&this.positionCaret(n,a),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,n,a){const{top:s,left:o}=we.positionContent(this.placement,a,n,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${s}px`),this.renderer.setStyle(e,"left",`${o}px`)}positionCaret(e,n){const a=this.caretElm.nativeElement,s=a.getBoundingClientRect(),{top:o,left:l}=we.positionCaret(this.placement,n,e,s,this.alignment);this.renderer.setStyle(a,"top",`${o}px`),this.renderer.setStyle(a,"left",`${l}px`)}checkFlip(e,n){this.placement=we.determinePlacement(this.placement,n,e,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(r.rXU(r.aKT),r.rXU(r.sFG),r.rXU(r.Agw))},t.\u0275cmp=r.VBU({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,n){if(1&e&&r.GBs(pf,5),2&e){let a;r.mGM(a=r.lsd())&&(n.caretElm=a.first)}},hostVars:2,hostBindings:function(e,n){1&e&&r.bIt("resize",function(){return n.onWindowResize()},!1,r.tSv),2&e&&r.HbH(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[["caretElm",""],[3,"hidden"],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,n){1&e&&(r.j41(0,"div"),r.nrm(1,"span",1,0),r.j41(3,"div",2),r.DNE(4,xf,2,4,"span",3)(5,_f,1,1,"span",4),r.k0s()()),2&e&&(r.R7$(),r.ZvI("tooltip-caret position-",n.placement,""),r.Y8G("hidden",!n.showCaret),r.R7$(3),r.Y8G("ngIf",!n.title),r.R7$(),r.Y8G("ngIf",n.title))},dependencies:[q.bT,q.T3],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,wh.Cg)([l0(100)],t.prototype,"onWindowResize",null),t})();class h0{constructor(i){this.injectionService=i,this.defaults={},this.components=new Map}getByType(i=this.type){return this.components.get(i)}create(i){return this.createByType(this.type,i)}createByType(i,e){e=this.assignDefaults(e);const n=this.injectComponent(i,e);return this.register(i,n),n}destroy(i){const e=this.components.get(i.componentType);if(e&&e.length){const n=e.indexOf(i);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(i){const e=this.components.get(i);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(i,e){return this.injectionService.appendComponent(i,e)}assignDefaults(i){const e={...this.defaults.inputs},n={...this.defaults.outputs};return!i.inputs&&!i.outputs&&(i={inputs:i}),e&&(i.inputs={...e,...i.inputs}),n&&(i.outputs={...n,...i.outputs}),i}register(i,e){this.components.has(i)||this.components.set(i,[]),this.components.get(i).push(e)}}let oa,Zr=(()=>{class t{constructor(e,n,a){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=a}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function d0(t){return t.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(void 0!==n.inputs){const a=Object.getOwnPropertyNames(n.inputs);for(const s of a)e.instance[s]=n.inputs[s]}if(void 0!==n.outputs){const a=Object.getOwnPropertyNames(n.outputs);for(const s of a)e.instance[s]=n.outputs[s]}}return e}appendComponent(e,n={},a){a||(a=this.getRootViewContainer());const s=this.getComponentRootNode(a),o=new Za.aI(s,this.componentFactoryResolver,this.applicationRef,this.injector),l=new Za.A8(e),c=o.attach(l);return this.projectComponentBindings(c,n),c}}return t.globalRootViewContainer=null,t.\u0275fac=function(e){return new(e||t)(r.KVO(r.o8S),r.KVO(r.OM3),r.KVO(r.zZn))},t.\u0275prov=r.jDH({token:t,factory:t.\u0275fac}),t})(),aa=(()=>{class t extends h0{constructor(e){super(e),this.type=c0}}return t.\u0275fac=function(e){return new(e||t)(r.KVO(Zr))},t.\u0275prov=r.jDH({token:t,factory:t.\u0275fac}),t})(),no=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[[q.MD]]}),t})(),so=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({providers:[Zr,aa],imports:[[q.MD]]}),t})();typeof window<"u"?oa=window:typeof global<"u"&&(oa=global);let S0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[[q.MD,no,so],q.MD,no,so]}),t})();mf(),Math;let E0=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[[S0]]}),t})();var R0=F(6850),B0=F(5833),po=F(6064),$i=F(7392),m=F(6681),g=F(2467);const P0=["GPL-My-Project-Is-Open-Source","CC-Attribution-NonCommercial-NoDerivatives"],N0={position:"absolute",zIndex:99999,bottom:"1px",left:"1px",background:"#eee",borderColor:"#ddd",borderStyle:"solid",borderWidth:"1px 1px 0 0",padding:"2px 4px",fontSize:"12px",borderTopRightRadius:"3px"};var ca=(0,$i.i1)({name:"@fullcalendar/premium-common",premiumReleaseDate:"2024-02-20",optionRefiners:{schedulerLicenseKey:String},viewContainerAppends:[function H0(t){let i=t.options.schedulerLicenseKey;if(!function $0(t){return/\w+:\/\/fullcalendar\.io\/|\/examples\/[\w-]+\.html$/.test(t)}(typeof window<"u"?window.location.href:"")){let n=function G0(t,i){if(-1!==P0.indexOf(t))return"valid";const e=(t||"").match(/^(\d+)-fcs-(\d+)$/);if(e&&10===e[1].length){const n=new Date(1e3*parseInt(e[2],10)),a=m.bI.mockSchedulerReleaseDate||i;if((0,m.bm)(a))return(0,m.t)(a,-372)<n?"valid":"outdated"}return"invalid"}(i,t.pluginHooks.premiumReleaseDate);if("valid"!==n)return(0,g.n)("div",{className:"fc-license-message",style:N0},"outdated"===n?(0,g.n)(g.FK,null,"Your license key is too old to work with this version. ",(0,g.n)("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#outdated"},"More Info")):(0,g.n)(g.FK,null,"Your license key is invalid. ",(0,g.n)("a",{href:"https://fullcalendar.io/docs/schedulerLicenseKey#invalid"},"More Info")))}return null}]});function Y0(t){let i=t.scrollLeft;if("rtl"===window.getComputedStyle(t).direction)switch(fo()){case"negative":i*=-1;case"reverse":i=t.scrollWidth-i-t.clientWidth}return i}function X0(t,i){if("rtl"===window.getComputedStyle(t).direction)switch(fo()){case"reverse":i=t.scrollWidth-i;break;case"negative":i=-(t.scrollWidth-i)}t.scrollLeft=i}let go;function fo(){return go||(go=function U0(){let i,t=document.createElement("div");return t.style.position="absolute",t.style.top="-1000px",t.style.width="1px",t.style.height="1px",t.style.overflow="scroll",t.style.direction="rtl",t.style.fontSize="100px",t.innerHTML="A",document.body.appendChild(t),t.scrollLeft>0?i="positive":(t.scrollLeft=1,i=t.scrollLeft>0?"reverse":"negative"),(0,m.aO)(t),i}())}class q0{constructor(i,e){this.scrollEl=i,this.isRtl=e,this.updateSize=()=>{let{scrollEl:n}=this,a=(0,m.aM)(n,".fc-sticky");!function Q0(t,i,e){t.forEach((n,a)=>{let h,{textAlign:s,elWidth:o,parentBound:l}=i[a];h="center"===s&&l.right-l.left>e?(e-o)/2:"",(0,m.aP)(n,{left:h,right:h,top:0})})}(a,this.queryElGeoms(a),n.clientWidth)}}queryElGeoms(i){let{scrollEl:e,isRtl:n}=this,a=function W0(t){let i=t.getBoundingClientRect(),e=(0,m.b4)(t);return{left:i.left+e.borderLeft+e.scrollbarLeft-Y0(t),top:i.top+e.borderTop-t.scrollTop}}(e),s=[];for(let o of i){let l=(0,m.aJ)((0,m.b3)(o.parentNode,!0,!0),-a.left,-a.top),c=o.getBoundingClientRect(),h=window.getComputedStyle(o),d=window.getComputedStyle(o.parentNode).textAlign,u=null;"start"===d?d=n?"right":"left":"end"===d&&(d=n?"left":"right"),"sticky"!==h.position&&(u=(0,m.aJ)(c,-a.left-(parseFloat(h.left)||0),-a.top-(parseFloat(h.top)||0))),s.push({parentBound:l,naturalBound:u,elWidth:c.width,elHeight:c.height,textAlign:d})}return s}}class Z0 extends m.B{constructor(){super(...arguments),this.elRef=(0,g._3)(),this.state={xScrollbarWidth:0,yScrollbarWidth:0},this.handleScroller=i=>{this.scroller=i,(0,m.Y)(this.props.scrollerRef,i)},this.handleSizing=()=>{let{props:i}=this;"scroll-hidden"===i.overflowY&&this.setState({yScrollbarWidth:this.scroller.getYScrollbarWidth()}),"scroll-hidden"===i.overflowX&&this.setState({xScrollbarWidth:this.scroller.getXScrollbarWidth()})}}render(){let{props:i,state:e,context:n}=this,a=n.isRtl&&(0,m.cg)(),s=0,o=0,l=0,{overflowX:c,overflowY:h}=i;return i.forPrint&&(c="visible",h="visible"),"scroll-hidden"===c&&(l=e.xScrollbarWidth),"scroll-hidden"===h&&null!=e.yScrollbarWidth&&(a?s=e.yScrollbarWidth:o=e.yScrollbarWidth),(0,g.n)("div",{ref:this.elRef,className:"fc-scroller-harness"+(i.liquid?" fc-scroller-harness-liquid":"")},(0,g.n)(m.cd,{ref:this.handleScroller,elRef:this.props.scrollerElRef,overflowX:"scroll-hidden"===c?"scroll":c,overflowY:"scroll-hidden"===h?"scroll":h,overcomeLeft:s,overcomeRight:o,overcomeBottom:l,maxHeight:"number"==typeof i.maxHeight?i.maxHeight+("scroll-hidden"===c?e.xScrollbarWidth:0):"",liquid:i.liquid,liquidIsAbsolute:!0},i.children))}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}getSnapshotBeforeUpdate(i){return this.props.forPrint&&!i.forPrint?{simulateScrollLeft:this.scroller.el.scrollLeft}:{}}componentDidUpdate(i,e,n){const{props:a,scroller:{el:s}}=this;if((0,m.E)(i,a)||this.handleSizing(),void 0!==n.simulateScrollLeft)s.style.left=-n.simulateScrollLeft+"px";else if(!a.forPrint&&i.forPrint){const o=-parseInt(s.style.left);s.style.left="",s.scrollLeft=o}}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}needsXScrolling(){return this.scroller.needsXScrolling()}needsYScrolling(){return this.scroller.needsYScrolling()}}const xo="wheel mousewheel DomMouseScroll MozMousePixelScroll".split(" ");class K0{constructor(i){this.el=i,this.emitter=new m.F,this.isScrolling=!1,this.isTouching=!1,this.isRecentlyWheeled=!1,this.isRecentlyScrolled=!1,this.wheelWaiter=new m.D(this._handleWheelWaited.bind(this)),this.scrollWaiter=new m.D(this._handleScrollWaited.bind(this)),this.handleScroll=()=>{this.startScroll(),this.emitter.trigger("scroll",this.isRecentlyWheeled,this.isTouching),this.isRecentlyScrolled=!0,this.scrollWaiter.request(500)},this.handleWheel=()=>{this.isRecentlyWheeled=!0,this.wheelWaiter.request(500)},this.handleTouchStart=()=>{this.isTouching=!0},this.handleTouchEnd=()=>{this.isTouching=!1,this.isRecentlyScrolled||this.endScroll()},i.addEventListener("scroll",this.handleScroll),i.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),i.addEventListener("touchend",this.handleTouchEnd);for(let e of xo)i.addEventListener(e,this.handleWheel)}destroy(){let{el:i}=this;i.removeEventListener("scroll",this.handleScroll),i.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),i.removeEventListener("touchend",this.handleTouchEnd);for(let e of xo)i.removeEventListener(e,this.handleWheel)}startScroll(){this.isScrolling||(this.isScrolling=!0,this.emitter.trigger("scrollStart",this.isRecentlyWheeled,this.isTouching))}endScroll(){this.isScrolling&&(this.emitter.trigger("scrollEnd"),this.isScrolling=!1,this.isRecentlyScrolled=!0,this.isRecentlyWheeled=!1,this.scrollWaiter.clear(),this.wheelWaiter.clear())}_handleScrollWaited(){this.isRecentlyScrolled=!1,this.isTouching||this.endScroll()}_handleWheelWaited(){this.isRecentlyWheeled=!1}}class J0{constructor(i,e){this.isVertical=i,this.scrollEls=e,this.isPaused=!1,this.scrollListeners=e.map(n=>this.bindScroller(n))}destroy(){for(let i of this.scrollListeners)i.destroy()}bindScroller(i){let{scrollEls:e,isVertical:n}=this,a=new K0(i);return a.emitter.on("scroll",(l,c)=>{if(!this.isPaused&&((!this.masterEl||this.masterEl!==i&&(l||c))&&this.assignMaster(i),this.masterEl===i))for(let h of e)h!==i&&(n?h.scrollTop=i.scrollTop:h.scrollLeft=i.scrollLeft)}),a.emitter.on("scrollEnd",()=>{this.masterEl===i&&(this.masterEl=null)}),a}assignMaster(i){this.masterEl=i;for(let e of this.scrollListeners)e.el!==i&&e.endScroll()}forceScrollLeft(i){this.isPaused=!0;for(let e of this.scrollListeners)X0(e.el,i);this.isPaused=!1}forceScrollTop(i){this.isPaused=!0;for(let e of this.scrollListeners)e.el.scrollTop=i;this.isPaused=!1}}m.bI.SCROLLGRID_RESIZE_INTERVAL=500;class ha extends m.B{constructor(){super(...arguments),this.compileColGroupStats=(0,m.aC)(n_,s_),this.renderMicroColGroups=(0,m.aC)(m.c1),this.clippedScrollerRefs=new m.cf,this.scrollerElRefs=new m.cf(this._handleScrollerEl.bind(this)),this.chunkElRefs=new m.cf(this._handleChunkEl.bind(this)),this.scrollSyncersBySection={},this.scrollSyncersByColumn={},this.rowUnstableMap=new Map,this.rowInnerMaxHeightMap=new Map,this.anyRowHeightsChanged=!1,this.recentSizingCnt=0,this.state={shrinkWidths:[],forceYScrollbars:!1,forceXScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{},sectionRowMaxHeights:[]},this.handleSizing=(i,e)=>{if(!this.allowSizing())return;e||(this.anyRowHeightsChanged=!0);let n={};(i||!e&&!this.rowUnstableMap.size)&&(n.sectionRowMaxHeights=this.computeSectionRowMaxHeights()),this.setState(Object.assign(Object.assign({shrinkWidths:this.computeShrinkWidths()},this.computeScrollerDims()),n),()=>{this.rowUnstableMap.size||this.updateStickyScrolling()})},this.handleRowHeightChange=(i,e)=>{let{rowUnstableMap:n,rowInnerMaxHeightMap:a}=this;if(e){n.delete(i);let s=_o(i);(!a.has(i)||a.get(i)!==s)&&(a.set(i,s),this.anyRowHeightsChanged=!0),!n.size&&this.anyRowHeightsChanged&&(this.anyRowHeightsChanged=!1,this.setState({sectionRowMaxHeights:this.computeSectionRowMaxHeights()}))}else n.set(i,!0)}}render(){let{props:i,state:e,context:n}=this,{shrinkWidths:a}=e,s=this.compileColGroupStats(i.colGroups.map(T=>[T])),o=this.renderMicroColGroups(s.map((T,b)=>[T.cols,a[b]])),l=(0,m.c2)(i.liquid,n);this.getDims();let u,c=i.sections,h=c.length,d=0,p=[],f=[],_=[];for(;d<h&&"header"===(u=c[d]).type;)p.push(this.renderSection(u,d,s,o,e.sectionRowMaxHeights,!0)),d+=1;for(;d<h&&"body"===(u=c[d]).type;)f.push(this.renderSection(u,d,s,o,e.sectionRowMaxHeights,!1)),d+=1;for(;d<h&&"footer"===(u=c[d]).type;)_.push(this.renderSection(u,d,s,o,e.sectionRowMaxHeights,!0)),d+=1;const v=!(0,m.aT)(),x={role:"rowgroup"};return(0,g.n)("table",{ref:i.elRef,role:"grid",className:l.join(" ")},function i_(t,i){let e=t.map((n,a)=>{let s=n.width;return"shrink"===s&&(s=n.totalColWidth+(0,m.c8)(i[a])+1),(0,g.n)("col",{style:{width:s}})});return(0,g.n)("colgroup",{},...e)}(s,a),!(v||!p.length)&&(0,g.n)("thead",x,...p),!(v||!f.length)&&(0,g.n)("tbody",x,...f),!(v||!_.length)&&(0,g.n)("tfoot",x,..._),v&&(0,g.n)("tbody",x,...p,...f,..._))}renderSection(i,e,n,a,s,o){return"outerContent"in i?(0,g.n)(g.FK,{key:i.key},i.outerContent):(0,g.n)("tr",{key:i.key,role:"presentation",className:(0,m.c3)(i,this.props.liquid).join(" ")},i.chunks.map((l,c)=>this.renderChunk(i,e,n[c],a[c],l,c,(s[e]||[])[c]||[],o)))}renderChunk(i,e,n,a,s,o,l,c){if("outerContent"in s)return(0,g.n)(g.FK,{key:s.key},s.outerContent);let{state:h}=this,{scrollerClientWidths:d,scrollerClientHeights:u}=h,[p,f]=this.getDims(),_=e*f+o,x=o===(!this.context.isRtl||(0,m.cg)()?f-1:0),T=e===p-1,b=T&&h.forceXScrollbars,y=x&&h.forceYScrollbars,A=n&&n.allowXScrolling,D=(0,m.c5)(this.props,i),w=(0,m.c4)(this.props,i),he=(0,m.c6)(i,s,{tableColGroupNode:a,tableMinWidth:n&&n.totalColMinWidth||"",clientWidth:void 0!==d[_]?d[_]:null,clientHeight:void 0!==u[_]?u[_]:null,expandRows:i.expandRows&&w,syncRowHeights:!!i.syncRowHeights,rowSyncHeights:l,reportRowHeightChange:this.handleRowHeightChange},c),Q=b?T?"scroll":"scroll-hidden":A?T?"auto":"scroll-hidden":"hidden",E=y?x?"scroll":"scroll-hidden":D?x?"auto":"scroll-hidden":"hidden";return he=(0,g.n)(Z0,{ref:this.clippedScrollerRefs.createRef(_),scrollerElRef:this.scrollerElRefs.createRef(_),overflowX:Q,overflowY:E,forPrint:this.props.forPrint,liquid:w,maxHeight:i.maxHeight},he),(0,g.n)(c?"th":"td",{key:s.key,ref:this.chunkElRefs.createRef(_),role:"presentation"},he)}componentDidMount(){this.getStickyScrolling=(0,m.aC)(r_),this.getScrollSyncersBySection=(0,m.aD)(yo.bind(this,!0),null,zi),this.getScrollSyncersByColumn=(0,m.aD)(yo.bind(this,!1),null,zi),this.updateScrollSyncers(),this.handleSizing(!1),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(i,e){this.updateScrollSyncers(),this.handleSizing(!1,e.sectionRowMaxHeights!==this.state.sectionRowMaxHeights)}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing),this.destroyScrollSyncers()}allowSizing(){let i=new Date;return!this.lastSizingDate||i.valueOf()>this.lastSizingDate.valueOf()+m.bI.SCROLLGRID_RESIZE_INTERVAL?(this.lastSizingDate=i,this.recentSizingCnt=0,!0):(this.recentSizingCnt+=1)<=10}computeShrinkWidths(){let i=this.compileColGroupStats(this.props.colGroups.map(o=>[o])),[e,n]=this.getDims(),a=e*n,s=[];return i.forEach((o,l)=>{if(o.hasShrinkCol){let c=this.chunkElRefs.collect(l,a,n);s[l]=(0,m.c7)(c)}}),s}computeSectionRowMaxHeights(){let i=new Map,[e,n]=this.getDims(),a=[];for(let s=0;s<e;s+=1){let o=this.props.sections[s],l=[];if(o&&o.syncRowHeights){let c=[];for(let u=0;u<n;u+=1){let f=[],_=this.chunkElRefs.currentMap[s*n+u];f=_?(0,m.aM)(_,".fc-scrollgrid-sync-table tr").map(v=>{let x=_o(v);return i.set(v,x),x}):[],c.push(f)}let h=c[0].length,d=!0;for(let u=1;u<n;u+=1)if((!o.chunks[u]||void 0===o.chunks[u].outerContent)&&c[u].length!==h){d=!1;break}if(d){for(let u=0;u<n;u+=1)l.push([]);for(let u=0;u<h;u+=1){let p=[];for(let _=0;_<n;_+=1){let v=c[_][u];null!=v&&p.push(v)}let f=Math.max(...p);for(let _=0;_<n;_+=1)l[_].push(f)}}else{let u=[];for(let f=0;f<n;f+=1)u.push(e_(c[f])+c[f].length);let p=Math.max(...u);for(let f=0;f<n;f+=1){let _=c[f].length,v=p-_,x=Math.floor(v/_),b=[],y=0;for(y<_&&(b.push(v-x*(_-1)),y+=1);y<_;)b.push(x),y+=1;l.push(b)}}}a.push(l)}return this.rowInnerMaxHeightMap=i,a}computeScrollerDims(){let i=(0,m.ce)(),[e,n]=this.getDims(),a=!this.context.isRtl||(0,m.cg)()?n-1:0,s=e-1,o=this.clippedScrollerRefs.currentMap,l=this.scrollerElRefs.currentMap,c=!1,h=!1,d={},u={};for(let p=0;p<e;p+=1){let _=o[p*n+a];if(_&&_.needsYScrolling()){c=!0;break}}for(let p=0;p<n;p+=1){let _=o[s*n+p];if(_&&_.needsXScrolling()){h=!0;break}}for(let p=0;p<e;p+=1)for(let f=0;f<n;f+=1){let _=p*n+f,v=l[_];if(v){let x=v.parentNode;d[_]=Math.floor(x.getBoundingClientRect().width-(f===a&&c?i.y:0)),u[_]=Math.floor(x.getBoundingClientRect().height-(p===s&&h?i.x:0))}}return{forceYScrollbars:c,forceXScrollbars:h,scrollerClientWidths:d,scrollerClientHeights:u}}updateStickyScrolling(){let{isRtl:i}=this.context,e=this.scrollerElRefs.getAll().map(n=>[n,i]);this.getStickyScrolling(e).forEach(n=>n.updateSize())}updateScrollSyncers(){let[i,e]=this.getDims(),n=i*e,a={},s={},o=this.scrollerElRefs.currentMap;for(let l=0;l<i;l+=1){let c=l*e;a[l]=(0,m.aL)(o,c,c+e,1)}for(let l=0;l<e;l+=1)s[l]=this.scrollerElRefs.collect(l,n,e);this.scrollSyncersBySection=this.getScrollSyncersBySection(a),this.scrollSyncersByColumn=this.getScrollSyncersByColumn(s)}destroyScrollSyncers(){(0,m.a)(this.scrollSyncersBySection,zi),(0,m.a)(this.scrollSyncersByColumn,zi)}getChunkConfigByIndex(i){let e=this.getDims()[1],n=Math.floor(i/e),s=this.props.sections[n];return s&&s.chunks[i%e]}forceScrollLeft(i,e){let n=this.scrollSyncersByColumn[i];n&&n.forceScrollLeft(e)}forceScrollTop(i,e){let n=this.scrollSyncersBySection[i];n&&n.forceScrollTop(e)}_handleChunkEl(i,e){let n=this.getChunkConfigByIndex(parseInt(e,10));n&&(0,m.Y)(n.elRef,i)}_handleScrollerEl(i,e){let n=this.getChunkConfigByIndex(parseInt(e,10));n&&(0,m.Y)(n.scrollerElRef,i)}getDims(){let i=this.props.sections.length;return[i,i?this.props.sections[0].chunks.length:0]}}function e_(t){let i=0;for(let e of t)i+=e;return i}function _o(t){let i=(0,m.aM)(t,".fc-scrollgrid-sync-inner").map(t_);return i.length?Math.max(...i):0}function t_(t){return t.offsetHeight}function n_(t){let i=vo(t.cols,"width"),e=vo(t.cols,"minWidth"),n=(0,m.c0)(t.cols);return{hasShrinkCol:n,totalColWidth:i,totalColMinWidth:e,allowXScrolling:"shrink"!==t.width&&!!(i||e||n),cols:t.cols,width:t.width}}function vo(t,i){let e=0;for(let n of t){let a=n[i];"number"==typeof a&&(e+=a*(n.span||1))}return e}ha.addStateEquality({shrinkWidths:m.i,scrollerClientWidths:m.E,scrollerClientHeights:m.E});const a_={cols:m.c9};function s_(t,i){return(0,m.aK)(t,i,a_)}function yo(t,...i){return new J0(t,i)}function zi(t){t.destroy()}function r_(t,i){return new q0(t,i)}const o_=18,Wi=6;m.bI.MAX_TIMELINE_SLOTS=1e3;const da=[{years:1},{months:1},{days:1},{hours:1},{minutes:30},{minutes:15},{minutes:10},{minutes:5},{minutes:1},{seconds:30},{seconds:15},{seconds:10},{seconds:5},{seconds:1},{milliseconds:500},{milliseconds:100},{milliseconds:10},{milliseconds:1}];function Co(t,i,e,n){let a={labelInterval:e.slotLabelInterval,slotDuration:e.slotDuration};(function h_(t,i,e){const{currentRange:n}=i;if(t.labelInterval&&e.countDurationsBetween(n.start,n.end,t.labelInterval)>m.bI.MAX_TIMELINE_SLOTS&&(console.warn("slotLabelInterval results in too many cells"),t.labelInterval=null),t.slotDuration&&e.countDurationsBetween(n.start,n.end,t.slotDuration)>m.bI.MAX_TIMELINE_SLOTS&&(console.warn("slotDuration results in too many cells"),t.slotDuration=null),t.labelInterval&&t.slotDuration){const a=(0,m.bt)(t.labelInterval,t.slotDuration);(null===a||a<1)&&(console.warn("slotLabelInterval must be a multiple of slotDuration"),t.slotDuration=null)}})(a,t,i),To(a,t,i),function d_(t,i,e){const{currentRange:n}=i;let{slotDuration:a}=t;if(!a){const s=To(t,i,e);for(let o of da){const l=(0,m.d)(o),c=(0,m.bt)(s,l);if(null!==c&&c>1&&c<=Wi){a=l;break}}a&&e.countDurationsBetween(n.start,n.end,a)>200&&(a=null),a||(a=s),t.slotDuration=a}}(a,t,i);let s=e.slotLabelFormat,o=Array.isArray(s)?s:null!=s?[s]:function u_(t,i,e,n){let a,s;const{labelInterval:o}=t;let l=(0,m.c)(o).unit;const c=n.weekNumbers;let h=a=s=null;switch("week"===l&&!c&&(l="day"),l){case"year":h={year:"numeric"};break;case"month":Tt("years",i,e)>1&&(h={year:"numeric"}),a={month:"short"};break;case"week":Tt("years",i,e)>1&&(h={year:"numeric"}),a={week:"narrow"};break;case"day":Tt("years",i,e)>1?h={year:"numeric",month:"long"}:Tt("months",i,e)>1&&(h={month:"long"}),c&&(a={week:"short"}),s={weekday:"narrow",day:"numeric"};break;case"hour":c&&(h={week:"short"}),Tt("days",i,e)>1&&(a={weekday:"short",day:"numeric",month:"numeric",omitCommas:!0}),s={hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"};break;case"minute":(0,m.bq)(o)/60>=Wi?(h={hour:"numeric",meridiem:"short"},a=d=>":"+(0,m.am)(d.date.minute,2)):h={hour:"numeric",minute:"numeric",meridiem:"short"};break;case"second":(0,m.br)(o)/60>=Wi?(h={hour:"numeric",minute:"2-digit",meridiem:"lowercase"},a=d=>":"+(0,m.am)(d.date.second,2)):h={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"};break;case"millisecond":h={hour:"numeric",minute:"2-digit",second:"2-digit",meridiem:"lowercase"},a=d=>"."+(0,m.am)(d.millisecond,3)}return[].concat(h||[],a||[],s||[])}(a,t,i,e);a.headerFormats=o.map(A=>(0,m.x)(A)),a.isTimeScale=!!a.slotDuration.milliseconds;let l=null;if(!a.isTimeScale){const A=(0,m.c)(a.slotDuration).unit;/year|month|week/.test(A)&&(l=A)}a.largeUnit=l,a.emphasizeWeeks=1===(0,m.bn)(a.slotDuration)&&Tt("weeks",t,i)>=2&&!e.businessHours;let h,d,c=e.snapDuration;c&&(h=(0,m.d)(c),d=(0,m.bt)(a.slotDuration,h)),null==d&&(h=a.slotDuration,d=1),a.snapDuration=h,a.snapsPerSlot=d;let u=(0,m.bs)(t.slotMaxTime)-(0,m.bs)(t.slotMinTime),p=bo(t.renderRange.start,a,i),f=bo(t.renderRange.end,a,i);a.isTimeScale&&(p=i.add(p,t.slotMinTime),f=i.add((0,m.t)(f,-1),t.slotMaxTime)),a.timeWindowMs=u,a.normalizedRange={start:p,end:f};let _=[],v=p;for(;v<f;)Yi(v,a,t,n)&&_.push(v),v=i.add(v,a.slotDuration);a.slotDates=_;let x=-1,T=0;const b=[],y=[];for(v=p;v<f;)Yi(v,a,t,n)?(x+=1,b.push(x),y.push(T)):b.push(x+.5),v=i.add(v,a.snapDuration),T+=1;return a.snapDiffToIndex=b,a.snapIndexToDiff=y,a.snapCnt=x+1,a.slotCnt=a.snapCnt/a.snapsPerSlot,a.isWeekStarts=function m_(t,i){let{slotDates:e,emphasizeWeeks:n}=t,a=null,s=[];for(let o of e){let l=i.computeWeekNumber(o),c=n&&null!==a&&a!==l;a=l,s.push(c)}return s}(a,i),a.cellRows=function p_(t,i){let e=t.slotDates,n=t.headerFormats,a=n.map(()=>[]),s=(0,m.bn)(t.slotDuration),o=7===s?"week":1===s?"day":null,l=n.map(c=>c.getLargestUnit?c.getLargestUnit():null);for(let c=0;c<e.length;c+=1){let h=e[c],d=t.isWeekStarts[c];for(let u=0;u<n.length;u+=1){let p=n[u],f=a[u],_=f[f.length-1],v=u===n.length-1,T=null,b=l[u]||(v?o:null);if(n.length>1&&!v){let y=i.format(h,p);_&&_.text===y?_.colspan+=1:T=So(h,y,b)}else!_||(0,m.an)(i.countDurationsBetween(t.normalizedRange.start,h,t.labelInterval))?T=So(h,i.format(h,p),b):_.colspan+=1;T&&(T.weekStart=d,f.push(T))}}return a}(a,i),a.slotsPerLabel=(0,m.bt)(a.labelInterval,a.slotDuration),a}function bo(t,i,e){let n=t;return i.isTimeScale||(n=(0,m.q)(n),i.largeUnit&&(n=e.startOf(n,i.largeUnit))),n}function Yi(t,i,e,n){if(n.isHiddenDay(t))return!1;if(i.isTimeScale){let a=(0,m.q)(t),o=t.valueOf()-a.valueOf()-(0,m.bs)(e.slotMinTime);return o=(o%864e5+864e5)%864e5,o<i.timeWindowMs}return!0}function To(t,i,e){const{currentRange:n}=i;let{labelInterval:a}=t;if(!a){let s;if(t.slotDuration){for(s of da){const o=(0,m.d)(s),l=(0,m.bt)(o,t.slotDuration);if(null!==l&&l<=Wi){a=o;break}}a||(a=t.slotDuration)}else for(s of da)if(a=(0,m.d)(s),e.countDurationsBetween(n.start,n.end,a)>=o_)break;t.labelInterval=a}return a}function Tt(t,i,e){let n=i.currentRange,a=null;return"years"===t?a=e.diffWholeYears(n.start,n.end):"months"===t||"weeks"===t?a=e.diffWholeMonths(n.start,n.end):"days"===t&&(a=(0,m.y)(n.start,n.end)),a||0}function So(t,i,e){return{date:t,text:i,rowUnit:e,colspan:1,isWeekStart:!1}}class g_ extends m.B{constructor(){super(...arguments),this.refineRenderProps=(0,m.A)(__),this.buildCellNavLinkAttrs=(0,m.z)(f_)}render(){let{props:i,context:e}=this,{dateEnv:n,options:a}=e,{cell:s,dateProfile:o,tDateProfile:l}=i,c=(0,m.a_)(s.date,i.todayRange,i.nowDate,o),h=this.refineRenderProps({level:i.rowLevel,dateMarker:s.date,text:s.text,dateEnv:e.dateEnv,viewApi:e.viewApi});return(0,g.n)(m.C,{elTag:"th",elClasses:["fc-timeline-slot","fc-timeline-slot-label",s.isWeekStart&&"fc-timeline-slot-em",..."time"===s.rowUnit?(0,m.a$)(c,e.theme):(0,m.aZ)(c,e.theme)],elAttrs:{colSpan:s.colspan,"data-date":n.formatIso(s.date,{omitTime:!l.isTimeScale,omitTimeZoneOffset:!0})},renderProps:h,generatorName:"slotLabelContent",customGenerator:a.slotLabelContent,defaultGenerator:x_,classNameGenerator:a.slotLabelClassNames,didMount:a.slotLabelDidMount,willUnmount:a.slotLabelWillUnmount},d=>(0,g.n)("div",{className:"fc-timeline-slot-frame",style:{height:i.rowInnerHeight}},(0,g.n)(d,{elTag:"a",elClasses:["fc-timeline-slot-cushion","fc-scrollgrid-sync-inner",i.isSticky&&"fc-sticky"],elAttrs:this.buildCellNavLinkAttrs(e,s.date,s.rowUnit)})))}}function f_(t,i,e){return e&&"time"!==e?(0,m.b0)(t,i,e):{}}function x_(t){return t.text}function __(t){return{level:t.level,date:t.dateEnv.toDate(t.dateMarker),view:t.viewApi,text:t.text}}class v_ extends m.B{render(){let{dateProfile:i,tDateProfile:e,rowInnerHeights:n,todayRange:a,nowDate:s}=this.props,{cellRows:o}=e;return(0,g.n)(g.FK,null,o.map((l,c)=>{let h=c===o.length-1;return(0,g.n)("tr",{key:c,className:["fc-timeline-header-row",e.isTimeScale&&h?"fc-timeline-header-row-chrono":""].join(" ")},l.map(p=>(0,g.n)(g_,{key:p.date.toISOString(),cell:p,rowLevel:c,dateProfile:i,tDateProfile:e,todayRange:a,nowDate:s,rowInnerHeight:n&&n[c],isSticky:!h})))}))}}class y_{constructor(i,e,n,a,s,o){this.slatRootEl=i,this.dateProfile=n,this.tDateProfile=a,this.dateEnv=s,this.isRtl=o,this.outerCoordCache=new m.ba(i,e,!0,!1),this.innerCoordCache=new m.ba(i,(0,m.aN)(e,"div"),!0,!1)}isDateInRange(i){return(0,m.H)(this.dateProfile.currentRange,i)}dateToCoord(i){let{tDateProfile:e}=this,a=this.computeDateSnapCoverage(i)/e.snapsPerSlot,s=Math.floor(a);s=Math.min(s,e.slotCnt-1);let o=a-s,{innerCoordCache:l,outerCoordCache:c}=this;return this.isRtl?c.originClientRect.width-(c.rights[s]-l.getWidth(s)*o):c.lefts[s]+l.getWidth(s)*o}rangeToCoords(i){return{start:this.dateToCoord(i.start),end:this.dateToCoord(i.end)}}durationToCoord(i){let{dateProfile:e,tDateProfile:n,dateEnv:a,isRtl:s}=this,o=0;if(e){let l=a.add(e.activeRange.start,i);n.isTimeScale||(l=(0,m.q)(l)),o=this.dateToCoord(l),!s&&o&&(o+=1)}return o}coordFromLeft(i){return this.isRtl?this.outerCoordCache.originClientRect.width-i:i}computeDateSnapCoverage(i){return ua(i,this.tDateProfile,this.dateEnv)}}function ua(t,i,e){let n=e.countDurationsBetween(i.normalizedRange.start,t,i.snapDuration);if(n<0)return 0;if(n>=i.snapDiffToIndex.length)return i.snapCnt;let a=Math.floor(n),s=i.snapDiffToIndex[a];return(0,m.an)(s)?s+=n-a:s=Math.ceil(s),s}function ma(t,i){return null===t?{left:"",right:""}:i?{right:t,left:""}:{left:t,right:""}}function pa(t,i){return t?i?{right:t.start,left:-t.end}:{left:t.start,right:-t.end}:{left:"",right:""}}class wo extends m.B{constructor(){super(...arguments),this.rootElRef=(0,g._3)()}render(){let{props:i,context:e}=this,n=(0,m.c)(i.tDateProfile.slotDuration).unit,a=i.slatCoords&&i.slatCoords.dateProfile===i.dateProfile?i.slatCoords:null;return(0,g.n)(m.ch,{unit:n},(s,o)=>(0,g.n)("div",{className:"fc-timeline-header",ref:this.rootElRef},(0,g.n)("table",{"aria-hidden":!0,className:"fc-scrollgrid-sync-table",style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,(0,g.n)("tbody",null,(0,g.n)(v_,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:s,todayRange:o,rowInnerHeights:i.rowInnerHeights}))),e.options.nowIndicator&&(0,g.n)("div",{className:"fc-timeline-now-indicator-container"},a&&a.isDateInRange(s)&&(0,g.n)(m.ck,{elClasses:["fc-timeline-now-indicator-arrow"],elStyle:ma(a.dateToCoord(s),e.isRtl),isAxis:!0,date:s}))))}componentDidMount(){this.updateSize()}componentDidUpdate(){this.updateSize()}updateSize(){this.props.onMaxCushionWidth&&this.props.onMaxCushionWidth(this.computeMaxCushionWidth())}computeMaxCushionWidth(){return Math.max(...(0,m.aM)(this.rootElRef.current,".fc-timeline-header-row:last-child .fc-timeline-slot-cushion").map(i=>i.getBoundingClientRect().width))}}class C_ extends m.B{render(){let{props:i,context:e}=this,{dateEnv:n,options:a,theme:s}=e,{date:o,tDateProfile:l,isEm:c}=i,h=(0,m.a_)(i.date,i.todayRange,i.nowDate,i.dateProfile),d=Object.assign(Object.assign({date:n.toDate(i.date)},h),{view:e.viewApi});return(0,g.n)(m.C,{elTag:"td",elRef:i.elRef,elClasses:["fc-timeline-slot","fc-timeline-slot-lane",c&&"fc-timeline-slot-em",l.isTimeScale?(0,m.an)(n.countDurationsBetween(l.normalizedRange.start,i.date,l.labelInterval))?"fc-timeline-slot-major":"fc-timeline-slot-minor":"",...i.isDay?(0,m.aZ)(h,s):(0,m.a$)(h,s)],elAttrs:{"data-date":n.formatIso(o,{omitTimeZoneOffset:!0,omitTime:!l.isTimeScale})},renderProps:d,generatorName:"slotLaneContent",customGenerator:a.slotLaneContent,classNameGenerator:a.slotLaneClassNames,didMount:a.slotLaneDidMount,willUnmount:a.slotLaneWillUnmount},u=>(0,g.n)(u,{elTag:"div"}))}}class b_ extends m.B{render(){let{props:i}=this,{tDateProfile:e,cellElRefs:n}=i,{slotDates:a,isWeekStarts:s}=e,o=!e.isTimeScale&&!e.largeUnit;return(0,g.n)("tbody",null,(0,g.n)("tr",null,a.map((l,c)=>{let h=l.toISOString();return(0,g.n)(C_,{key:h,elRef:n.createRef(h),date:l,dateProfile:i.dateProfile,tDateProfile:e,nowDate:i.nowDate,todayRange:i.todayRange,isEm:s[c],isDay:o})})))}}class ko extends m.B{constructor(){super(...arguments),this.rootElRef=(0,g._3)(),this.cellElRefs=new m.cf,this.handleScrollRequest=i=>{let{onScrollLeftRequest:e}=this.props,{coords:n}=this;return e&&n?(i.time&&e(n.coordFromLeft(n.durationToCoord(i.time))),!0):null}}render(){let{props:i,context:e}=this;return(0,g.n)("div",{className:"fc-timeline-slots",ref:this.rootElRef},(0,g.n)("table",{"aria-hidden":!0,className:e.theme.getClass("table"),style:{minWidth:i.tableMinWidth,width:i.clientWidth}},i.tableColGroupNode,(0,g.n)(b_,{cellElRefs:this.cellElRefs,dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange})))}componentDidMount(){this.updateSizing(),this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(i){this.updateSizing(),this.scrollResponder.update(i.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach(),this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{props:i,context:e}=this;null!==i.clientWidth&&this.scrollResponder&&this.rootElRef.current.offsetWidth&&(this.coords=new y_(this.rootElRef.current,function T_(t,i){return i.map(e=>{let n=e.toISOString();return t[n]})}(this.cellElRefs.currentMap,i.tDateProfile.slotDates),i.dateProfile,i.tDateProfile,e.dateEnv,e.isRtl),i.onCoords&&i.onCoords(this.coords),this.scrollResponder.update(!1))}positionToHit(i){let{outerCoordCache:e}=this.coords,{dateEnv:n,isRtl:a}=this.context,{tDateProfile:s}=this.props,o=e.leftToIndex(i);if(null!=o){let l=e.getWidth(o),h=Math.floor((a?(e.rights[o]-i)/l:(i-e.lefts[o])/l)*s.snapsPerSlot),d=n.add(s.slotDates[o],(0,m.bo)(s.snapDuration,h));return{dateSpan:{range:{start:d,end:n.add(d,s.snapDuration)},allDay:!this.props.tDateProfile.isTimeScale},dayEl:this.cellElRefs.currentMap[o],left:e.lefts[o],right:e.rights[o]}}return null}}function Lo(t,i,e){let n=[];if(e)for(let a of t){let s=e.rangeToCoords(a),o=Math.round(s.start),l=Math.round(s.end);l-o<i&&(l=o+i),n.push({start:o,end:l})}return n}class Ao extends m.B{render(){let{props:i}=this,e=[].concat(i.eventResizeSegs,i.dateSelectionSegs);return i.timelineCoords&&(0,g.n)("div",{className:"fc-timeline-bg"},this.renderSegs(i.businessHourSegs||[],i.timelineCoords,"non-business"),this.renderSegs(i.bgEventSegs||[],i.timelineCoords,"bg-event"),this.renderSegs(e,i.timelineCoords,"highlight"))}renderSegs(i,e,n){let{todayRange:a,nowDate:s}=this.props,{isRtl:o}=this.context,l=Lo(i,0,e),c=i.map((h,d)=>{let p=pa(l[d],o);return(0,g.n)("div",{key:(0,m.bT)(h.eventRange),className:"fc-timeline-bg-harness",style:p},"bg-event"===n?(0,g.n)(m.cp,Object.assign({seg:h},(0,m.bS)(h,a,s))):(0,m.co)(n))});return(0,g.n)(g.FK,null,c)}}class Do extends m.bW{sliceRange(i,e,n,a,s){let o=function c_(t,i,e){if(!i.isTimeScale&&(t=(0,m.ay)(t),i.largeUnit)){let n=t;((t={start:e.startOf(t.start,i.largeUnit),end:e.startOf(t.end,i.largeUnit)}).end.valueOf()!==n.end.valueOf()||t.end<=t.start)&&(t={start:t.start,end:e.add(t.end,i.slotDuration)})}return t}(i,a,s),l=[];if(ua(o.start,a,s)<ua(o.end,a,s)){let c=(0,m.o)(o,a.normalizedRange);c&&l.push({start:c.start,end:c.end,isStart:c.start.valueOf()===o.start.valueOf()&&Yi(c.start,a,e,n),isEnd:c.end.valueOf()===o.end.valueOf()&&Yi((0,m.bg)(c.end,-1),a,e,n)})}return l}}const w_=(0,m.x)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});class Eo extends m.B{render(){let{props:i}=this;return(0,g.n)(m.cj,Object.assign({},i,{elClasses:["fc-timeline-event","fc-h-event"],defaultTimeFormat:w_,defaultDisplayEventTime:!i.isTimeScale}))}}class k_ extends m.B{render(){let{props:i,context:e}=this,{hiddenSegs:n,placement:a,resourceId:s}=i,{top:o,hcoords:l}=a,c=l&&null!==o,h=pa(l,e.isRtl),d=s?{resourceId:s}:{};return(0,g.n)(m.cr,{elRef:i.elRef,elClasses:["fc-timeline-more-link"],elStyle:Object.assign({visibility:c?"":"hidden",top:o||0},h),allDayDate:null,moreCnt:n.length,allSegs:n,hiddenSegs:n,dateProfile:i.dateProfile,todayRange:i.todayRange,extraDateSpan:d,popoverContent:()=>(0,g.n)(g.FK,null,n.map(u=>{let p=u.eventRange.instance.instanceId;return(0,g.n)("div",{key:p,style:{visibility:i.isForcedInvisible[p]?"hidden":""}},(0,g.n)(Eo,Object.assign({isTimeScale:i.isTimeScale,seg:u,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:p===i.eventSelection},(0,m.bS)(u,i.todayRange,i.nowDate))))}))},u=>(0,g.n)(u,{elTag:"div",elClasses:["fc-timeline-more-link-inner","fc-sticky"]}))}}class ga extends m.B{constructor(){super(...arguments),this.slicer=new Do,this.sortEventSegs=(0,m.z)(m.bR),this.harnessElRefs=new m.cf,this.moreElRefs=new m.cf,this.innerElRef=(0,g._3)(),this.state={eventInstanceHeights:{},moreLinkHeights:{}},this.handleResize=i=>{i&&this.updateSize()}}render(){let{props:i,state:e,context:n}=this,{options:a}=n,{dateProfile:s,tDateProfile:o}=i,l=this.slicer.sliceProps(i,s,o.isTimeScale?null:i.nextDayThreshold,n,s,n.dateProfileGenerator,o,n.dateEnv),c=(l.eventDrag?l.eventDrag.segs:null)||(l.eventResize?l.eventResize.segs:null)||[],h=this.sortEventSegs(l.fgEventSegs,a.eventOrder),d=Lo(h,a.eventMinWidth,i.timelineCoords),[u,p]=function S_(t,i,e,n,a,s){let o=[],l=[];for(let b=0;b<t.length;b+=1){let y=t[b],D=e[y.eventRange.instance.instanceId],w=i[b];D&&w?o.push({index:b,span:w,thickness:D}):l.push({seg:y,hcoords:w,top:null})}let c=new m.bA;null!=a&&(c.strictOrder=a),null!=s&&(c.maxStackCnt=s);let h=c.addSegs(o),d=h.map(b=>({seg:t[b.index],hcoords:b.span,top:null})),u=(0,m.bE)(h),p=[],f=[];const _=b=>t[b.index];for(let b=0;b<u.length;b+=1){let y=u[b],A=y.entries.map(_),D=n[(0,m.bw)((0,m.cs)(A))];null!=D?p.push({index:t.length+b,thickness:D,span:y.span}):f.push({seg:A,hcoords:y.span,top:null})}c.maxStackCnt=-1,c.addSegs(p);let v=c.toRects(),x=[],T=0;for(let b of v){let y=b.index;x.push({seg:y<t.length?t[y]:u[y-t.length].entries.map(_),hcoords:b.span,top:b.levelCoord}),T=Math.max(T,b.levelCoord+b.thickness)}return[x.concat(l,d,f),T]}(h,d,e.eventInstanceHeights,e.moreLinkHeights,a.eventOrderStrict,a.eventMaxStack),f=(l.eventDrag?l.eventDrag.affectedInstances:null)||(l.eventResize?l.eventResize.affectedInstances:null)||{};return(0,g.n)(g.FK,null,(0,g.n)(Ao,{businessHourSegs:l.businessHourSegs,bgEventSegs:l.bgEventSegs,timelineCoords:i.timelineCoords,eventResizeSegs:l.eventResize?l.eventResize.segs:[],dateSelectionSegs:l.dateSelectionSegs,nowDate:i.nowDate,todayRange:i.todayRange}),(0,g.n)("div",{className:"fc-timeline-events fc-scrollgrid-sync-inner",ref:this.innerElRef,style:{height:p}},this.renderFgSegs(u,f,!1,!1,!1),this.renderFgSegs(function L_(t,i,e){if(!t.length||!i)return[];let n=function A_(t){let i={};for(let e of t){let{seg:n}=e;Array.isArray(n)||(i[n.eventRange.instance.instanceId]=e.top)}return i}(e);return t.map(a=>({seg:a,hcoords:i.rangeToCoords(a),top:n[a.eventRange.instance.instanceId]}))}(c,i.timelineCoords,u),{},!!l.eventDrag,!!l.eventResize,!1)))}componentDidMount(){this.updateSize(),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(i,e){(i.eventStore!==this.props.eventStore||i.timelineCoords!==this.props.timelineCoords||e.moreLinkHeights!==this.state.moreLinkHeights)&&this.updateSize()}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateSize(){let{props:i}=this,{timelineCoords:e}=i;const n=this.innerElRef.current;i.onHeightChange&&i.onHeightChange(n,!1),e&&this.setState({eventInstanceHeights:(0,m.a)(this.harnessElRefs.currentMap,a=>Math.round(a.getBoundingClientRect().height)),moreLinkHeights:(0,m.a)(this.moreElRefs.currentMap,a=>Math.round(a.getBoundingClientRect().height))},()=>{i.onHeightChange&&i.onHeightChange(n,!0)}),i.syncParentMinHeight&&(n.parentElement.style.minHeight=n.style.height)}renderFgSegs(i,e,n,a,s){let{harnessElRefs:o,moreElRefs:l,props:c,context:h}=this,d=n||a||s;return(0,g.n)(g.FK,null,i.map(u=>{let{seg:p,hcoords:f,top:_}=u;if(Array.isArray(p)){let b=(0,m.bw)((0,m.cs)(p));return(0,g.n)(k_,{key:"m:"+b,elRef:l.createRef(b),hiddenSegs:p,placement:u,dateProfile:c.dateProfile,nowDate:c.nowDate,todayRange:c.todayRange,isTimeScale:c.tDateProfile.isTimeScale,eventSelection:c.eventSelection,resourceId:c.resourceId,isForcedInvisible:e})}let v=p.eventRange.instance.instanceId,x=d||!(e[v]||!f||null===_),T=pa(f,h.isRtl);return(0,g.n)("div",{key:"e:"+v,ref:d?null:o.createRef(v),className:"fc-timeline-event-harness",style:Object.assign({visibility:x?"":"hidden",top:_||0},T)},(0,g.n)(Eo,Object.assign({isTimeScale:c.tDateProfile.isTimeScale,seg:p,isDragging:n,isResizing:a,isDateSelecting:s,isSelected:v===c.eventSelection},(0,m.bS)(p,c.todayRange,c.nowDate))))}))}}ga.addStateEquality({eventInstanceHeights:m.E,moreLinkHeights:m.E});class D_ extends m.be{constructor(){super(...arguments),this.slatsRef=(0,g._3)(),this.state={coords:null},this.handeEl=i=>{i?this.context.registerInteractiveComponent(this,{el:i}):this.context.unregisterInteractiveComponent(this)},this.handleCoords=i=>{this.setState({coords:i}),this.props.onSlatCoords&&this.props.onSlatCoords(i)}}render(){let{props:i,state:e,context:n}=this,{options:a}=n,{dateProfile:s,tDateProfile:o}=i,l=(0,m.c)(o.slotDuration).unit;return(0,g.n)("div",{className:"fc-timeline-body",ref:this.handeEl,style:{minWidth:i.tableMinWidth,height:i.clientHeight,width:i.clientWidth}},(0,g.n)(m.ch,{unit:l},(c,h)=>(0,g.n)(g.FK,null,(0,g.n)(ko,{ref:this.slatsRef,dateProfile:s,tDateProfile:o,nowDate:c,todayRange:h,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:this.handleCoords,onScrollLeftRequest:i.onScrollLeftRequest}),(0,g.n)(ga,{dateProfile:s,tDateProfile:i.tDateProfile,nowDate:c,todayRange:h,nextDayThreshold:a.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:e.coords,syncParentMinHeight:!0}),a.nowIndicator&&e.coords&&e.coords.isDateInRange(c)&&(0,g.n)("div",{className:"fc-timeline-now-indicator-container"},(0,g.n)(m.ck,{elClasses:["fc-timeline-now-indicator-line"],elStyle:ma(e.coords.dateToCoord(c),n.isRtl),isAxis:!1,date:c})))))}queryHit(i,e,n,a){let o=this.slatsRef.current.positionToHit(i);return o?{dateProfile:this.props.dateProfile,dateSpan:o.dateSpan,rect:{left:o.left,right:o.right,top:0,bottom:a},dayEl:o.dayEl,layer:0}:null}}function Fo(t,i){return[{span:t.slotCnt,minWidth:i||1}]}(0,m.cw)('.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{bottom:0;position:absolute;top:0;z-index:1}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{align-items:center;display:flex;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:4}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;position:absolute;top:0}.fc .fc-timeline-now-indicator-arrow{border-left-color:transparent;border-right-color:transparent;border-width:6px 5px 0;margin:0 -6px}.fc .fc-timeline-now-indicator-line{border-width:0 0 0 1px;bottom:0;margin:0 -1px}.fc .fc-timeline-events{position:relative;width:0;z-index:3}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{align-items:center;border-radius:0;display:flex;font-size:var(--fc-small-font-size);margin-bottom:1px;padding:2px 1px;position:relative}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{padding:0 2px;white-space:nowrap}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{margin-bottom:0;padding-bottom:5px;padding-top:5px}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{border-color:transparent #000;border-style:solid;border-width:5px;content:"";flex-grow:0;flex-shrink:0;height:0;margin:0 1px;opacity:.5;width:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;font-size:var(--fc-small-font-size);padding:1px}.fc-timeline-more-link-inner{display:inline-block;left:0;padding:2px;right:0}.fc .fc-timeline-bg{bottom:0;left:0;position:absolute;right:0;top:0;width:0;z-index:2}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{bottom:0;position:absolute;top:0}');var M_=(0,$i.i1)({name:"@fullcalendar/timeline",premiumReleaseDate:"2024-02-20",deps:[ca],initialView:"timelineDay",views:{timeline:{component:class E_ extends m.be{constructor(){super(...arguments),this.buildTimelineDateProfile=(0,m.z)(Co),this.scrollGridRef=(0,g._3)(),this.state={slatCoords:null,slotCushionMaxWidth:null},this.handleSlatCoords=i=>{this.setState({slatCoords:i})},this.handleScrollLeftRequest=i=>{this.scrollGridRef.current.forceScrollLeft(0,i)},this.handleMaxCushionWidth=i=>{this.setState({slotCushionMaxWidth:Math.ceil(i)})}}render(){let{props:i,state:e,context:n}=this,{options:a}=n,s=!i.forPrint&&(0,m.cc)(a),o=!i.forPrint&&(0,m.cb)(a),l=this.buildTimelineDateProfile(i.dateProfile,n.dateEnv,a,n.dateProfileGenerator),{slotMinWidth:c}=a,h=Fo(l,c||this.computeFallbackSlotMinWidth(l)),d=[{type:"header",key:"header",isSticky:s,chunks:[{key:"timeline",content:u=>(0,g.n)(wo,{dateProfile:i.dateProfile,clientWidth:u.clientWidth,clientHeight:u.clientHeight,tableMinWidth:u.tableMinWidth,tableColGroupNode:u.tableColGroupNode,tDateProfile:l,slatCoords:e.slatCoords,onMaxCushionWidth:c?null:this.handleMaxCushionWidth})}]},{type:"body",key:"body",liquid:!0,chunks:[{key:"timeline",content:u=>(0,g.n)(D_,Object.assign({},i,{clientWidth:u.clientWidth,clientHeight:u.clientHeight,tableMinWidth:u.tableMinWidth,tableColGroupNode:u.tableColGroupNode,tDateProfile:l,onSlatCoords:this.handleSlatCoords,onScrollLeftRequest:this.handleScrollLeftRequest}))}]}];return o&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"timeline",content:m.ca}]}),(0,g.n)(m.ct,{elClasses:["fc-timeline",!1===a.eventOverlap?"fc-timeline-overlap-disabled":""],viewSpec:n.viewSpec},(0,g.n)(ha,{ref:this.scrollGridRef,liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:!1,colGroups:[{cols:h}],sections:d}))}computeFallbackSlotMinWidth(i){return Math.max(30,(this.state.slotCushionMaxWidth||0)/i.slotsPerLabel)}},usesMinMaxTime:!0,eventResizableFromStart:!0},timelineDay:{type:"timeline",duration:{days:1}},timelineWeek:{type:"timeline",duration:{weeks:1}},timelineMonth:{type:"timeline",duration:{months:1}},timelineYear:{type:"timeline",duration:{years:1}}}});const Mo="_fc:",R_={id:String,parentId:String,children:m.n,title:String,businessHours:m.n,extendedProps:m.n,eventEditable:Boolean,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventConstraint:m.n,eventOverlap:Boolean,eventAllow:m.n,eventClassNames:m.aS,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String};function fa(t,i="",e,n){let{refined:a,extra:s}=(0,m.ai)(t,R_),o={id:a.id||Mo+(0,m.g)(),parentId:a.parentId||i,title:a.title||"",businessHours:a.businessHours?(0,m.X)(a.businessHours,n):null,ui:(0,m.W)({editable:a.eventEditable,startEditable:a.eventStartEditable,durationEditable:a.eventDurationEditable,constraint:a.eventConstraint,overlap:a.eventOverlap,allow:a.eventAllow,classNames:a.eventClassNames,backgroundColor:a.eventBackgroundColor,borderColor:a.eventBorderColor,textColor:a.eventTextColor,color:a.eventColor},n),extendedProps:Object.assign(Object.assign({},s),a.extendedProps)};if(Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),!e[o.id]&&(e[o.id]=o,a.children))for(let l of a.children)fa(l,o.id,e,n);return o}function Ro(t){return 0===t.indexOf(Mo)?"":t}class xe{constructor(i,e){this._context=i,this._resource=e}setProp(i,e){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_PROP",resourceId:n.id,propName:i,propValue:e}),this.sync(n)}setExtendedProp(i,e){let n=this._resource;this._context.dispatch({type:"SET_RESOURCE_EXTENDED_PROP",resourceId:n.id,propName:i,propValue:e}),this.sync(n)}sync(i){let e=this._context,n=i.id;this._resource=e.getCurrentData().resourceStore[n],e.emitter.trigger("resourceChange",{oldResource:new xe(e,i),resource:this,revert(){e.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:i}})}})}remove(){let i=this._context,e=this._resource,n=e.id;i.dispatch({type:"REMOVE_RESOURCE",resourceId:n}),i.emitter.trigger("resourceRemove",{resource:this,revert(){i.dispatch({type:"ADD_RESOURCE",resourceHash:{[n]:e}})}})}getParent(){let i=this._context,e=this._resource.parentId;return e?new xe(i,i.getCurrentData().resourceStore[e]):null}getChildren(){let i=this._resource.id,e=this._context,{resourceStore:n}=e.getCurrentData(),a=[];for(let s in n)n[s].parentId===i&&a.push(new xe(e,n[s]));return a}getEvents(){let i=this._resource.id,e=this._context,{defs:n,instances:a}=e.getCurrentData().eventStore,s=[];for(let o in a){let l=a[o],c=n[l.defId];-1!==c.resourceIds.indexOf(i)&&s.push(new m.a0(e,c,l))}return s}get id(){return Ro(this._resource.id)}get title(){return this._resource.title}get eventConstraint(){return this._resource.ui.constraints[0]||null}get eventOverlap(){return this._resource.ui.overlap}get eventAllow(){return this._resource.ui.allows[0]||null}get eventBackgroundColor(){return this._resource.ui.backgroundColor}get eventBorderColor(){return this._resource.ui.borderColor}get eventTextColor(){return this._resource.ui.textColor}get eventClassNames(){return this._resource.ui.classNames}get extendedProps(){return this._resource.extendedProps}toPlainObject(i={}){let e=this._resource,{ui:n}=e,a=this.id,s={};return a&&(s.id=a),e.title&&(s.title=e.title),i.collapseEventColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?s.eventColor=n.backgroundColor:(n.backgroundColor&&(s.eventBackgroundColor=n.backgroundColor),n.borderColor&&(s.eventBorderColor=n.borderColor)),n.textColor&&(s.eventTextColor=n.textColor),n.classNames.length&&(s.eventClassNames=n.classNames),Object.keys(e.extendedProps).length&&(i.collapseExtendedProps?Object.assign(s,e.extendedProps):s.extendedProps=e.extendedProps),s}toJSON(){return this.toPlainObject()}}class Bo extends m.aY{getKeyInfo(i){return Object.assign({"":{}},i.resourceStore)}getKeysForDateSpan(i){return[i.resourceId||""]}getKeysForEventDef(i){let e=i.resourceIds;return e.length?e:[""]}}const V_=(0,m.ao)("id,title");function O_(t){return{resource:new xe(t.context,t.resource)}}function Io(t,i,e,n,a,s){let o=function z_(t,i,e,n){let a=function W_(t,i){let e={};for(let n in t){let a=t[n];e[n]={resource:a,resourceFields:No(a),children:[]}}for(let n in t){let a=t[n];if(a.parentId){let s=e[a.parentId];s&&Po(e[n],s.children,i)}}return e}(t,n),s=[];for(let o in a){let l=a[o];l.resource.parentId||Oo(l,s,e,0,i,n)}return s}(t,n?-1:1,i,e),l=[];return Xi(o,l,n,[],0,a,s),l}function Xi(t,i,e,n,a,s,o){for(let l=0;l<t.length;l+=1){let c=t[l],h=c.group;if(h)if(e){let d=i.length,u=n.length;if(Xi(c.children,i,e,n.concat(0),a,s,o),d<i.length){let p=i[d];(p.rowSpans=p.rowSpans.slice())[u]=i.length-d}}else{let d=h.spec.field+":"+h.value,u=null!=s[d]?s[d]:o;i.push({id:d,group:h,isExpanded:u}),u&&Xi(c.children,i,e,n,a+1,s,o)}else if(c.resource){let d=c.resource.id,u=null!=s[d]?s[d]:o;i.push({id:d,rowSpans:n,depth:a,isExpanded:u,hasChildren:!!c.children.length,resource:c.resource,resourceFields:c.resourceFields}),u&&Xi(c.children,i,e,n,a+1,s,o)}}}function Oo(t,i,e,n,a,s){if(e.length&&(-1===a||n<=a)){let o=function Y_(t,i,e){let a,s,n=t.resourceFields[e.field];if(e.order)for(s=0;s<i.length;s+=1){let o=i[s];if(o.group){let l=(0,m.aq)(n,o.group.value)*e.order;if(0===l){a=o;break}if(l<0)break}}else for(s=0;s<i.length;s+=1){let o=i[s];if(o.group&&n===o.group.value){a=o;break}}return a||(a={group:{value:n,spec:e},children:[]},i.splice(s,0,a)),a}(t,i,e[0]);Oo(t,o.children,e.slice(1),n+1,a,s)}else Po(t,i,s)}function Po(t,i,e){let n;for(n=0;n<i.length&&!((0,m.ap)(i[n].resourceFields,t.resourceFields,e)>0);n+=1);i.splice(n,0,t)}function No(t){let i=Object.assign(Object.assign(Object.assign({},t.extendedProps),t.ui),t);return delete i.ui,delete i.extendedProps,i}function Ho(t,i){let{resourceEditable:e}=t;if(null==e){let n=t.sourceId&&i.getCurrentData().eventSources[t.sourceId];n&&(e=n.extendedProps.resourceEditable),null==e&&(e=i.options.eventResourceEditable,null==e&&(e=i.options.editable))}return e}function Z_(t,i,e,n){if(i){let a=function K_(t,i){return(0,m.h)(t,e=>(0,m.b8)(e.range,i))}(e.instances,n),s=function J_(t,i){let e={};for(let n in t){let a=t[n];for(let s of i[a.defId].resourceIds)e[s]=!0}return e}(a,e.defs);return Object.assign(s,function ev(t,i){let e={};for(let n in t){let a;for(;(a=i[n])&&(n=a.parentId,n);)e[n]=!0}return e}(s,t)),(0,m.h)(t,(o,l)=>s[l])}return t}function nv(t){return(0,m.a)(t,i=>i.ui)}function av(t,i,e){return(0,m.a)(t,(n,a)=>a?function sv(t,i,e){let n=[];for(let a of i.resourceIds)e[a]&&n.unshift(e[a]);return n.unshift(t),(0,m.aX)(n)}(n,i[a],e):n)}let _a=[];function va(t){_a.push(t)}function Go(t){return _a[t]}const ov={id:String,resources:m.n,url:String,method:String,startParam:String,endParam:String,timeZoneParam:String,extraParams:m.n};function $o(t,i,e,n){if(t){let a=function lv(t){let i;if("string"==typeof t?i={url:t}:"function"==typeof t||Array.isArray(t)?i={resources:t}:"object"==typeof t&&t&&(i=t),i){let{refined:e,extra:n}=(0,m.ai)(i,ov);!function hv(t){for(let i in t)console.warn(`Unknown resource prop '${i}'`)}(n);let a=function cv(t){let i=function rv(){return _a}();for(let e=i.length-1;e>=0;e-=1){let a=i[e].parseMeta(t);if(a)return{meta:a,sourceDefId:e}}return null}(e);if(a)return{_raw:t,sourceId:(0,m.g)(),sourceDefId:a.sourceDefId,meta:a.meta,publicId:e.id||"",isFetching:!1,latestFetchId:"",fetchRange:null}}return null}(t);return a=ya(a,e?i:null,n),a}return null}function ya(t,i,e){let n=Go(t.sourceDefId),a=(0,m.g)();return n.fetch({resourceSource:t,range:i,context:e},s=>{e.dispatch({type:"RECEIVE_RESOURCES",fetchId:a,fetchRange:i,rawResources:s.rawResources})},s=>{e.dispatch({type:"RECEIVE_RESOURCE_ERROR",fetchId:a,fetchRange:i,error:s})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}const Tv={resourceId:String,resourceIds:m.n,resourceEditable:Boolean};function wv(t){return(t||[]).map(i=>String(i))}function Ev(t,i){return Object.assign(Object.assign({},i),{constraints:Fv(t,i.constraints)})}function Fv(t,i){return i.map(e=>{let n=e.defs;if(n)for(let a in n){let s=n[a].resourceIds;if(s.length&&-1===s.indexOf(t))return!1}return e})}m.a9.prototype.addResource=function(t,i=!0){let n,a,e=this.getCurrentData();t instanceof xe?(a=t._resource,n={[a.id]:a}):(n={},a=fa(t,"",n,e)),this.dispatch({type:"ADD_RESOURCE",resourceHash:n}),i&&this.trigger("_scrollRequest",{resourceId:a.id});let s=new xe(e,a);return e.emitter.trigger("resourceAdd",{resource:s,revert:()=>{this.dispatch({type:"REMOVE_RESOURCE",resourceId:a.id})}}),s},m.a9.prototype.getResourceById=function(t){t=String(t);let i=this.getCurrentData();if(i.resourceStore){let e=i.resourceStore[t];if(e)return new xe(i,e)}return null},m.a9.prototype.getResources=function(){let t=this.getCurrentData(),{resourceStore:i}=t,e=[];if(i)for(let n in i)e.push(new xe(t,i[n]));return e},m.a9.prototype.getTopLevelResources=function(){let t=this.getCurrentData(),{resourceStore:i}=t,e=[];if(i)for(let n in i)i[n].parentId||e.push(new xe(t,i[n]));return e},m.a9.prototype.refetchResources=function(){this.dispatch({type:"REFETCH_RESOURCES"})};const Vv={initialResources:m.n,resources:m.n,eventResourceEditable:Boolean,refetchResourcesOnNavigate:Boolean,resourceOrder:m.ao,filterResourcesWithEvents:Boolean,resourceGroupField:String,resourceAreaWidth:m.n,resourceAreaColumns:m.n,resourcesInitiallyExpanded:Boolean,datesAboveResources:Boolean,needsResourceData:Boolean,resourceAreaHeaderClassNames:m.n,resourceAreaHeaderContent:m.n,resourceAreaHeaderDidMount:m.n,resourceAreaHeaderWillUnmount:m.n,resourceGroupLabelClassNames:m.n,resourceGroupLabelContent:m.n,resourceGroupLabelDidMount:m.n,resourceGroupLabelWillUnmount:m.n,resourceLabelClassNames:m.n,resourceLabelContent:m.n,resourceLabelDidMount:m.n,resourceLabelWillUnmount:m.n,resourceLaneClassNames:m.n,resourceLaneContent:m.n,resourceLaneDidMount:m.n,resourceLaneWillUnmount:m.n,resourceGroupLaneClassNames:m.n,resourceGroupLaneContent:m.n,resourceGroupLaneDidMount:m.n,resourceGroupLaneWillUnmount:m.n},Iv={resourcesSet:m.n,resourceAdd:m.n,resourceChange:m.n,resourceRemove:m.n};m.a0.prototype.getResources=function(){let{calendarApi:t}=this._context;return this._def.resourceIds.map(i=>t.getResourceById(i))},m.a0.prototype.setResources=function(t){let i=[];for(let e of t){let n=null;"string"==typeof e?n=e:"number"==typeof e?n=String(e):e instanceof xe?n=e.id:console.warn("unknown resource type: "+e),n&&i.push(n)}this.mutate({standardProps:{resourceIds:i}})},va({ignoreRange:!0,parseMeta:t=>Array.isArray(t.resources)?t.resources:null,fetch(t,i){i({rawResources:t.resourceSource.meta})}}),va({parseMeta:t=>"function"==typeof t.resources?t.resources:null,fetch(t,i,e){const n=t.context.dateEnv,a=t.resourceSource.meta,s=t.range?{start:n.toDate(t.range.start),end:n.toDate(t.range.end),startStr:n.formatIso(t.range.start),endStr:n.formatIso(t.range.end),timeZone:n.timeZone}:{};(0,m.u)(a.bind(null,s),o=>i({rawResources:o}),e)}}),va({parseMeta:t=>t.url?{url:t.url,method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams}:null,fetch(t,i,e){const n=t.resourceSource.meta,a=function Ov(t,i,e){let s,o,l,c,{dateEnv:n,options:a}=e,h={};return i&&(s=t.startParam,null==s&&(s=a.startParam),o=t.endParam,null==o&&(o=a.endParam),l=t.timeZoneParam,null==l&&(l=a.timeZoneParam),h[s]=n.formatIso(i.start),h[o]=n.formatIso(i.end),"local"!==n.timeZone&&(h[l]=n.timeZone)),c="function"==typeof t.extraParams?t.extraParams():t.extraParams||{},Object.assign(h,c),h}(n,t.range,t.context);(0,m.r)(n.method,n.url,a).then(([s,o])=>{i({rawResources:s,response:o})},e)}});var Pv=(0,$i.i1)({name:"@fullcalendar/resource",premiumReleaseDate:"2024-02-20",deps:[ca],reducers:[function bv(t,i,e){let n=function dv(t,i,e){let{options:n,dateProfile:a}=e;if(!t||!i)return $o(n.initialResources||n.resources,a.activeRange,n.refetchResourcesOnNavigate,e);switch(i.type){case"RESET_RESOURCE_SOURCE":return $o(i.resourceSourceInput,a.activeRange,n.refetchResourcesOnNavigate,e);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return function uv(t,i,e,n){return!e||function mv(t){return!!Go(t.sourceDefId).ignoreRange}(t)||t.fetchRange&&(0,m.b7)(t.fetchRange,i)?t:ya(t,i,n)}(t,a.activeRange,n.refetchResourcesOnNavigate,e);case"RECEIVE_RESOURCES":case"RECEIVE_RESOURCE_ERROR":return function pv(t,i,e){return i===t.latestFetchId?Object.assign(Object.assign({},t),{isFetching:!1,fetchRange:e}):t}(t,i.fetchId,i.fetchRange);case"REFETCH_RESOURCES":return ya(t,a.activeRange,e);default:return t}}(t&&t.resourceSource,i,e),a=function gv(t,i,e,n){if(!t||!i)return{};switch(i.type){case"RECEIVE_RESOURCES":return function fv(t,i,e,n,a){if(n.latestFetchId===e){let s={};for(let o of i)fa(o,"",s,a);return s}return t}(t,i.rawResources,i.fetchId,e,n);case"ADD_RESOURCE":return function xv(t,i){return Object.assign(Object.assign({},t),i)}(t,i.resourceHash);case"REMOVE_RESOURCE":return function _v(t,i){let e=Object.assign({},t);delete e[i];for(let n in e)e[n].parentId===i&&(e[n]=Object.assign(Object.assign({},e[n]),{parentId:""}));return e}(t,i.resourceId);case"SET_RESOURCE_PROP":return function vv(t,i,e,n){let a=t[i];return a?Object.assign(Object.assign({},t),{[i]:Object.assign(Object.assign({},a),{[e]:n})}):t}(t,i.resourceId,i.propName,i.propValue);case"SET_RESOURCE_EXTENDED_PROP":return function yv(t,i,e,n){let a=t[i];return a?Object.assign(Object.assign({},t),{[i]:Object.assign(Object.assign({},a),{extendedProps:Object.assign(Object.assign({},a.extendedProps),{[e]:n})})}):t}(t,i.resourceId,i.propName,i.propValue);default:return t}}(t&&t.resourceStore,i,n,e),s=function Cv(t,i){return t&&i?"SET_RESOURCE_ENTITY_EXPANDED"===i.type?Object.assign(Object.assign({},t),{[i.id]:i.isExpanded}):t:{}}(t&&t.resourceEntityExpansions,i);return{resourceSource:n,resourceStore:a,resourceEntityExpansions:s}}],isLoadingFuncs:[t=>t.resourceSource&&t.resourceSource.isFetching],eventRefiners:Tv,eventDefMemberAdders:[function Sv(t){return{resourceIds:wv(t.resourceIds).concat(t.resourceId?[t.resourceId]:[]),resourceEditable:t.resourceEditable}}],isDraggableTransformers:[function tv(t,i,e,n){if(!t){let a=n.getCurrentData();if(a.viewSpecs[a.currentViewType].optionDefaults.needsResourceData&&Ho(i,n))return!0}return t}],eventDragMutationMassagers:[function U_(t,i,e){let n=i.dateSpan.resourceId,a=e.dateSpan.resourceId;n&&a&&n!==a&&(t.resourceMutation={matchResourceId:n,setResourceId:a})}],eventDefMutationAppliers:[function j_(t,i,e){let n=i.resourceMutation;if(n&&Ho(t,e)){let a=t.resourceIds.indexOf(n.matchResourceId);if(-1!==a){let s=t.resourceIds.slice();s.splice(a,1),-1===s.indexOf(n.setResourceId)&&s.push(n.setResourceId),t.resourceIds=s}}}],dateSelectionTransformers:[function kv(t,i){let e=t.dateSpan.resourceId;return e&&i.dateSpan.resourceId?{resourceId:e}:null}],datePointTransforms:[function Lv(t,i){return t.resourceId?{resource:i.calendarApi.getResourceById(t.resourceId)}:{}}],dateSpanTransforms:[function Av(t,i){return t.resourceId?{resource:i.calendarApi.getResourceById(t.resourceId)}:{}}],viewPropsTransformers:[class Q_{constructor(){this.filterResources=(0,m.z)(Z_)}transform(i,e){return e.viewSpec.optionDefaults.needsResourceData?{resourceStore:this.filterResources(e.resourceStore,e.options.filterResourcesWithEvents,e.eventStore,e.dateProfile.activeRange),resourceEntityExpansions:e.resourceEntityExpansions}:null}},class iv{constructor(){this.buildResourceEventUis=(0,m.z)(nv,m.E),this.injectResourceEventUis=(0,m.z)(av)}transform(i,e){return e.viewSpec.optionDefaults.needsResourceData?null:{eventUiBases:this.injectResourceEventUis(i.eventUiBases,i.eventStore.defs,this.buildResourceEventUis(e.resourceStore))}}}],isPropsValid:function Dv(t,i){let n=(new Bo).splitProps(Object.assign(Object.assign({},t),{resourceStore:i.getCurrentData().resourceStore}));for(let a in n){let s=n[a];if(a&&n[""]&&(s=Object.assign(Object.assign({},s),{eventStore:(0,m.aU)(n[""].eventStore,s.eventStore),eventUiBases:Object.assign(Object.assign({},n[""].eventUiBases),s.eventUiBases)})),!(0,m.bY)(s,i,{resourceId:a},Ev.bind(null,a)))return!1}return!0},externalDefTransforms:[function Mv(t){return t.resourceId?{resourceId:t.resourceId}:{}}],eventDropTransformers:[function q_(t,i){let{resourceMutation:e}=t;if(e){let{calendarApi:n}=i;return{oldResource:n.getResourceById(e.matchResourceId),newResource:n.getResourceById(e.setResourceId)}}return{oldResource:null,newResource:null}}],optionChangeHandlers:{resources:function Bv(t,i){i.getCurrentData().resourceSource._raw!==t&&i.dispatch({type:"RESET_RESOURCE_SOURCE",resourceSourceInput:t})}},optionRefiners:Vv,listenerRefiners:Iv,propSetHandlers:{resourceStore:function I_(t,i){let{emitter:e}=i;e.hasHandlers("resourcesSet")&&e.trigger("resourcesSet",function B_(t,i){let e=[];for(let n in t)e.push(new xe(i,t[n]));return e}(t,i))}}});function zo({depth:t,hasChildren:i,isExpanded:e,onExpanderClick:n}){let a=[];for(let o=0;o<t;o+=1)a.push((0,g.n)("span",{className:"fc-icon"}));let s=["fc-icon"];return i&&s.push(e?"fc-icon-minus-square":"fc-icon-plus-square"),a.push((0,g.n)("span",{className:"fc-datagrid-expander"+(i?"":" fc-datagrid-expander-placeholder"),onClick:n},(0,g.n)("span",{className:s.join(" ")}))),(0,g.n)(g.FK,{},...a)}class Nv extends m.B{constructor(){super(...arguments),this.refineRenderProps=(0,m.A)(Gv),this.onExpanderClick=i=>{let{props:e}=this;e.hasChildren&&this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:e.resource.id,isExpanded:!e.isExpanded})}}render(){let{props:i,context:e}=this,{colSpec:n}=i,a=this.refineRenderProps({resource:i.resource,fieldValue:i.fieldValue,context:e});return(0,g.n)(m.C,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource"],elAttrs:{role:"gridcell","data-resource-id":i.resource.id},renderProps:a,generatorName:n.isMain?"resourceLabelContent":void 0,customGenerator:n.cellContent,defaultGenerator:Hv,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},s=>(0,g.n)("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},(0,g.n)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},n.isMain&&(0,g.n)(zo,{depth:i.depth,hasChildren:i.hasChildren,isExpanded:i.isExpanded,onExpanderClick:this.onExpanderClick}),(0,g.n)(s,{elTag:"span",elClasses:["fc-datagrid-cell-main"]}))))}}function Hv(t){return t.fieldValue||(0,g.n)(g.FK,null,"\xa0")}function Gv(t){return{resource:new xe(t.context,t.resource),fieldValue:t.fieldValue,view:t.context.viewApi}}class $v extends m.B{render(){let{props:i,context:e}=this,{colSpec:n}=i;return(0,g.n)(m.C,{elTag:"td",elClasses:["fc-datagrid-cell","fc-resource-group"],elAttrs:{role:"gridcell",rowSpan:i.rowSpan},renderProps:{groupValue:i.fieldValue,view:e.viewApi},generatorName:"resourceGroupLabelContent",customGenerator:n.cellContent,defaultGenerator:zv,classNameGenerator:n.cellClassNames,didMount:n.cellDidMount,willUnmount:n.cellWillUnmount},s=>(0,g.n)("div",{className:"fc-datagrid-cell-frame fc-datagrid-cell-frame-liquid"},(0,g.n)(s,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-sticky"]})))}}function zv(t){return t.groupValue||(0,g.n)(g.FK,null,"\xa0")}class Wo extends m.B{render(){let{props:i}=this,{resource:e,rowSpans:n,depth:a}=i,s=No(e);return(0,g.n)("tr",{role:"row"},i.colSpecs.map((o,l)=>{let c=n[l];if(0===c)return null;null==c&&(c=1);let h=o.field?s[o.field]:e.title||Ro(e.id);return c>1?(0,g.n)($v,{key:l,colSpec:o,fieldValue:h,rowSpan:c}):(0,g.n)(Nv,{key:l,colSpec:o,resource:e,fieldValue:h,depth:a,hasChildren:i.hasChildren,isExpanded:i.isExpanded,innerHeight:i.innerHeight})}))}}Wo.addPropsEquality({rowSpans:m.i});class Yo extends m.B{constructor(){super(...arguments),this.innerInnerRef=(0,g._3)(),this.onExpanderClick=()=>{let{props:i}=this;this.context.dispatch({type:"SET_RESOURCE_ENTITY_EXPANDED",id:i.id,isExpanded:!i.isExpanded})}}render(){let{props:i,context:e}=this,n={groupValue:i.group.value,view:e.viewApi},a=i.group.spec;return(0,g.n)("tr",{role:"row"},(0,g.n)(m.C,{elTag:"th",elClasses:["fc-datagrid-cell","fc-resource-group",e.theme.getClass("tableCellShaded")],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:i.spreadsheetColCnt},renderProps:n,generatorName:"resourceGroupLabelContent",customGenerator:a.labelContent,defaultGenerator:Wv,classNameGenerator:a.labelClassNames,didMount:a.labelDidMount,willUnmount:a.labelWillUnmount},s=>(0,g.n)("div",{className:"fc-datagrid-cell-frame",style:{height:i.innerHeight}},(0,g.n)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner",ref:this.innerInnerRef},(0,g.n)(zo,{depth:0,hasChildren:!0,isExpanded:i.isExpanded,onExpanderClick:this.onExpanderClick}),(0,g.n)(s,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})))))}}function Wv(t){return t.groupValue||(0,g.n)(g.FK,null,"\xa0")}Yo.addPropsEquality({group:function X_(t,i){return t.spec===i.spec&&t.value===i.value}});class Xv extends m.B{constructor(){super(...arguments),this.resizerElRefs=new m.cf(this._handleColResizerEl.bind(this)),this.colDraggings={}}render(){let{colSpecs:i,superHeaderRendering:e,rowInnerHeights:n}=this.props,a={view:this.context.viewApi},s=[];if(n=n.slice(),e){let l=n.shift();s.push((0,g.n)("tr",{key:"row-super",role:"row"},(0,g.n)(m.C,{elTag:"th",elClasses:["fc-datagrid-cell","fc-datagrid-cell-super"],elAttrs:{role:"columnheader",scope:"colgroup",colSpan:i.length},renderProps:a,generatorName:"resourceAreaHeaderContent",customGenerator:e.headerContent,defaultGenerator:e.headerDefault,classNameGenerator:e.headerClassNames,didMount:e.headerDidMount,willUnmount:e.headerWillUnmount},c=>(0,g.n)("div",{className:"fc-datagrid-cell-frame",style:{height:l}},(0,g.n)(c,{elTag:"div",elClasses:["fc-datagrid-cell-cushion","fc-scrollgrid-sync-inner"]})))))}let o=n.shift();return s.push((0,g.n)("tr",{key:"row",role:"row"},i.map((l,c)=>{let h=c===i.length-1;return(0,g.n)(m.C,{key:c,elTag:"th",elClasses:["fc-datagrid-cell"],elAttrs:{role:"columnheader"},renderProps:a,generatorName:"resourceAreaHeaderContent",customGenerator:l.headerContent,defaultGenerator:l.headerDefault,classNameGenerator:l.headerClassNames,didMount:l.headerDidMount,willUnmount:l.headerWillUnmount},d=>(0,g.n)("div",{className:"fc-datagrid-cell-frame",style:{height:o}},(0,g.n)("div",{className:"fc-datagrid-cell-cushion fc-scrollgrid-sync-inner"},l.isMain&&(0,g.n)("span",{className:"fc-datagrid-expander fc-datagrid-expander-placeholder"},(0,g.n)("span",{className:"fc-icon"})),(0,g.n)(d,{elTag:"span",elClasses:["fc-datagrid-cell-main"]})),!h&&(0,g.n)("div",{className:"fc-datagrid-cell-resizer",ref:this.resizerElRefs.createRef(c)})))}))),(0,g.n)(g.FK,null,s)}_handleColResizerEl(i,e){let{colDraggings:n}=this;if(i){let a=this.initColResizing(i,parseInt(e,10));a&&(n[e]=a)}else{let a=n[e];a&&(a.destroy(),delete n[e])}}initColResizing(i,e){let{pluginHooks:n,isRtl:a}=this.context,{onColWidthChange:s}=this.props,o=n.elementDraggingImpl;if(o){let c,h,l=new o(i);return l.emitter.on("dragstart",()=>{h=(0,m.aM)((0,m.$)(i,"tr"),"th").map(u=>u.getBoundingClientRect().width),c=h[e]}),l.emitter.on("dragmove",d=>{h[e]=Math.max(c+d.deltaX*(a?-1:1),20),s&&s(h.slice())}),l.setAutoScrollEnabled(!1),l}return null}}class Uv extends m.B{constructor(){super(...arguments),this.refineRenderProps=(0,m.A)(O_),this.handleHeightChange=(i,e)=>{this.props.onHeightChange&&this.props.onHeightChange((0,m.$)(i,"tr"),e)}}render(){let{props:i,context:e}=this,{options:n}=e,a=this.refineRenderProps({resource:i.resource,context:e});return(0,g.n)("tr",{ref:i.elRef},(0,g.n)(m.C,{elTag:"td",elClasses:["fc-timeline-lane","fc-resource"],elAttrs:{"data-resource-id":i.resource.id},renderProps:a,generatorName:"resourceLaneContent",customGenerator:n.resourceLaneContent,classNameGenerator:n.resourceLaneClassNames,didMount:n.resourceLaneDidMount,willUnmount:n.resourceLaneWillUnmount},s=>(0,g.n)("div",{className:"fc-timeline-lane-frame",style:{height:i.innerHeight}},(0,g.n)(s,{elTag:"div",elClasses:["fc-timeline-lane-misc"]}),(0,g.n)(ga,{dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange,nextDayThreshold:i.nextDayThreshold,businessHours:i.businessHours,eventStore:i.eventStore,eventUiBases:i.eventUiBases,dateSelection:i.dateSelection,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,timelineCoords:i.timelineCoords,onHeightChange:this.handleHeightChange,resourceId:i.resource.id}))))}}class jv extends m.B{render(){let{props:i,context:e}=this,{renderHooks:n}=i,a={groupValue:i.groupValue,view:e.viewApi};return(0,g.n)("tr",{ref:i.elRef},(0,g.n)(m.C,{elTag:"td",elRef:i.elRef,elClasses:["fc-timeline-lane","fc-resource-group",e.theme.getClass("tableCellShaded")],renderProps:a,generatorName:"resourceGroupLaneContent",customGenerator:n.laneContent,classNameGenerator:n.laneClassNames,didMount:n.laneDidMount,willUnmount:n.laneWillUnmount},s=>(0,g.n)(s,{elTag:"div",elStyle:{height:i.innerHeight}})))}}class qv extends m.B{render(){let{props:i,context:e}=this,{rowElRefs:n,innerHeights:a}=i;return(0,g.n)("tbody",null,i.rowNodes.map((s,o)=>{if(s.group)return(0,g.n)(jv,{key:s.id,elRef:n.createRef(s.id),groupValue:s.group.value,renderHooks:s.group.spec,innerHeight:a[o]||""});if(s.resource){let l=s.resource;return(0,g.n)(Uv,Object.assign({key:s.id,elRef:n.createRef(s.id)},i.splitProps[l.id],{resource:l,dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange,nextDayThreshold:e.options.nextDayThreshold,businessHours:l.businessHours||i.fallbackBusinessHours,innerHeight:a[o]||"",timelineCoords:i.slatCoords,onHeightChange:i.onRowHeightChange}))}return null}))}}class Qv extends m.B{constructor(){super(...arguments),this.rootElRef=(0,g._3)(),this.rowElRefs=new m.cf}render(){let{props:i,context:e}=this;return(0,g.n)("table",{ref:this.rootElRef,"aria-hidden":!0,className:"fc-scrollgrid-sync-table "+e.theme.getClass("table"),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:i.minHeight}},(0,g.n)(qv,{rowElRefs:this.rowElRefs,rowNodes:i.rowNodes,dateProfile:i.dateProfile,tDateProfile:i.tDateProfile,nowDate:i.nowDate,todayRange:i.todayRange,splitProps:i.splitProps,fallbackBusinessHours:i.fallbackBusinessHours,slatCoords:i.slatCoords,innerHeights:i.innerHeights,onRowHeightChange:i.onRowHeightChange}))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}componentWillUnmount(){this.props.onRowCoords&&this.props.onRowCoords(null)}updateCoords(){let{props:i}=this;i.onRowCoords&&null!==i.clientWidth&&this.props.onRowCoords(new m.ba(this.rootElRef.current,function Zv(t,i){return i.map(e=>t[e.id])}(this.rowElRefs.currentMap,i.rowNodes),!1,!0))}}class Kv extends m.be{constructor(){super(...arguments),this.computeHasResourceBusinessHours=(0,m.z)(Jv),this.resourceSplitter=new Bo,this.bgSlicer=new Do,this.slatsRef=(0,g._3)(),this.state={slatCoords:null},this.handleEl=i=>{i?this.context.registerInteractiveComponent(this,{el:i}):this.context.unregisterInteractiveComponent(this)},this.handleSlatCoords=i=>{this.setState({slatCoords:i}),this.props.onSlatCoords&&this.props.onSlatCoords(i)},this.handleRowCoords=i=>{this.rowCoords=i,this.props.onRowCoords&&this.props.onRowCoords(i)}}render(){let{props:i,state:e,context:n}=this,{dateProfile:a,tDateProfile:s}=i,o=(0,m.c)(s.slotDuration).unit,l=this.computeHasResourceBusinessHours(i.rowNodes),c=this.resourceSplitter.splitProps(i),d=this.bgSlicer.sliceProps(c[""],a,s.isTimeScale?null:i.nextDayThreshold,n,a,n.dateProfileGenerator,s,n.dateEnv),u=e.slatCoords&&e.slatCoords.dateProfile===i.dateProfile?e.slatCoords:null;return(0,g.n)("div",{ref:this.handleEl,className:["fc-timeline-body",i.expandRows?"fc-timeline-body-expandrows":""].join(" "),style:{minWidth:i.tableMinWidth}},(0,g.n)(m.ch,{unit:o},(p,f)=>(0,g.n)(g.FK,null,(0,g.n)(ko,{ref:this.slatsRef,dateProfile:a,tDateProfile:s,nowDate:p,todayRange:f,clientWidth:i.clientWidth,tableColGroupNode:i.tableColGroupNode,tableMinWidth:i.tableMinWidth,onCoords:this.handleSlatCoords,onScrollLeftRequest:i.onScrollLeftRequest}),(0,g.n)(Ao,{businessHourSegs:l?null:d.businessHourSegs,bgEventSegs:d.bgEventSegs,timelineCoords:u,eventResizeSegs:d.eventResize?d.eventResize.segs:[],dateSelectionSegs:d.dateSelectionSegs,nowDate:p,todayRange:f}),(0,g.n)(Qv,{rowNodes:i.rowNodes,dateProfile:a,tDateProfile:i.tDateProfile,nowDate:p,todayRange:f,splitProps:c,fallbackBusinessHours:l?i.businessHours:null,clientWidth:i.clientWidth,minHeight:i.expandRows?i.clientHeight:"",tableMinWidth:i.tableMinWidth,innerHeights:i.rowInnerHeights,slatCoords:u,onRowCoords:this.handleRowCoords,onRowHeightChange:i.onRowHeightChange}),n.options.nowIndicator&&u&&u.isDateInRange(p)&&(0,g.n)("div",{className:"fc-timeline-now-indicator-container"},(0,g.n)(m.ck,{elClasses:["fc-timeline-now-indicator-line"],elStyle:ma(u.dateToCoord(p),n.isRtl),isAxis:!1,date:p})))))}queryHit(i,e){let n=this.rowCoords,a=n.topToIndex(e);if(null!=a){let s=this.props.rowNodes[a].resource;if(s){let o=this.slatsRef.current.positionToHit(i);if(o)return{dateProfile:this.props.dateProfile,dateSpan:{range:o.dateSpan.range,allDay:o.dateSpan.allDay,resourceId:s.id},rect:{left:o.left,right:o.right,top:n.tops[a],bottom:n.bottoms[a]},dayEl:o.dayEl,layer:0}}}return null}}function Jv(t){for(let i of t){let e=i.resource;if(e&&e.businessHours)return!0}return!1}class ey extends m.B{constructor(){super(...arguments),this.scrollGridRef=(0,g._3)(),this.timeBodyScrollerElRef=(0,g._3)(),this.spreadsheetHeaderChunkElRef=(0,g._3)(),this.rootElRef=(0,g._3)(),this.ensureScrollGridResizeId=0,this.state={resourceAreaWidthOverride:null},this.ensureScrollGridResize=()=>{this.ensureScrollGridResizeId&&clearTimeout(this.ensureScrollGridResizeId),this.ensureScrollGridResizeId=setTimeout(()=>{this.scrollGridRef.current.handleSizing(!1)},m.bI.SCROLLGRID_RESIZE_INTERVAL+1)}}render(){let{props:i,state:e,context:n}=this,{options:a}=n,s=!i.forPrint&&(0,m.cc)(a),o=!i.forPrint&&(0,m.cb)(a),l=[{type:"header",key:"header",syncRowHeights:!0,isSticky:s,chunks:[{key:"datagrid",elRef:this.spreadsheetHeaderChunkElRef,tableClassName:"fc-datagrid-header",rowContent:i.spreadsheetHeaderRows},{key:"divider",outerContent:(0,g.n)("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:i.timeHeaderContent}]},{type:"body",key:"body",syncRowHeights:!0,liquid:!0,expandRows:!!a.expandRows,chunks:[{key:"datagrid",tableClassName:"fc-datagrid-body",rowContent:i.spreadsheetBodyRows},{key:"divider",outerContent:(0,g.n)("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",scrollerElRef:this.timeBodyScrollerElRef,content:i.timeBodyContent}]}];return o&&l.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"datagrid",content:m.ca},{key:"divider",outerContent:(0,g.n)("td",{role:"presentation",className:"fc-resource-timeline-divider "+n.theme.getClass("tableCellShaded")})},{key:"timeline",content:m.ca}]}),(0,g.n)(ha,{ref:this.scrollGridRef,elRef:this.rootElRef,liquid:!i.isHeightAuto&&!i.forPrint,forPrint:i.forPrint,collapsibleWidth:!1,colGroups:[{cols:i.spreadsheetCols,width:null!=e.resourceAreaWidthOverride?e.resourceAreaWidthOverride:a.resourceAreaWidth},{cols:[]},{cols:i.timeCols}],sections:l})}forceTimeScroll(i){this.scrollGridRef.current.forceScrollLeft(2,i)}forceResourceScroll(i){this.scrollGridRef.current.forceScrollTop(1,i)}getResourceScroll(){return this.timeBodyScrollerElRef.current.scrollTop}componentDidMount(){this.initSpreadsheetResizing()}componentWillUnmount(){this.destroySpreadsheetResizing()}initSpreadsheetResizing(){let{isRtl:i,pluginHooks:e}=this.context,n=e.elementDraggingImpl,a=this.spreadsheetHeaderChunkElRef.current;if(n){let l,c,s=this.rootElRef.current,o=this.spreadsheetResizerDragging=new n(s,".fc-resource-timeline-divider");o.emitter.on("dragstart",()=>{l=a.getBoundingClientRect().width,c=s.getBoundingClientRect().width}),o.emitter.on("dragmove",h=>{let d=l+h.deltaX*(i?-1:1);d=Math.max(d,30),d=Math.min(d,c-30),this.setState({resourceAreaWidthOverride:d},this.ensureScrollGridResize)}),o.setAutoScrollEnabled(!1)}}destroySpreadsheetResizing(){this.spreadsheetResizerDragging&&this.spreadsheetResizerDragging.destroy()}}class Uo extends m.B{constructor(i,e){super(i,e),this.processColOptions=(0,m.z)(ay),this.buildTimelineDateProfile=(0,m.z)(Co),this.hasNesting=(0,m.z)(ny),this.buildRowNodes=(0,m.z)(Io),this.layoutRef=(0,g._3)(),this.rowNodes=[],this.renderedRowNodes=[],this.buildRowIndex=(0,m.z)(ty),this.handleSlatCoords=n=>{this.setState({slatCoords:n})},this.handleRowCoords=n=>{this.rowCoords=n,this.scrollResponder.update(!1)},this.handleMaxCushionWidth=n=>{this.setState({slotCushionMaxWidth:Math.ceil(n)})},this.handleScrollLeftRequest=n=>{this.layoutRef.current.forceTimeScroll(n)},this.handleScrollRequest=n=>{let{rowCoords:a}=this,s=this.layoutRef.current,o=n.rowId||n.resourceId;if(a){if(o){let c=this.buildRowIndex(this.renderedRowNodes)[o];null!=c&&s.forceResourceScroll(null!=n.fromBottom?a.bottoms[c]-n.fromBottom:a.tops[c])}return!0}return null},this.handleColWidthChange=n=>{this.setState({spreadsheetColWidths:n})},this.state={resourceAreaWidth:e.options.resourceAreaWidth,spreadsheetColWidths:[]}}render(){let{props:i,state:e,context:n}=this,{options:a,viewSpec:s}=n,{superHeaderRendering:o,groupSpecs:l,orderSpecs:c,isVGrouping:h,colSpecs:d}=this.processColOptions(n.options),u=this.buildTimelineDateProfile(i.dateProfile,n.dateEnv,a,n.dateProfileGenerator),p=this.rowNodes=this.buildRowNodes(i.resourceStore,l,c,h,i.resourceEntityExpansions,a.resourcesInitiallyExpanded),{slotMinWidth:f}=a,_=Fo(u,f||this.computeFallbackSlotMinWidth(u));return(0,g.n)(m.ct,{elClasses:["fc-resource-timeline",!this.hasNesting(p)&&"fc-resource-timeline-flat","fc-timeline",!1===a.eventOverlap?"fc-timeline-overlap-disabled":"fc-timeline-overlap-enabled"],viewSpec:s},(0,g.n)(ey,{ref:this.layoutRef,forPrint:i.forPrint,isHeightAuto:i.isHeightAuto,spreadsheetCols:iy(d,e.spreadsheetColWidths,""),spreadsheetHeaderRows:v=>(0,g.n)(Xv,{superHeaderRendering:o,colSpecs:d,onColWidthChange:this.handleColWidthChange,rowInnerHeights:v.rowSyncHeights}),spreadsheetBodyRows:v=>(0,g.n)(g.FK,null,this.renderSpreadsheetRows(p,d,v.rowSyncHeights)),timeCols:_,timeHeaderContent:v=>(0,g.n)(wo,{clientWidth:v.clientWidth,clientHeight:v.clientHeight,tableMinWidth:v.tableMinWidth,tableColGroupNode:v.tableColGroupNode,dateProfile:i.dateProfile,tDateProfile:u,slatCoords:e.slatCoords,rowInnerHeights:v.rowSyncHeights,onMaxCushionWidth:f?null:this.handleMaxCushionWidth}),timeBodyContent:v=>(0,g.n)(Kv,{dateProfile:i.dateProfile,clientWidth:v.clientWidth,clientHeight:v.clientHeight,tableMinWidth:v.tableMinWidth,tableColGroupNode:v.tableColGroupNode,expandRows:v.expandRows,tDateProfile:u,rowNodes:p,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,resourceStore:i.resourceStore,nextDayThreshold:n.options.nextDayThreshold,rowInnerHeights:v.rowSyncHeights,onSlatCoords:this.handleSlatCoords,onRowCoords:this.handleRowCoords,onScrollLeftRequest:this.handleScrollLeftRequest,onRowHeightChange:v.reportRowHeightChange})}))}renderSpreadsheetRows(i,e,n){return i.map((a,s)=>a.group?(0,g.n)(Yo,{key:a.id,id:a.id,spreadsheetColCnt:e.length,isExpanded:a.isExpanded,group:a.group,innerHeight:n[s]||""}):a.resource?(0,g.n)(Wo,{key:a.id,colSpecs:e,rowSpans:a.rowSpans,depth:a.depth,isExpanded:a.isExpanded,hasChildren:a.hasChildren,resource:a.resource,innerHeight:n[s]||""}):null)}componentDidMount(){this.renderedRowNodes=this.rowNodes,this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}getSnapshotBeforeUpdate(){return this.props.forPrint?{}:{resourceScroll:this.queryResourceScroll()}}componentDidUpdate(i,e,n){this.renderedRowNodes=this.rowNodes,this.scrollResponder.update(i.dateProfile!==this.props.dateProfile),n.resourceScroll&&this.handleScrollRequest(n.resourceScroll)}componentWillUnmount(){this.scrollResponder.detach()}computeFallbackSlotMinWidth(i){return Math.max(30,(this.state.slotCushionMaxWidth||0)/i.slotsPerLabel)}queryResourceScroll(){let{rowCoords:i,renderedRowNodes:e}=this;if(i){let a=i.bottoms,s=this.layoutRef.current.getResourceScroll(),o={};for(let l=0;l<a.length;l+=1){let h=a[l]-s;if(h>0){o.rowId=e[l].id,o.fromBottom=h;break}}return o}return null}}function ty(t){let i={};for(let e=0;e<t.length;e+=1)i[t[e].id]=e;return i}function iy(t,i,e=""){return t.map((n,a)=>({className:n.isMain?"fc-main-col":"",width:i[a]||n.width||e}))}function ny(t){for(let i of t)if(i.group||i.resource&&i.hasChildren)return!0;return!1}function ay(t){let i=t.resourceAreaColumns||[],e=null;i.length?t.resourceAreaHeaderContent&&(e={headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount}):i.push({headerClassNames:t.resourceAreaHeaderClassNames,headerContent:t.resourceAreaHeaderContent,headerDefault:()=>"Resources",headerDidMount:t.resourceAreaHeaderDidMount,headerWillUnmount:t.resourceAreaHeaderWillUnmount});let n=[],a=[],s=[],o=!1;for(let d of i)d.group?a.push(Object.assign(Object.assign({},d),{cellClassNames:d.cellClassNames||t.resourceGroupLabelClassNames,cellContent:d.cellContent||t.resourceGroupLabelContent,cellDidMount:d.cellDidMount||t.resourceGroupLabelDidMount,cellWillUnmount:d.cellWillUnmount||t.resourceGroupLaneWillUnmount})):n.push(d);let l=n[0];if(l.isMain=!0,l.cellClassNames=l.cellClassNames||t.resourceLabelClassNames,l.cellContent=l.cellContent||t.resourceLabelContent,l.cellDidMount=l.cellDidMount||t.resourceLabelDidMount,l.cellWillUnmount=l.cellWillUnmount||t.resourceLabelWillUnmount,a.length)s=a,o=!0;else{let d=t.resourceGroupField;d&&s.push({field:d,labelClassNames:t.resourceGroupLabelClassNames,labelContent:t.resourceGroupLabelContent,labelDidMount:t.resourceGroupLabelDidMount,labelWillUnmount:t.resourceGroupLabelWillUnmount,laneClassNames:t.resourceGroupLaneClassNames,laneContent:t.resourceGroupLaneContent,laneDidMount:t.resourceGroupLaneDidMount,laneWillUnmount:t.resourceGroupLaneWillUnmount})}let c=t.resourceOrder||V_,h=[];for(let d of c){let u=!1;for(let p of s)if(p.field===d.field){p.order=d.order,u=!0;break}u||h.push(d)}return{superHeaderRendering:e,isVGrouping:o,groupSpecs:s,colSpecs:a.concat(n),orderSpecs:h}}Uo.addStateEquality({spreadsheetColWidths:m.i}),(0,m.cw)(".fc .fc-resource-timeline-divider{cursor:col-resize;width:3px}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:var(--fc-neutral-bg-color)}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{align-items:center;display:flex;justify-content:flex-start;position:relative}.fc .fc-datagrid-cell-resizer{bottom:0;cursor:col-resize;position:absolute;top:0;width:5px;z-index:1}.fc .fc-datagrid-cell-cushion{overflow:hidden;padding:8px;white-space:nowrap}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}");var ry=(0,$i.i1)({name:"@fullcalendar/resource-timeline",premiumReleaseDate:"2024-02-20",deps:[ca,Pv,M_],initialView:"resourceTimelineDay",views:{resourceTimeline:{type:"timeline",component:Uo,needsResourceData:!0,resourceAreaWidth:"30%",resourcesInitiallyExpanded:!0,eventResizableFromStart:!0},resourceTimelineDay:{type:"resourceTimeline",duration:{days:1}},resourceTimelineWeek:{type:"resourceTimeline",duration:{weeks:1}},resourceTimelineMonth:{type:"resourceTimeline",duration:{months:1}},resourceTimelineYear:{type:"resourceTimeline",duration:{years:1}}}}),oy=F(1875),ly=F(8032),St=F.n(ly),cy=F(6374),hy=F(2490);const dy=()=>["Home"],uy=[{path:"leave-requests",component:Zc},{path:"leave-balance",component:Tl},{path:"leave-types",component:bh},{path:"employee",component:(()=>{class t{constructor(e,n,a){this.todayService=e,this.leaveS=n,this.cookieService=a,this.theCheckbox=!1,this.events=[],this.holidays=[],this.options={plugins:[B0.Ay,ry],editable:!0,weekends:!0,themeSystem:"bootstrap5",initialView:"resourceTimeline",droppable:!0,handleWindowResize:!0,slotLabelFormat:[{weekday:"short"},{day:"numeric"}],visibleRange:s=>({start:new Date(s.getFullYear(),s.getMonth(),1),end:new Date(s.getFullYear(),s.getMonth()+1,0)}),slotMinWidth:60,height:"auto",resourceAreaWidth:"14%",resourceAreaColumns:[{headerContent:"Employees names"}],eventClick:this.onEventClick.bind(this)}}ngOnInit(){this.todayService.getAllUserswithconge().subscribe(e=>{this.options={...this.options,resources:this.generateResourceList(e)};const n=this.processCongesData(e);this.events=[...this.events,...n],this.options={...this.options,events:this.events}},e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des utilisateurs avec cong\xe9 :",e)})}generateResourceList(e){return e.map(n=>({id:n.id,title:n.name}))}processCongesData(e){const n=[];return e.forEach(a=>{a.leaves.forEach(s=>{const o=new Date(s.startDate),l=new Date(s.endDate);n.push({resourceId:a.id,title:`${s.leaveType}`,start:o,end:l,backgroundColor:"Pending"===s.status?"blue":"Declined"===s.status?"red":"green",description:`Type de cong\xe9 : ${s.leaveType}, Statut : ${s.status} , idUser: ${s._id}`})})}),n}onEventClick(e){const n=e.event,s=n.extendedProps.description.match(/idUser: (\w+)/);if(s){const o=s[1];St().fire({title:"Approuver ou refuser cet \xe9v\xe9nement ?",showCancelButton:!0,confirmButtonText:"Approuver",cancelButtonText:"Refuser",reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,allowEnterKey:!1,showCloseButton:!0,timer:1e4}).then(l=>{l.isConfirmed?this.leaveS.accepterDemandeConge(o).subscribe(()=>{n.setProp("backgroundColor","green"),e.view.calendar.refetchEvents(),St().fire("Succ\xe8s","L'\xe9v\xe9nement a \xe9t\xe9 approuv\xe9 avec succ\xe8s !","success")},c=>{console.error("Erreur lors de l'approbation de l'\xe9v\xe9nement :",c),St().fire("Erreur","Une erreur s'est produite lors de l'approbation de l'\xe9v\xe9nement.","error")}):l.dismiss===St().DismissReason.cancel&&this.leaveS.refuserDemandeConge(o).subscribe(()=>{n.setProp("backgroundColor","red"),e.view.calendar.refetchEvents(),St().fire("Succ\xe8s","L'\xe9v\xe9nement a \xe9t\xe9 refus\xe9 avec succ\xe8s !","success")},c=>{console.error("Erreur lors du refus de l'\xe9v\xe9nement :",c),St().fire("Erreur","Une erreur s'est produite lors du refus de l'\xe9v\xe9nement.","error")})})}else console.error("ID de l'utilisateur non trouv\xe9 dans la description.")}static#e=this.\u0275fac=function(n){return new(n||t)(r.rXU(cy.d),r.rXU(qi),r.rXU(hy.O))};static#t=this.\u0275cmp=r.VBU({type:t,selectors:[["app-employee"]],inputs:{event:"event"},standalone:!0,features:[r.aNF],decls:9,vars:6,consts:[[1,"content"],[1,"card"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-md-12"],[1,"panel-body"],[3,"options","events"]],template:function(n,a){1&n&&(r.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),r.nrm(4,"app-breadcrumb",4),r.k0s()(),r.j41(5,"div",5)(6,"div",6)(7,"div",7),r.nrm(8,"full-calendar",8),r.k0s()()()()()),2&n&&(r.R7$(4),r.Y8G("title","Leaves")("items",r.lJ4(5,dy))("active_item","Leaves"),r.R7$(4),r.Y8G("options",a.options)("events",a.events))},dependencies:[Zt.D,R0.RI,Dt.m_,Et.Hl,Ta.uc,E0,po.E,po.x,oy.ad]})}return t})()},{path:"**",component:Sh.X}]},6021:Ca=>{function Pe(ue){return ue instanceof Buffer?Buffer.from(ue):new ue.constructor(ue.buffer.slice(),ue.byteOffset,ue.length)}Ca.exports=function F(ue){return(ue=ue||{}).circles?function At(ue){var K=[],te=[];return ue.proto?function j(L){if("object"!=typeof L||null===L)return L;if(L instanceof Date)return new Date(L);if(Array.isArray(L))return r(L,j);if(L instanceof Map)return new Map(r(Array.from(L),j));if(L instanceof Set)return new Set(r(Array.from(L),j));var S={};for(var H in K.push(L),te.push(S),L){var V=L[H];if("object"!=typeof V||null===V)S[H]=V;else if(V instanceof Date)S[H]=new Date(V);else if(V instanceof Map)S[H]=new Map(r(Array.from(V),j));else if(V instanceof Set)S[H]=new Set(r(Array.from(V),j));else if(ArrayBuffer.isView(V))S[H]=Pe(V);else{var ie=K.indexOf(V);S[H]=-1!==ie?te[ie]:j(V)}}return K.pop(),te.pop(),S}:function B(L){if("object"!=typeof L||null===L)return L;if(L instanceof Date)return new Date(L);if(Array.isArray(L))return r(L,B);if(L instanceof Map)return new Map(r(Array.from(L),B));if(L instanceof Set)return new Set(r(Array.from(L),B));var S={};for(var H in K.push(L),te.push(S),L)if(!1!==Object.hasOwnProperty.call(L,H)){var V=L[H];if("object"!=typeof V||null===V)S[H]=V;else if(V instanceof Date)S[H]=new Date(V);else if(V instanceof Map)S[H]=new Map(r(Array.from(V),B));else if(V instanceof Set)S[H]=new Set(r(Array.from(V),B));else if(ArrayBuffer.isView(V))S[H]=Pe(V);else{var ie=K.indexOf(V);S[H]=-1!==ie?te[ie]:B(V)}}return K.pop(),te.pop(),S};function r(L,S){for(var H=Object.keys(L),V=new Array(H.length),ie=0;ie<H.length;ie++){var Be=H[ie],se=L[Be];if("object"!=typeof se||null===se)V[Be]=se;else if(se instanceof Date)V[Be]=new Date(se);else if(ArrayBuffer.isView(se))V[Be]=Pe(se);else{var Xe=K.indexOf(se);V[Be]=-1!==Xe?te[Xe]:S(se)}}return V}}(ue):ue.proto?function r(B){if("object"!=typeof B||null===B)return B;if(B instanceof Date)return new Date(B);if(Array.isArray(B))return K(B,r);if(B instanceof Map)return new Map(K(Array.from(B),r));if(B instanceof Set)return new Set(K(Array.from(B),r));var j={};for(var L in B){var S=B[L];j[L]="object"!=typeof S||null===S?S:S instanceof Date?new Date(S):S instanceof Map?new Map(K(Array.from(S),r)):S instanceof Set?new Set(K(Array.from(S),r)):ArrayBuffer.isView(S)?Pe(S):r(S)}return j}:function te(B){if("object"!=typeof B||null===B)return B;if(B instanceof Date)return new Date(B);if(Array.isArray(B))return K(B,te);if(B instanceof Map)return new Map(K(Array.from(B),te));if(B instanceof Set)return new Set(K(Array.from(B),te));var j={};for(var L in B)if(!1!==Object.hasOwnProperty.call(B,L)){var S=B[L];j[L]="object"!=typeof S||null===S?S:S instanceof Date?new Date(S):S instanceof Map?new Map(K(Array.from(S),te)):S instanceof Set?new Set(K(Array.from(S),te)):ArrayBuffer.isView(S)?Pe(S):te(S)}return j};function K(B,j){for(var L=Object.keys(B),S=new Array(L.length),H=0;H<L.length;H++){var V=L[H],ie=B[V];S[V]="object"!=typeof ie||null===ie?ie:ie instanceof Date?new Date(ie):ArrayBuffer.isView(ie)?Pe(ie):j(ie)}return S}}}}]);