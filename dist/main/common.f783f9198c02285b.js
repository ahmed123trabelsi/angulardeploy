"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[76],{6374:(P,E,a)=>{a.d(E,{d:()=>h});var f=a(4412),d=a(4619),c=a(4438),n=a(1626);let h=(()=>{class p extends d.U{constructor(i){super(),this.httpClient=i,this.API_URL="http://localhost:3000/Conge",this.isTblLoading=!0,this.dataChange=new f.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllTodays(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:i=>{this.isTblLoading=!1,this.dataChange.next(i)},error:i=>{this.isTblLoading=!1,console.log(i.name+" "+i.message)}})}getAllUserswithconge(){return this.httpClient.get(this.API_URL+"/leaves")}static#t=this.\u0275fac=function(t){return new(t||p)(c.KVO(n.Qq))};static#e=this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},3876:(P,E,a)=>{a.d(E,{R:()=>p});var f=a(4412),d=a(1626),c=a(4619),n=a(4438),h=a(2490);let p=(()=>{class s extends c.U{constructor(t,o){super(),this.httpClient=t,this.cookieService=o,this.API_URL="http://localhost:5000/get-all-reports",this.isTblLoading=!0,this.dataChange=new f.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllReports(){const t=this.retrieveUserData(),o=new d.Lr({"Content-Type":"application/json",Authorization:`Bearer ${t}`});this.httpClient.get(this.API_URL,{headers:o}).subscribe({next:g=>{this.isTblLoading=!1,console.log("Data received:",g),this.dataChange.next(g)},error:g=>{this.isTblLoading=!1,console.error("Error:",g.name,g.message)}})}downloadReport(t){const o=this.retrieveUserData(),g=new d.Lr({"Content-Type":"application/json",Authorization:`Bearer ${o}`});return this.httpClient.get(`http://localhost:5000/download-report?filename=${t}`,{headers:g,responseType:"blob"})}addReport(t){this.dialogData=t}updateReport(t){this.dialogData=t}deleteReport(t){console.log(t)}retrieveUserData(){const t=this.cookieService.get("user_data");if(t)try{const o=JSON.parse(t);this.authToken=o.token}catch(o){console.error("Error decoding cookie:",o)}else console.error('Cookie "user_data" is not set')}static#t=this.\u0275fac=function(o){return new(o||s)(n.KVO(d.Qq),n.KVO(h.O))};static#e=this.\u0275prov=n.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},5518:(P,E,a)=>{a.d(E,{u:()=>D});var f=a(5351),d=a(9417),c=function(_){return _.SickLeave="Sick Leave",_.PaidLeave="paid leave",_.Unpaidleave="Unpaid leave",_.Bereavement="Bereavement",_.PersonalReasons="Personal Reasons",_.Maternity="Maternity",_.Paternity="Paternity",_.RTT="RTT",_.Other="Other",_}(c||{}),h=a(9631),p=a(2102),s=a(9213),i=a(8834),t=a(6600),o=a(1626),g=a(177),e=a(4438);const F=(_,r)=>({"fas fa-plus add-icon":_,"fas fa-pencil-alt edit-icon":r}),M=(_,r)=>({"red-text":_,"green-text":r});function R(_,r){1&_&&(e.j41(0,"mat-error"),e.EFF(1,"Tax Rate is required"),e.k0s())}function O(_,r){1&_&&(e.j41(0,"mat-error"),e.EFF(1,"Social Security Rate is required"),e.k0s())}function T(_,r){1&_&&(e.j41(0,"mat-error"),e.EFF(1,"Other Deductions is required"),e.k0s())}function b(_,r){1&_&&(e.j41(0,"mat-error"),e.EFF(1,"Value is required"),e.k0s())}function A(_,r){if(1&_){const l=e.RV6();e.j41(0,"div",12)(1,"mat-form-field",13)(2,"mat-label"),e.EFF(3),e.k0s(),e.j41(4,"input",29),e.bIt("input",function(m){const v=e.eBV(l).$implicit,y=e.XpG();return e.Njj(y.updateValue(m,v))}),e.k0s(),e.j41(5,"mat-icon",15),e.EFF(6,"Days"),e.k0s(),e.DNE(7,b,2,0,"mat-error",16),e.k0s()()}if(2&_){let l;const u=r.$implicit,m=e.XpG();e.R7$(3),e.JRh(u),e.R7$(),e.Y8G("formControlName",u),e.R7$(3),e.Y8G("ngIf",null==(l=m.PolicyForm.get(u))?null:l.hasError("required"))}}let D=(()=>{class _{constructor(l,u,m,v){this.dialogRef=l,this.data=u,this.fb=m,this.http=v,this.leaveTypes=Object.values(c),this.allowedDays=new Map,this.action=u.action,this.leads={},this.PolicyForm=this.createContactForm(),this.leaveTypes.forEach(y=>{this.allowedDays.set(y,this.leads.allowedDays?.get(y)||0)})}ngOnInit(){"EDIT"===this.action?(this.leads=this.data.policy,this.http.get(`http://localhost:3000/payment-policy/get/${this.leads._id}`).subscribe(u=>{this.leads=u,this.populateForm()})):this.populateForm()}createContactForm(){return this.fb.group({taxRate:[this.leads.taxRate||"",d.k0.required],socialSecurityRate:[this.leads.socialSecurityRate||"",d.k0.required],otherDeductions:[this.leads.otherDeductions||"",d.k0.required],paymentDay:[this.leads.paymentDay||""],exessDayPay:[this.leads.exessDayPay||""],allowedDays:this.createAllowedDaysFormGroup()})}createAllowedDaysFormGroup(){const l={};return Object.values(c).forEach(u=>{const m=this.leads.allowedDays?.get(u)||0;l[u]=new d.MJ(m,d.k0.required)}),this.fb.group(l)}submit(){this.PolicyForm.valid&&(this.PolicyForm.value.allowedDays=this.allowedDays)}confirmAdd(){if(this.PolicyForm.valid){const l=this.PolicyForm.getRawValue(),u={};this.allowedDays.forEach((v,y)=>{u[y]=v});const m={...l,allowedDays:u};"ADD"===this.action?this.http.post("http://localhost:3000/payment-policy",m).subscribe(v=>console.log("Payment Policy created successfully:",v),v=>console.error("Error while creating Payment Policy:",v)):"EDIT"===this.action&&this.http.put(`http://localhost:3000/payment-policy/put/${this.leads._id}`,m).subscribe(y=>console.log("Payment Policy updated successfully:",y),y=>console.error("Error while updating Payment Policy:",y))}}populateForm(){this.PolicyForm.patchValue({taxRate:this.leads.taxRate,socialSecurityRate:this.leads.socialSecurityRate,otherDeductions:this.leads.otherDeductions,paymentDay:this.leads.paymentDay,exessDayPay:this.leads.exessDayPay})}createAllowedDaysPatchValue(){const l={};return this.leaveTypes.forEach(u=>{const m=this.leads.allowedDays?.get(u);l[u]=m}),l}onNoClick(){this.dialogRef.close()}updateValue(l,u){const m=l.target.value?parseFloat(l.target.value):0;this.allowedDays.set(u,m)}static#t=this.\u0275fac=function(u){return new(u||_)(e.rXU(f.CP),e.rXU(f.Vh),e.rXU(d.ok),e.rXU(o.Qq))};static#e=this.\u0275cmp=e.VBU({type:_,selectors:[["app-form-dialog",5,"i"]],standalone:!0,features:[e.aNF],decls:70,vars:16,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"font-icon"],[1,"icon-preview"],[3,"ngClass"],["mat-dialog-title",""],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"ngSubmit","formGroup"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","taxRate","type","number","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","socialSecurityRate","type","number","required",""],["matInput","","formControlName","otherDeductions","type","number","required",""],["matInput","","formControlName","paymentDay","type","number"],["matInput","","formControlName","exessDayPay","type","number"],[2,"display","flex","align-items","center"],[2,"flex-grow","1","height","1px","background-color","black"],[2,"margin","0 10px"],["class","col-xl-6 col-lg-6 col-md-12 col-sm-12 mb-2",4,"ngFor","ngForOf"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["align","end",1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled","mat-dialog-close"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"],["matInput","","type","number","placeholder","Enter value",3,"input","formControlName"]],template:function(u,m){if(1&u&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.nrm(6,"i",6),e.k0s()(),e.j41(7,"h1",7)(8,"span",6),e.EFF(9),e.k0s()()()(),e.j41(10,"button",8),e.bIt("click",function(){return m.dialogRef.close()}),e.j41(11,"mat-icon"),e.EFF(12,"close"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10),e.bIt("ngSubmit",function(){return m.submit}),e.j41(15,"div",11)(16,"div",12)(17,"mat-form-field",13)(18,"mat-label"),e.EFF(19,"Tax Rate"),e.k0s(),e.nrm(20,"input",14),e.j41(21,"mat-icon",15),e.EFF(22,"attach_money"),e.k0s(),e.DNE(23,R,2,0,"mat-error",16),e.k0s()(),e.j41(24,"div",12)(25,"mat-form-field",13)(26,"mat-label"),e.EFF(27,"Social Security Rate"),e.k0s(),e.nrm(28,"input",17),e.j41(29,"mat-icon",15),e.EFF(30,"security"),e.k0s(),e.DNE(31,O,2,0,"mat-error",16),e.k0s()()(),e.j41(32,"div",11)(33,"div",12)(34,"mat-form-field",13)(35,"mat-label"),e.EFF(36,"Other Deductions"),e.k0s(),e.nrm(37,"input",18),e.j41(38,"mat-icon",15),e.EFF(39,"money_off"),e.k0s(),e.DNE(40,T,2,0,"mat-error",16),e.k0s()(),e.j41(41,"div",12)(42,"mat-form-field",13)(43,"mat-label"),e.EFF(44,"Payment Day"),e.k0s(),e.nrm(45,"input",19),e.j41(46,"mat-icon",15),e.EFF(47,"payment"),e.k0s()()()(),e.j41(48,"div",11)(49,"div",12)(50,"mat-form-field",13)(51,"mat-label"),e.EFF(52,"Excess Day Payment"),e.k0s(),e.nrm(53,"input",20),e.j41(54,"mat-icon",15),e.EFF(55,"attach_money"),e.k0s()()()(),e.j41(56,"div",21),e.nrm(57,"div",22),e.j41(58,"p",23),e.EFF(59,"Allowed Days"),e.k0s(),e.nrm(60,"div",22),e.k0s(),e.j41(61,"div",11),e.DNE(62,A,8,3,"div",24),e.k0s(),e.j41(63,"div",11)(64,"div",25)(65,"div",26)(66,"button",27),e.bIt("click",function(){return m.confirmAdd()}),e.EFF(67,"Save"),e.k0s(),e.j41(68,"button",28),e.bIt("click",function(){return m.onNoClick()}),e.EFF(69,"Cancel"),e.k0s()()()()()()()),2&u){let v,y,C;e.R7$(6),e.Y8G("ngClass",e.l_i(10,F,"ADD"===m.action,"EDIT"===m.action)),e.R7$(2),e.Y8G("ngClass",e.l_i(13,M,"EDIT"===m.action,"ADD"===m.action)),e.R7$(),e.SpI(" ","EDIT"===m.action?"Edit Policy":"Add Policy"," "),e.R7$(5),e.Y8G("formGroup",m.PolicyForm),e.R7$(9),e.Y8G("ngIf",null==(v=m.PolicyForm.get("taxRate"))?null:v.hasError("required")),e.R7$(8),e.Y8G("ngIf",null==(y=m.PolicyForm.get("socialSecurityRate"))?null:y.hasError("required")),e.R7$(9),e.Y8G("ngIf",null==(C=m.PolicyForm.get("otherDeductions"))?null:C.hasError("required")),e.R7$(22),e.Y8G("ngForOf",m.leaveTypes),e.R7$(4),e.Y8G("disabled",!m.PolicyForm.valid)("mat-dialog-close",1)}},dependencies:[i.Hl,i.$z,i.iY,s.m_,s.An,f.Yi,d.YN,d.qT,d.me,d.Q0,d.BC,d.cb,d.YS,d.X1,d.j4,d.JD,p.RG,p.rl,p.nJ,p.TL,p.yw,h.fS,h.fg,f.tx,t.Sy,o.q1,g.MD,g.YU,g.Sq,g.bT],styles:[".green-icon[_ngcontent-%COMP%]{color:#054905}.red-text[_ngcontent-%COMP%]{color:#5f0505}.green-text[_ngcontent-%COMP%]{color:#024502}.add-icon[_ngcontent-%COMP%]{color:#044604}.edit-icon[_ngcontent-%COMP%]{color:#5f0202}"]})}return _})()},1185:(P,E,a)=>{a.d(E,{HO:()=>d,uE:()=>n});var f=a(4438);let d=(()=>{class h{transform(s,i){if(null==s)return"";const t=i.length>0?parseInt(i[0],10):20,o=i.length>1?i[1]:"...";return s.length>t?s.substring(0,t)+o:s}static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275pipe=f.EJ8({name:"truncate",type:h,pure:!0,standalone:!0})}return h})(),n=(()=>{class h{transform(s){return s?s.replace(/<[^>]+>/g,""):""}static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275pipe=f.EJ8({name:"stripHtml",type:h,pure:!0,standalone:!0})}return h})()},1291:(P,E,a)=>{a.d(E,{d:()=>h});var f=a(4412),d=a(4619),c=a(4438),n=a(1626);let h=(()=>{class p extends d.U{constructor(i){super(),this.httpClient=i,this.API_URL="assets/data/estimates.json",this.isTblLoading=!0,this.dataChange=new f.t([]),this.apiUrl="http://localhost:3000"}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllEstimatess(){this.subs.sink=this.httpClient.get(this.apiUrl).subscribe({next:i=>{this.isTblLoading=!1,this.dataChange.next(i)},error:i=>{this.isTblLoading=!1,console.log(i.name+" "+i.message)}})}createTask(i){return this.httpClient.post(`${this.apiUrl}/task`,i)}getTasks(){return this.httpClient.get(`${this.apiUrl}/task`)}getTaskById(i){return this.httpClient.get(`${this.apiUrl}/task/${i}`)}updateTask(i,t){return this.httpClient.patch(`${this.apiUrl}/task/${i}`,t)}deleteTask(i){return this.httpClient.delete(`${this.apiUrl}/task/${i}`)}createTask2(i){return this.httpClient.post(`${this.apiUrl}/task/post`,i)}static#t=this.\u0275fac=function(t){return new(t||p)(c.KVO(n.Qq))};static#e=this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},2962:(P,E,a)=>{a.d(E,{I:()=>p});var f=a(4412),d=a(1626),c=a(8810),n=a(9437),h=a(4438);let p=(()=>{class s{constructor(t){this.httpClient=t,this.API_URL="http://localhost:3000/auth",this.API_URL1="http://localhost:3000/holidays",this.API_URL2="http://localhost:3000/attendance",this.httpOptions={headers:new d.Lr({"Content-Type":"application/json"})},this.dataChange=new f.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllCalendars(){return this.httpClient.get(this.API_URL).pipe((0,n.W)(this.errorHandler))}addUpdateCalendar(t){this.dialogData=t}deleteCalendar(t){this.dialogData=t}errorHandler(t){let o="";return o=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}\nMessage: ${t.message}`,console.log(o),(0,c.$)(o)}updateAttendanceList(t,o){return this.httpClient.post(this.API_URL2+"/att/"+t,o)}getAttendancesForUser(t){return this.httpClient.get(this.API_URL2+"/"+t)}getAllHolidays(){return this.httpClient.get(this.API_URL1)}getAllEmployeesWithAttendances(){return this.httpClient.get(this.API_URL2+"/currentWeek")}validatePresence(t,o){return this.httpClient.put(this.API_URL2+"/"+t+"/validate-presence",o)}getUsersWithAttendances(){return this.httpClient.get(this.API_URL2+"/allusers")}static#t=this.\u0275fac=function(o){return new(o||s)(h.KVO(d.Qq))};static#e=this.\u0275prov=h.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},6649:(P,E,a)=>{a.d(E,{H:()=>A});var f=a(9213),d=a(8834),c=a(8173),n=a(177),h=a(9437),p=a(8810),s=a(8032),i=a.n(s),t=a(4438),o=a(2962);const g=()=>["Home"],e=D=>({color:D});function F(D,_){if(1&D&&(t.j41(0,"th"),t.EFF(1),t.k0s()),2&D){const r=_.$implicit;t.R7$(),t.JRh(r)}}function M(D,_){if(1&D){const r=t.RV6();t.j41(0,"div")(1,"div",15)(2,"strong",16),t.EFF(3),t.k0s(),t.j41(4,"strong"),t.EFF(5),t.k0s(),t.j41(6,"div")(7,"a",17),t.bIt("click",function(){t.eBV(r);const u=t.XpG().$implicit,m=t.XpG(3).$implicit,v=t.XpG();return t.Njj(v.approveAttendance(m._id,u))}),t.j41(8,"i",18),t.EFF(9,"thumb_up"),t.k0s()(),t.j41(10,"a",17),t.bIt("click",function(){t.eBV(r);const u=t.XpG().$implicit,m=t.XpG(3).$implicit,v=t.XpG();return t.Njj(v.declineAttendance(m._id,u))}),t.j41(11,"i",19),t.EFF(12,"thumb_down"),t.k0s()()()()()}if(2&D){const r=t.XpG().$implicit,l=t.XpG(4);t.R7$(2),t.Y8G("ngStyle",t.eq3(3,e,l.getStatusColor(r.etat))),t.R7$(),t.JRh(l.formatDate(r.date)),t.R7$(2),t.JRh(r.status)}}function R(D,_){if(1&D&&(t.j41(0,"div"),t.DNE(1,M,13,5,"div",14),t.k0s()),2&D){const r=_.$implicit,l=t.XpG(2).$implicit,u=t.XpG(2);t.R7$(),t.Y8G("ngIf",u.getDayOfWeek(r.date)===l)}}function O(D,_){if(1&D&&(t.qex(0),t.DNE(1,R,2,1,"div",12),t.bVm()),2&D){const r=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngForOf",r.attendances)}}function T(D,_){if(1&D&&(t.j41(0,"td"),t.DNE(1,O,2,1,"ng-container",14),t.k0s()),2&D){const r=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",r.attendances)}}function b(D,_){if(1&D&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td")(4,"a",13),t.EFF(5),t.k0s()(),t.DNE(6,T,2,1,"td",12),t.k0s()),2&D){const r=_.$implicit,l=t.XpG();t.R7$(2),t.SpI("#",r.Matricule,""),t.R7$(2),t.Mz_("href","mailto:",r.email,"",t.B4B),t.R7$(),t.Lme("",r.lastName," ",r.firstName,""),t.R7$(),t.Y8G("ngForOf",l.daysOfWeek)}}let A=(()=>{class D{constructor(r){this.canladerS=r,this.employeesWithAttendances=[],this.daysOfWeek=["Monday","Tuesday","Wednesday","Thursday","Friday"]}ngOnInit(){this.getAllUsersWithAttendances()}getAllUsersWithAttendances(){this.canladerS.getAllEmployeesWithAttendances().subscribe(r=>{this.employeesWithAttendances=r,console.log(this.employeesWithAttendances)},r=>{console.error("Une erreur est survenue lors de la r\xe9cup\xe9ration des utilisateurs:",r)})}getDayOfWeek(r){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(r).getDay()]}validatePresence(r,l){this.canladerS.validatePresence(r,l).pipe((0,h.W)(u=>(console.error("Une erreur est survenue:",u),(0,p.$)("Une erreur est survenue lors de la validation de la pr\xe9sence.")))).subscribe(()=>{})}approveAttendance(r,l){i().fire({title:"Are you sure?",text:"Do you really want to approve this attendance?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, approve",cancelButtonText:"Cancel"}).then(u=>{u.isConfirmed&&(l.etat="Approved",this.validatePresence(r,[l]),i().fire("Approved!","The attendance has been approved successfully.","success"))})}declineAttendance(r,l){i().fire({title:"Are you sure?",text:"Do you really want to decline this attendance?",icon:"question",showCancelButton:!0,confirmButtonText:"Yes, decline",cancelButtonText:"Cancel"}).then(u=>{u.isConfirmed&&(l.etat="Declined",this.validatePresence(r,[l]),i().fire("Declined!","The attendance has been declined successfully.","success"))})}getStatusColor(r){switch(r){case"Approved":return"green";case"Declined":return"red";case"Pending":return"blue";default:return"black"}}formatDate(r){return new Date(r).toISOString().split("T")[0]}static#t=this.\u0275fac=function(l){return new(l||D)(t.rXU(o.I))};static#e=this.\u0275cmp=t.VBU({type:D,selectors:[["app-billing"]],standalone:!0,features:[t.aNF],decls:23,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],[1,"body"],[1,"card-body"],[1,"responsive_table"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[3,"href"],[4,"ngIf"],[2,"display","flex","flex-direction","column"],[3,"ngStyle"],[3,"click"],[1,"material-icons","m-r-10","col-green"],[1,"material-icons","m-r-10","col-red"]],template:function(l,u){1&l&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2),t.nrm(3,"app-breadcrumb",3),t.k0s(),t.j41(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h2"),t.EFF(9,"Validate Attendance"),t.k0s()(),t.j41(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"thead")(15,"tr")(16,"th"),t.EFF(17,"Matricule"),t.k0s(),t.j41(18,"th"),t.EFF(19,"Employee Name"),t.k0s(),t.DNE(20,F,2,1,"th",12),t.k0s()(),t.j41(21,"tbody"),t.DNE(22,b,7,6,"tr",12),t.k0s()()()()()()()()()()),2&l&&(t.R7$(3),t.Y8G("title","Attendance")("items",t.lJ4(5,g))("active_item","Attendance"),t.R7$(17),t.Y8G("ngForOf",u.daysOfWeek),t.R7$(2),t.Y8G("ngForOf",u.employeesWithAttendances))},dependencies:[c.D,d.Hl,f.m_,n.MD,n.Sq,n.bT,n.B3]})}return D})()},1722:(P,E,a)=>{a.d(E,{b:()=>p});var f=a(467),d=a(8834),c=a(5351),n=a(4438),h=a(7797);let p=(()=>{class s{constructor(t,o,g){this.dialogRef=t,this.data=o,this.MissionService=g}onNoClick(){this.dialogRef.close()}confirmDelete(){var t=this;return(0,f.A)(function*(){console.log(t.data.id),yield t.MissionService.deleteMission(t.data.id).subscribe()})()}static#t=this.\u0275fac=function(o){return new(o||s)(n.rXU(c.CP),n.rXU(c.Vh),n.rXU(h.E))};static#e=this.\u0275cmp=n.VBU({type:s,selectors:[["app-delete"]],standalone:!0,features:[n.aNF],decls:30,vars:5,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,g){1&o&&(n.j41(0,"div",0)(1,"h3",1),n.EFF(2,"Are you sure?"),n.k0s(),n.j41(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),n.EFF(8," Title: "),n.k0s(),n.EFF(9),n.k0s()(),n.j41(10,"li")(11,"p")(12,"span",4),n.EFF(13," Description: "),n.k0s(),n.EFF(14),n.k0s()(),n.j41(15,"li")(16,"p")(17,"span",4),n.EFF(18,"StartDate: "),n.k0s(),n.EFF(19),n.k0s()(),n.j41(20,"li")(21,"p")(22,"span",4),n.EFF(23,"EndDATE: "),n.k0s(),n.EFF(24),n.k0s()()()(),n.j41(25,"div",5)(26,"button",6),n.bIt("click",function(){return g.confirmDelete()}),n.EFF(27," Delete "),n.k0s(),n.j41(28,"button",7),n.bIt("click",function(){return g.onNoClick()}),n.EFF(29,"Cancel"),n.k0s()()()),2&o&&(n.R7$(9),n.JRh(g.data.title),n.R7$(5),n.JRh(g.data.description),n.R7$(5),n.SpI("",g.data.startdate," "),n.R7$(5),n.SpI("",g.data.enddate," "),n.R7$(2),n.Y8G("mat-dialog-close",1))},dependencies:[c.BI,c.Yi,c.E7,d.Hl,d.$z,c.tx]})}return s})()},7797:(P,E,a)=>{a.d(E,{E:()=>p});var f=a(4619),d=a(4412),c=a(4438),n=a(1626),h=a(2490);let p=(()=>{class s extends f.U{constructor(t,o){super(),this.http=t,this.cookieService=o,this.baseUrl="http://localhost:3000/missions",this.isTblLoading=!0,this.dataChange=new d.t([])}assignUserToMission(t,o){return this.http.post(`${this.baseUrl}/assign-user`,{missionId:t,userId:o})}getDialogData(){return this.dialogData}createMission(t){return this.http.post(`${this.baseUrl}/create`,t)}updateDataChange(t){this.dataChange.next(t)}getDataChange(){return this.dataChange.asObservable()}get data(){return this.dataChange.value}addMission(t){this.dialogData=t,console.log(this.getTokenFromCookie())}deleteMission(t){return this.http.delete(`${this.baseUrl}/${t}`)}updateMission(t,o){return this.http.put(`${this.baseUrl}/${t}`,o)}deleteMultipleMissions(t){return t.map(e=>e?.toString()),this.http.delete(`${this.baseUrl}/delete-multiple`)}getAllMissions(){const t=this.getTokenFromCookie();if(console.log(t),!t)throw new Error("ID du client introuvable dans le cookie.");this.subs.sink=this.http.get(`${this.baseUrl}/client/${t}`).subscribe({next:o=>{this.isTblLoading=!1,this.dataChange.next(o)},error:o=>{this.isTblLoading=!1,console.log(o.name+" "+o.message)}})}createAndAssignMission(t){const o=this.getTokenFromCookie();return this.http.post(`${this.baseUrl}/${o}`,t)}getTokenFromCookie(){if(this.cookieService.check("token")){let t=this.cookieService.get("token");return console.log(t),t}return null}static#t=this.\u0275fac=function(o){return new(o||s)(c.KVO(n.Qq),c.KVO(h.O))};static#e=this.\u0275prov=c.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},7853:(P,E,a)=>{a.d(E,{w:()=>h});var f=a(4412),d=a(4619),c=a(4438),n=a(1626);let h=(()=>{class p extends d.U{constructor(i){super(),this.httpClient=i,this.API_URL="assets/data/attendance.json",this.isTblLoading=!0,this.dataChange=new f.t([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAttendancess(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:i=>{this.isTblLoading=!1,this.dataChange.next(i)},error:i=>{this.isTblLoading=!1,console.log(i.name+" "+i.message)}})}addAttendances(i){this.dialogData=i}updateAttendances(i){this.dialogData=i}deleteAttendances(i){console.log(i)}static#t=this.\u0275fac=function(t){return new(t||p)(c.KVO(n.Qq))};static#e=this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},4317:(P,E,a)=>{a.d(E,{P:()=>n});var f=a(9417),d=a(8834),c=a(4438);let n=(()=>{class h{emitFiles(s){const i=s&&s.item(0);this.onChange(i),this.file=i}constructor(s){this.host=s,this.file=null}writeValue(s){this.host.nativeElement.value="",this.file=null}registerOnChange(s){this.onChange=s}registerOnTouched(s){}static#t=this.\u0275fac=function(i){return new(i||h)(c.rXU(c.aKT))};static#e=this.\u0275cmp=c.VBU({type:h,selectors:[["app-file-upload"]],hostBindings:function(i,t){1&i&&c.bIt("change",function(g){return t.emitFiles(g.target.files)})},standalone:!0,features:[c.Jv_([{provide:f.kq,useExisting:h,multi:!0}]),c.aNF],decls:6,vars:1,consts:[[1,"file-drop-area"],["mat-raised-button","","color","primary"],["type","file",1,"file-input"]],template:function(i,t){1&i&&(c.j41(0,"div",0)(1,"button",1),c.EFF(2,"Choose file"),c.k0s(),c.j41(3,"span"),c.EFF(4),c.k0s(),c.nrm(5,"input",2),c.k0s()),2&i&&(c.R7$(4),c.JRh(t.file?t.file.name:" or drag and drop file here"))},dependencies:[d.Hl,d.$z],styles:[".file-drop-area[_ngcontent-%COMP%]{border:1px dashed #7c7db3;border-radius:3px;position:relative;max-width:100%;margin-top:5px;padding:26px 20px 30px;transition:.2s}.file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-msg[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;font-size:12px;font-weight:500;color:#5b5bff}"]})}return h})()},1997:(P,E,a)=>{a.d(E,{w:()=>n});var f=a(4438),d=a(6600);let n=(()=>{class h{static#t=this.\u0275fac=function(i){return new(i||h)};static#e=this.\u0275mod=f.$C({type:h});static#a=this.\u0275inj=f.G2t({imports:[d.yE,d.yE]})}return h})()}}]);